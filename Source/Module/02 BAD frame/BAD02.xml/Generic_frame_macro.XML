<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" UNID="{A2C21335-EFF8-41D2-B2AA-5768C16A3286}-{58483B77-B0A2-494E-93A5-E89A66199A33}" Version="36">
  <Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
    <UNID>{F938E33A-329D-4A36-BE3E-85E126820996}-{A3B0AF3A-5916-490C-9C6A-B6BD047EF925}</UNID>
    <UNID>{103E8D2C-8230-42E1-9597-46F84CCE28C0}-{532B42DA-E2F0-4525-AE80-38E8A91A4E3F}</UNID>
  </Ancestry>
  <CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
  </CalledMacros>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_3D SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
IF NOT( BITTEST(macro_runtype,5) ) THEN END

! ---------------------------------------------------------------------- !

show_hot = 1					! Initialisierung Variable: werden Hotspots angezeigt oder nicht ?
								! (es werden PUT-Stacks für Profile und deren Hotspots verwendet)
cutti = 0						! Initialisierung Variable: werden Schnitte durchgeführt oder nicht?
_transom_move = 0				! Initialisierung Variable: Verschiebung Kämpfer in Längsrichtung

poly_mat2 = dk_materials[dka_side2_mat_BGS]	! Initialisierung Variable
IF C_ < tlr THEN C_ = 0.365		! Das war nur Entwicklungsintern, damit die Wandstärke nicht 0 wird
mat_rot = 19 					! Dummy-Kugel: nur Entwicklungsintern

! ---------- Variable auf "EIN" setzen, wenn kein Seitenlicht vorh.

IF gs_sidelight_right = 0 THEN dk_sidelight_transom1 = 1
IF gs_sidelight_left = 0  THEN dk_sidelight_transom2 = 1

! ---------------------------------------------------------------------- !
! -------------- Oberlichtteilungen

! ..... Setze bs_fanlight_division = "wie Türöffnung" auf nur 1 Seite, wenn nur 1 Seitenteil vorh. ist
! ...... Anmerkung Beister: Das ist kritisch, weil das auch im PS wirksam ist und die Auswahl verfälschen kann!

IF bs_door_sidelight = "L" THEN 
	IF bs_fanlight_division = 12 THEN bs_fanlight_division = 4
ENDIF

IF bs_door_sidelight = "R" THEN 
	IF bs_fanlight_division = 12 THEN bs_fanlight_division = 8
ENDIF

IF bs_door_sidelight = "-" THEN 
	IF bs_fanlight_division = 12 THEN bs_fanlight_division = 0
	IF bs_fanlight_division = 8 THEN bs_fanlight_division = 0
	IF bs_fanlight_division = 4 THEN bs_fanlight_division = 0
ENDIF


! -------------- ...

bs_spiegel_br_bs = bs_spiegel_br_bs + gs_vb
bs_spiegel_br_ob_bs = bs_spiegel_br_ob_bs + gs_vb

js_fanlight_division_left = 0
js_fanlight_division_right = 0
js_fanlight_division_sym = 0
js_fanlight_division_asym = 0

IF BITTEST(bs_fanlight_division,0) THEN js_fanlight_division_sym = 1 
IF BITTEST(bs_fanlight_division,1) THEN js_fanlight_division_asym = 1
IF BITTEST(bs_fanlight_division,2) THEN js_fanlight_division_left = 1
IF BITTEST(bs_fanlight_division,3) THEN js_fanlight_division_right = 1 
IF BITTEST(bs_fanlight_division,4) THEN js_fanlight_division_not = 1 


_kaempferlaenge = ac_wallhole_width - (dk_LOD >= 300) * gs_tolerance_left - (dk_LOD >= 300) * gs_tolerance_right - gs_sidelight_left * gs_sidelight_width_left - gs_sidelight_right * gs_sidelight_width_right\
					-  (NOT(gs_sidelight_left) AND NOT(gs_sidelight_right)) * (gs_frame_width_left + gs_frame_width_right)\
					- (_framewidth_left - _framewidth_post_right)* (gs_sidelight_right AND NOT(gs_sidelight_left))\
					- (_framewidth_right - _framewidth_post_left)* (gs_sidelight_left AND NOT(gs_sidelight_right)) 


! -------------- Einheitliche Materialien
IF GLOB_MODPAR_NAME = "dk_materials" AND dk_LOI < 5 THEN
	dka_frame_mat_BGS 	= dka_frame_mat_BS
	dka_side1_mat_BS 	= unifyingMaterial
	dka_side1_mat_BGS 	= unifyingMaterial
	dka_side2_mat_BS 	= unifyingMaterial
	dka_side2_mat_BGS 	= unifyingMaterial
	dka_fan_mat_BS 		= unifyingMaterial
	dka_fan_mat_BGS 	= unifyingMaterial
	ENDIF


! ---------------------------------------------------------------------- !
! -------- 3 D  -  S c r i p t ----------------------------------------- !
! ---------------------------------------------------------------------- !

MULx -1
ADD offsetFrameCenter, 0, offsetFrameSurfaceBS
ROTx -90 * (macro_runtype > 0)
MULy - 1

PEN dk_cont_pens[dka_frame_penC3]

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

LOD_3D = dk_LOD						! wird vom Hauptobjekt übergeben

IF LOD_3D > 399 THEN _glas_plus = gs_vb ELSE _glas_plus = 0

GOSUB "LOD_" + STR(LOD_3D, 1, 0)

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

! H O T S P O T S    3 D   E D I T A B L E

! KÄMPFERHÖHE

	IF gs_door_transom THEN
		HOTSPOT 0, 0, -0.1, 				htspt, ac_egress_height, 3			: htspt = htspt + 1
		HOTSPOT 0, 0, 	0, 					htspt, ac_egress_height, 1 + 128	: htspt = htspt + 1
		HOTSPOT 0, 0, ac_egress_height, 	htspt, ac_egress_height, 2			: htspt = htspt + 1		
	ENDIF

! ......................... !

! Seitenfeld rechts

	IF gs_sidelight_right AND gs_sidelight_left THEN
		ADD -clearingFrameCenter + frame_out_dims_x/2, _frame_thk_post - gs_ub_st2, 0
		HOTSPOT 0.1, 						0, 0,	htspt, gs_sidelight_width_right, 3			: htspt = htspt + 1
		HOTSPOT 0, 							0, 0,	htspt, gs_sidelight_width_right, 1 + 128	: htspt = htspt + 1
		HOTSPOT -gs_sidelight_width_right,	0, 0, 	htspt, gs_sidelight_width_right, 2			: htspt = htspt + 1		
		DEL 1
	ENDIF

! ......................... !

! Durchgangsbreite

	IF gs_sidelight_right AND gs_sidelight_left THEN
		ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right, _frame_thk_post - gs_ub_st2, 0
		HOTSPOT 0.1, 				0, 0,	htspt, ac_egress_width, 3			: htspt = htspt + 1
		HOTSPOT 0, 					0, 0,	htspt, ac_egress_width, 1 + 128		: htspt = htspt + 1
		HOTSPOT -ac_egress_width,	0, 0, 	htspt, ac_egress_width, 2			: htspt = htspt + 1		
		DEL 1
	ENDIF

! ......................... !

! Durchgangsbreite

	IF gs_sidelight_right  AND NOT(gs_sidelight_left) THEN
		ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, _frame_thk_post - gs_ub_st2, 0
		HOTSPOT -0.1, 				0, 0,	htspt, ac_egress_width, 3			: htspt = htspt + 1
		HOTSPOT 0, 					0, 0,	htspt, ac_egress_width, 1 + 128		: htspt = htspt + 1
		HOTSPOT ac_egress_width,	0, 0, 	htspt, ac_egress_width, 2			: htspt = htspt + 1		
		DEL 1
	ENDIF

! ......................... !

! Durchgangsbreite

	IF gs_sidelight_left AND NOT(gs_sidelight_right) THEN
		ADD -clearingFrameCenter + frame_out_dims_x/2 - _framewidth_right, _frame_thk_post - gs_ub_st2, 0
		HOTSPOT 0.1, 				0, 0,	htspt, ac_egress_width, 3			: htspt = htspt + 1
		HOTSPOT 0, 					0, 0,	htspt, ac_egress_width, 1 + 128		: htspt = htspt + 1
		HOTSPOT -ac_egress_width,	0, 0, 	htspt, ac_egress_width, 2			: htspt = htspt + 1		
		DEL 1
	ENDIF

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

WHILE NSP DO			! Buffer leeren, weil letzte Zeile nicht genutzt wird
	www_sub = GET(1)
ENDWHILE

DEL 4

END  offsetFrameSurfaceBGS,
		facingLintelBS, facingLintelBGS,
		frame2wallSurfaceBS, frame2wallSurfaceBGS, htspt

! ---------------------------- E N D ----------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------- SUBS ------------------------------------ !

1: ! D U M M Y   S P H E R E

	MATERIAL mat_rot
	SPHERE 0.01
	!HOTSPOT 0, 0, 0 , htspt : htspt = htspt + 1

RETURN

2: ! S I N G L E   H O T S P O T

	HOTSPOT 0, 0, 0, htspt : htspt = htspt + 1

RETURN

3: ! M I C R O - S P H E R E

	MATERIAL mat_rot
	!SPHERE 0.01

RETURN

! ---------------------------------------------------------------------- !

"LOD_100":

	! H I E R    G I B T     E S     K E I N E     E L E M E N T E

RETURN

! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    2  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_200":			! Nur 2 Folien mit Dicke und Abstand tlr

	ausschnitt = ac_egress_width + NOT(gs_sidelight_right) * gs_frame_width_right +  NOT(gs_sidelight_left) * gs_frame_width_left
	ausschnitt = ausschnitt + gs_vb * NOT(gs_sidelight_right AND gs_sidelight_left)
	ausschnitt = ausschnitt + NOT(gs_sidelight_right) * gs_tolerance_right + NOT(gs_sidelight_left) * gs_tolerance_left
	IF oberLichtBlende # 1 THEN ausschnitt_hoehe = ac_wallhole_height ELSE ausschnitt_hoehe = ac_egress_height

	ADDx - clearingFrameCenter 

	IF gs_sidelight_left AND NOT(gs_sidelight_right) 		THEN ADDx -frame_out_dims_x/2 + gs_sidelight_width_left + gs_tolerance_left 
	IF gs_sidelight_right AND NOT(gs_sidelight_left) 		THEN ADDx -frame_out_dims_x/2
	IF gs_sidelight_left AND gs_sidelight_right 			THEN ADDx -frame_out_dims_x/2 + gs_sidelight_width_left + gs_tolerance_left 
	IF NOT(gs_sidelight_left) AND NOT(gs_sidelight_right) 	THEN ADDx -frame_out_dims_x/2 

	ROTx 90
	CUTPOLY 4,
	0, 0,
	ausschnitt, 0,
	ausschnitt, ausschnitt_hoehe,
	0, ausschnitt_hoehe
	DEL 2

	MATERIAL dk_materials[dka_frame_mat_BS]
	ROTx 90
	PRISM_ 4, symbolicTHK,
	- frame_out_dims_x/2, 0, 15,
	- frame_out_dims_x/2, ac_wallhole_height, 15,
	  frame_out_dims_x/2, ac_wallhole_height, 15,
	  frame_out_dims_x/2, 0, 15
	DEL 1	

	MATERIAL dk_materials[dka_frame_mat_BGS]
	ROTx 90
	ADDz - symbolicTHK
	PRISM_ 4, symbolicTHK,
	- frame_out_dims_x/2, 0, 15,
	- frame_out_dims_x/2, ac_wallhole_height, 15,
	  frame_out_dims_x/2, ac_wallhole_height, 15,
	  frame_out_dims_x/2, 0, 15
	DEL 2

	CUTEND

	DEL 1

RETURN

! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    3  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_300":


	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]
	poly_fill 		= dk_fills[dka_frame_fill] 
	poly_fill_pen 	= dk_fill_pens[dka_frame_penF] 
	poly_bg_pen 	= dk_bkg_pens[dka_frame_penB] 

	poly_x 			= _framewidth_left
	poly_y 			= gs_vt 
	poly_height		= frame_out_dims_z 
	poly_z1			= _frame_width_upper					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes 			
	poly_z2 		= 0

	IF dk_frametype  = "BZ" THEN poly_yi = frame_out_dims_y 
	IF dk_frametype  = "UZ" THEN poly_yi = frame_out_dims_y + gs_ub_st2

	schraffurtyp		= dk_fills[dka_frame_fill]			
	schraffurstift 		= dk_fill_pens[dka_frame_penF]		
	hintergrundstift	= dk_bkg_pens[dka_frame_penB]		
	konturenstift		= dk_cont_pens[dka_frame_penC2]		
	poly_mat			= dk_materials[dka_frame_mat_BS]	

	_ro_plus			= gs_tolerance_upper * NOT(gs_door_transom)		! Rahmenbreite oben breiter, da es in dem LOD keine Toleranz gibt

	! -------- Z a r g e   B a n d s e i t e

	ADD -clearingFrameCenter - frame_out_dims_x/2, 0, 0
	GOSUB "LOD_300_frame"
	DEL 1

	poly_x 			= _framewidth_right
	poly_z2 		= 0
	ADD -clearingFrameCenter + frame_out_dims_x/2, 0, 0
	MULx -1
	GOSUB "LOD_300_frame"
	DEL 2

	poly_x 			= _frame_width_upper + _ro_plus
	poly_height		= frame_out_dims_x - NOT(_oben_gehrung) * (_framewidth_right + _framewidth_left)
	poly_z1			= _framewidth_right					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes 	
	poly_z2			= _framewidth_left					! Höhe/Länge des durch CUTPLANE abzuziehenden unterem Anschlussstückes 
	show_hot 		= 0
	ADD -clearingFrameCenter - frame_out_dims_x/2 + NOT(_oben_gehrung) * _framewidth_left, 0, frame_out_dims_z
	ROTy 90
	GOSUB "LOD_300_frame"
	DEL 2

	! -------- Z a r g e   B a n d g e g e n s e i t e

	poly_x 			= _framewidth_left
	poly_y 			= frame_out_dims_y - gs_vt
	poly_height		= frame_out_dims_z	
	poly_mat		= dk_materials[dka_frame_mat_BGS]	
	poly_z1			= _frame_width_upper					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes
	ADDy gs_vt

	ADD -clearingFrameCenter - frame_out_dims_x/2, 0, 0
	poly_z2 = 0
	GOSUB "LOD_300_frame"
	DEL 1

	poly_x 			= _framewidth_right
	poly_z2 		= 0
	ADD -clearingFrameCenter + frame_out_dims_x/2, 0, 0
	MULx -1
	GOSUB "LOD_300_frame"
	DEL 2

	poly_x 			= _frame_width_upper + _ro_plus
	poly_height		= frame_out_dims_x  - NOT(_oben_gehrung) * (_framewidth_right + _framewidth_left)
	poly_z1			= _framewidth_right					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes 	
	poly_z2			= _framewidth_left					! Höhe/Länge des durch CUTPLANE abzuziehenden unterem Anschlussstückes 
	show_hot 		= 0
	ADD -clearingFrameCenter - frame_out_dims_x/2 + NOT(_oben_gehrung) * _framewidth_left, 0, frame_out_dims_z
	ROTy 90
	GOSUB "LOD_300_frame"
	DEL 2

	! ----------------------------------------------------------------- !
	DEL 1				! gs_vt

	GOSUB "Fuellung_300"

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	! -------- K Ä M P F E R    B a n d s e i t e

	IF gs_door_transom THEN		
		poly_y 			= gs_vt	
		poly_mat		= dk_materials[dka_frame_mat_BS]
		
		IF gs_sidelight_left AND dk_sidelight_transom2 THEN		! Kämpfer links, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left  + gs_tolerance_left
			ADDz poly_x + ac_egress_height
			ADDx -clearingFrameCenter - frame_out_dims_x/2  + _framewidth_left 
			cutti = 0
			GOSUB "LOD_350_riegel_BS_2"
			DEL 2
		ENDIF

		IF gs_sidelight_right AND dk_sidelight_transom1 THEN		! Kämpfer rechts, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_tolerance_right
			ADDz poly_x + ac_egress_height
			ADDx -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + _framewidth_post_right - gs_tolerance_right
			cutti = 0
			GOSUB "LOD_350_riegel_BS_2"
			DEL 2
		ENDIF

		IF bs_inner_frame # 2 THEN									! Kämpfer mitte BS, wenn keine Oberblende
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= _kaempferlaenge + (gs_sidelight_right AND gs_sidelight_left) * (_framewidth_post_right + _framewidth_post_left)
			ADDz poly_x + ac_egress_height
			ADDx -clearingFrameCenter - frame_out_dims_x/2  + gs_sidelight_left * gs_sidelight_width_left + NOT(gs_sidelight_left) * _framewidth_left \
				 - _framewidth_post_left * (gs_sidelight_left AND NOT(gs_sidelight_right))\
				 - ( _framewidth_post_left  ) * (gs_sidelight_left AND gs_sidelight_right)  + gs_tolerance_left
			cutti = 1
			GOSUB "LOD_350_riegel_BS"
			DEL 2
		ENDIF

	ENDIF

	! -------- P F O S T E N   B a n d s e i t e

	IF gs_door_transom THEN
		poly_height = ac_egress_height + _frame_width_transom
		_abzug_oben = _frame_width_transom
	ELSE
		poly_height = frame_out_dims_z - _frame_width_upper - _ro_plus
		_abzug_oben = 0
	ENDIF
	poly_mat		= dk_materials[dka_frame_mat_BS]	
	poly_y = gs_vt	

	IF gs_sidelight_left THEN 
		_sidelight_width = gs_sidelight_width_left 
		_framewidth = _framewidth_left
		poly_x = _framewidth_post_left 
		ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_tolerance_left , 0, 0
		GOSUB "LOD_350_sidepost_BS"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		_sidelight_width = gs_sidelight_width_right + gs_tolerance_right
		_framewidth = _framewidth_right
		poly_x = _framewidth_post_right
		ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + poly_x  - gs_tolerance_right, 0, 0
		MULx -1
		GOSUB "LOD_350_sidepost_BS"
		DEL 2
	ENDIF

	IF gs_door_transom AND bs_inner_frame # 2 AND cutti = 1 THEN CUTEND

	! -------- P F O S T E N   O B E N   B a n d s e i t e

	IF gs_door_transom THEN
		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom 
		_abzug_oben = 0

		poly_mat		= dk_materials[dka_frame_mat_BS]	
		poly_y = gs_vt

		IF js_fanlight_division_left THEN 
			_sidelight_width = gs_sidelight_width_left
			_framewidth = _framewidth_left
			poly_x = _framewidth_post_left
			ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_tolerance_left, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_right THEN 
			_sidelight_width = gs_sidelight_width_right
			_framewidth = _framewidth_right
			poly_x = _framewidth_post_right
			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right - gs_tolerance_right , 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_sym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -poly_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_asym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -clearingFrameCenter - frame_out_dims_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

	ENDIF

	! -------- R I E G E L    B a n d s e i t e

	cutti = 0
	_abzug_oben		= 0
	poly_x 			= _frame_width_bottom_sl  
	poly_y 			= gs_vt	
	poly_mat		= dk_materials[dka_frame_mat_BS]	
	poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_tolerance_left
	ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, 0 , poly_x
	poly_ys			= gs_vt - bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
	IF gs_sidelight_left THEN GOSUB "LOD_350_riegel_unten_BS"
	DEL 1

	poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right  + gs_tolerance_right
	ADD -clearingFrameCenter + frame_out_dims_x/2 + _framewidth_post_right - gs_sidelight_width_right - gs_tolerance_right, 0 , poly_x
	poly_ys			= gs_vt - bs_sidelight_filling_thk1								! Stärke der Seitenteilfüllung rechts
	IF gs_sidelight_right THEN GOSUB "LOD_350_riegel_unten_BS"
	DEL 1

	! ---------------------------------------------------------------------- !
	! B A N D G E G E N S E I T E
										poly_y = frame_out_dims_y - gs_vt
	! ---------------------------------------------------------------------- !
	
	ADDy gs_vt	


	! -------- K Ä M P F E R    B a n d g e g e n s e i t e

	IF gs_door_transom THEN	
		ADDy - gs_vt								

		poly_mat		= dk_materials[dka_frame_mat_BGS]								
	
		IF gs_sidelight_left AND dk_sidelight_transom2 THEN		! Kämpfer links, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_tolerance_left
			ADDz poly_x + ac_egress_height
			ADD -clearingFrameCenter - frame_out_dims_x/2  + _framewidth_left, gs_vt , 0 
			cutti = 0
			GOSUB "LOD_350_riegel"
			DEL 2
		ENDIF

		IF gs_sidelight_right AND dk_sidelight_transom1 THEN		! Kämpfer rechts, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_tolerance_right
			ADDz poly_x + ac_egress_height
			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + _framewidth_post_right - gs_tolerance_right, gs_vt , 0 
			cutti = 0
			GOSUB "LOD_350_riegel"
			DEL 2
		ENDIF

		IF bs_inner_frame # 2 THEN									! Kämpfer mitte BGS, wenn keine Oberblende
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= _kaempferlaenge + (gs_sidelight_right AND gs_sidelight_left) * (_framewidth_post_right + _framewidth_post_left)  
			ADDz poly_x + ac_egress_height


			ADD -clearingFrameCenter - frame_out_dims_x/2  + gs_sidelight_left * gs_sidelight_width_left + NOT(gs_sidelight_left) * _framewidth_left \
				 - _framewidth_post_left * (gs_sidelight_left AND NOT(gs_sidelight_right)) \
				 - ( _framewidth_post_left  ) * (gs_sidelight_left AND gs_sidelight_right) + gs_tolerance_left, gs_vt , 0 

			cutti = 1
			GOSUB "LOD_350_riegel"
			DEL 2
		ENDIF

		DEL 1
	ENDIF

	! -------- P F O S T E N   B a n d g e g e n s e i t e
	IF gs_door_transom THEN
		poly_height = ac_egress_height + _frame_width_transom
		_abzug_oben = _frame_width_transom
	ELSE
		poly_height = frame_out_dims_z - _frame_width_upper - _ro_plus
		_abzug_oben = 0
	ENDIF
	poly_mat		= dk_materials[dka_frame_mat_BGS]	

	IF gs_sidelight_left THEN 
		_sidelight_width = gs_sidelight_width_left
		_framewidth = _framewidth_left
		poly_x = _framewidth_post_left
		ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_tolerance_left, 0, 0
		GOSUB "LOD_350_sidepost"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		_sidelight_width = gs_sidelight_width_right
		_framewidth = _framewidth_right
		poly_x = _framewidth_post_right
		ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + poly_x - gs_tolerance_right, 0, 0
		MULx -1
		GOSUB "LOD_350_sidepost"
		DEL 2
	ENDIF

	IF gs_door_transom AND bs_inner_frame # 2 AND cutti THEN  CUTEND

	! IF NOT(gs_door_transom) THEN
	! 	IF gs_sidelight_left THEN 
	! 		IF _frame_thk_post > poly_yi THEN
	! 			!poly_y = - poly_yi + _frame_thk_post
	! 			ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x, poly_yi - gs_vt, frame_out_dims_z - _frame_width_upper 
	! 			poly_height = _frame_width_upper
	! 			GOSUB "LOD_350_sidepost"
	! 			DEL 1
	! 		ENDIF
	! 	ENDIF
	
	! 	IF gs_sidelight_right THEN 
	! 		IF _frame_thk_post > poly_yi THEN
	! 			!poly_y = - poly_yi + _frame_thk_post
	! 			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right, poly_yi - gs_vt, frame_out_dims_z - _frame_width_upper 
	! 			poly_height = _frame_width_upper
	! 			GOSUB "LOD_350_sidepost"
	! 			DEL 1
	! 		ENDIF
	! 	ENDIF
	! ENDIF

	! -------- P F O S T E N   O B E N   B a n d g e g e n s e i t e

	IF gs_door_transom THEN
		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		_abzug_oben = 0!_frame_width_transom

		poly_mat		= dk_materials[dka_frame_mat_BGS]	

		IF js_fanlight_division_left THEN 
			_sidelight_width = gs_sidelight_width_left
			_framewidth = _framewidth_left
			poly_x = _framewidth_post_left
			ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_tolerance_left, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1

			! Variablen für Pfosten hinter Obergurt
			IF dk_frametype = "BZ" OR dk_frametype = "UZ" THEN 
				_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				_my_ueb = gs_ub_st2 * 2
			ENDIF
			IF dk_frametype = "EZ" OR dk_frametype = "RR" THEN 
				IF NOT(dk_different_frame_thk) THEN 
					_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				ELSE
					_my_frame_thk = dk_frame_thk_EZ
				ENDIF
				IF dk_frametype = "EZ" THEN _my_ueb = 0
				IF dk_frametype = "RR" THEN _my_ueb = 0
			ENDIF

			! Pfosten hinter Obergurt
			IF _frame_thk_post > _my_frame_thk + _my_ueb THEN
				!poly_y = _frame_thk_post - ( _my_frame_thk + _my_ueb )
				ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_tolerance_left, poly_yi - gs_vt + _my_ueb , poly_height + ac_egress_height + _frame_width_transom
				poly_height = _frame_width_upper + gs_ub_st1 * (dk_frametype # "EZ")
				GOSUB "LOD_350_sidepost"
				DEL 1
			ENDIF

		ENDIF

		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		IF js_fanlight_division_right THEN 
			_sidelight_width = gs_sidelight_width_right
			_framewidth = _framewidth_right
			poly_x = _framewidth_post_right
			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right - gs_tolerance_right, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1

			! Variablen für Pfosten hinter Obergurt
			IF dk_frametype = "BZ" OR dk_frametype = "UZ" THEN 
				_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				_my_ueb = gs_ub_st2 * 2
			ENDIF
			IF dk_frametype = "EZ" OR dk_frametype = "RR" THEN 
				IF NOT(dk_different_frame_thk) THEN 
					_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				ELSE
					_my_frame_thk = dk_frame_thk_EZ
				ENDIF
				IF dk_frametype = "EZ" THEN _my_ueb = 0
				IF dk_frametype = "RR" THEN _my_ueb = 0
			ENDIF

			! Pfosten hinter Obergurt

			IF _frame_thk_post > _my_frame_thk + _my_ueb THEN
				!poly_y = _frame_thk_post - ( _my_frame_thk + _my_ueb )
				ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right - gs_tolerance_right, poly_yi - gs_vt + _my_ueb, poly_height + ac_egress_height + _frame_width_transom
				poly_height = _frame_width_upper + gs_ub_st1 * (dk_frametype # "EZ")
				GOSUB "LOD_350_sidepost"
				DEL 1
			ENDIF

		ENDIF

		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		IF js_fanlight_division_sym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -poly_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_asym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -clearingFrameCenter - frame_out_dims_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

	ENDIF

	! -------- R I E G E L    B a n d g e g e n s e i t e

	ADDy - gs_vt

	poly_x 			= _frame_width_bottom_sl
	poly_mat		= dk_materials[dka_frame_mat_BGS]	
	poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_tolerance_left
	ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, gs_vt , poly_x
	IF gs_sidelight_left THEN GOSUB "LOD_350_riegel_unten"
	DEL 1

	poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_tolerance_right
	ADD -clearingFrameCenter + frame_out_dims_x/2 + _framewidth_post_right - gs_sidelight_width_right - gs_tolerance_right, gs_vt  , poly_x
	IF gs_sidelight_right GOSUB "LOD_350_riegel_unten"
	DEL 1

	DEL 1

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	DEL 1

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"Fuellung_300":

	ADDy gs_vt

	! ----------- F Ü L L U N G --------------------------------------- !

	poly_x1 = gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_tolerance_left					! Breite linkes Seitenteil
	poly_x2 = gs_sidelight_width_right - _framewidth_right	- _framewidth_post_right									! Breite rechtes Seitenteil
	poly_x3 = frame_out_dims_x - _framewidth_left - _framewidth_right													! Breite gesamt
	poly_x4 = poly_x3 - gs_sidelight_width_right + _framewidth_right + _framewidth_post_left - gs_tolerance_right	! Breite von links bis A.K. rechtes Seitenteil

	poly_y1 = ac_egress_height																! Durchgangshöhe bei Oberlicht
	poly_y2 = frame_out_dims_z - ac_egress_height - _frame_width_upper						! Höhe Oberlicht
	poly_y3 = frame_out_dims_z - _framewidth_left - _framewidth_left						! Höhe Gesamt bei Oberlicht
	poly_z1 =  bs_sidelight_filling_thk1/2													! Füllungsstärke


	ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, 0, _frame_width_bottom_sl
	ROTx 90


	IF NOT(gs_door_transom) THEN

		IF gs_sidelight_left THEN

			MATERIAL dk_materials[dka_side2_mat_BGS]
			GOSUB "fill_LOD300_1"
			ADDz poly_z1
			MATERIAL dk_materials[dka_side2_mat_BS]
			GOSUB "fill_LOD300_1"
			DEL 1		
	
		ENDIF
	
		IF gs_sidelight_right THEN

			MATERIAL dk_materials[dka_side1_mat_BGS]
			GOSUB "fill_LOD300_2"
			ADDz poly_z1
			MATERIAL dk_materials[dka_side1_mat_BS]
			GOSUB "fill_LOD300_2"
			DEL 1	
	
		ENDIF

	ENDIF

	IF gs_door_transom THEN


		IF NOT(gs_sidelight_left) AND NOT(gs_sidelight_right) THEN
			MATERIAL dk_materials[dka_side2_mat_BGS]
			GOSUB "fill_LOD300_4"
			ADDz poly_z1
			MATERIAL dk_materials[dka_side2_mat_BS]
			GOSUB "fill_LOD300_4"
			DEL 1		
		ENDIF

		IF NOT(gs_sidelight_left) AND gs_sidelight_right THEN		
			MATERIAL dk_materials[dka_side2_mat_BGS]
			GOSUB "fill_LOD300_6"
			ADDz poly_z1
			MATERIAL dk_materials[dka_side1_mat_BS]
			GOSUB "fill_LOD300_6"
			DEL 1
		ENDIF

		IF gs_sidelight_left AND NOT(gs_sidelight_right) THEN 
			MATERIAL dk_materials[dka_side1_mat_BGS]
			GOSUB "fill_LOD300_5"
			ADDz poly_z1
			MATERIAL dk_materials[dka_side2_mat_BS]
			GOSUB "fill_LOD300_5"
			DEL 1
		ENDIF

		IF gs_sidelight_left AND  gs_sidelight_right THEN
			MATERIAL dk_materials[dka_side2_mat_BGS]
			GOSUB "fill_LOD300_7"
			ADDz poly_z1
			MATERIAL dk_materials[dka_side2_mat_BS]
			GOSUB "fill_LOD300_7"
			DEL 1		
		ENDIF

	ENDIF

	DEL 2

	DEL 1

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !



	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_300_frame":
	
		GOSUB "LOD_300_frame_PUT"
		GOSUB "PRISM_"
	
		! ......................... !
	
		IF show_hot THEN
			GOSUB "LOD_300_frame_PUT"	
			GOSUB "HOTSPOTS_3D_FRAME"
		ENDIF

	RETURN

		! -------------------------------------------------------------- !
	
		"LOD_300_frame_PUT":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !


! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    3  5  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_350":

	ADDx 0   !-gs_tolerance_left + gs_tolerance_right		! ????????????? oder -clearingFrameCenter

	bs_folding_nmbr = 0

	GOSUB "LOD_500"

	DEL 1   ! ?????????????

RETURN

! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    4  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_400":

	bs_folding_nmbr = (bs_folding_nmbr > 0)

	GOSUB "LOD_500"

RETURN

! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    5  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_500":		! LOD 350, 400 + 500

	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]
	poly_fill 		= dk_fills[dka_frame_fill] 
	poly_fill_pen 	= dk_fill_pens[dka_frame_penF] 
	poly_bg_pen 	= dk_bkg_pens[dka_frame_penB] 

	poly_x 			= _framewidth_left
	poly_y 			= gs_vt
	poly_height		= frame_out_dims_z + gs_ub_st1
	poly_z1			= _frame_width_upper					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes 			
	poly_z2 		= 0

	poly_x1 		= gs_ub_st1								! seitlicher Überstand X
	poly_x2 		= gs_fuge								! Luft Zarge zu Wand X
	poly_x3 		= bs_spiegel_br_bs						! Spiegelbreite BS X
	poly_x4 		= gs_vb									! Falzbreite X
	poly_x5 		= bs_spiegel_br_bgs						! Spiegelbreite BGS X

	poly_y1 		= gs_ub_st2								! seitlicher Überstand Y 
	poly_yt 		= 0.01									! Stärke der seitlichen Blockzargen-Nippel (Hard-Codiert)  ### TODO prüfen FRANK
	poly_y4 		= gs_vt									! Falztiefe Y

	_oeffnung_x 	= frame_out_dims_x - gs_sidelight_right * gs_sidelight_width_right - gs_sidelight_left * gs_sidelight_width_left \
						- NOT(gs_sidelight_right) * _framewidth_right - NOT(gs_sidelight_left) * _framewidth_left
	_oeffnung_y 	= (NOT(gs_door_transom) OR bs_inner_frame = 2) * (frame_out_dims_z - _frame_width_upper) + (gs_door_transom AND bs_inner_frame # 2) * ac_egress_height
	_falz_x			= _oeffnung_x + 2 * gs_vb
	_falz_y			= _oeffnung_y + 1 * gs_vb

	IF dk_frametype  = "BZ" THEN poly_yi = frame_out_dims_y 
	IF dk_frametype  = "UZ" THEN poly_yi = frame_out_dims_y + gs_ub_st2

	IF dk_frametype  = "EZ" OR dk_frametype  = "RR" THEN
		poly_yi = frameThickness   ! by Beister
		! IF dk_different_frame_thk THEN poly_yi = dk_frame_thk_EZ ELSE poly_yi = gs_frame_thk 
	ENDIF

	_korrektur_350		= 0
	_ro_plus_o			= gs_tolerance_upper * (LOD_3D < 399) * NOT(gs_door_transom)				! Rahmenbreite oben breiter, da es in dem LOD 350 keine Toleranz gibt
	_ro_plus_l			= gs_tolerance_left * (LOD_3D < 399) * NOT(gs_door_transom)				! Rahmenbreite links breiter, da es in dem LOD 350 keine Toleranz gibt
	_ro_plus_r			= gs_tolerance_right * (LOD_3D < 399) * NOT(gs_door_transom)				! Rahmenbreite rechts breiter, da es in dem LOD 350 keine Toleranz gibt


	! ---------------------------------------------------------------------- !

	schraffurtyp		= dk_fills[dka_frame_fill]			
	schraffurstift 		= dk_fill_pens[dka_frame_penF]		
	hintergrundstift	= dk_bkg_pens[dka_frame_penB]		
	konturenstift		= dk_cont_pens[dka_frame_penC2]		
	poly_mat			= dk_materials[dka_frame_mat_BS]	


	! ......................... !

	! Mehrfachfalze
	poly_x8 		= dk_folding_dimensions[1][2]	! Breite doppelter Falz
	poly_y8 		= dk_folding_dimensions[1][1]	! Tiefe doppeleter Falz
	poly_x9 		= dk_folding_dimensions[2][2]	! Breite Falz 2 dreifacher Falz
	poly_y9 		= dk_folding_dimensions[2][1]	! Tiefe Falz 2 dreifacher Falz

	IF LOD_3D > 399 THEN
		IF bs_folding_nmbr = 2 THEN		
			GOSUB "Doppelfalz"		

		ENDIF										
		IF bs_folding_nmbr = 3 THEN		GOSUB "Dreifachfalz"		
	ENDIF

	IF dk_frametype = "BZ" OR dk_frametype  = "RR" THEN 
		poly_z_fuge = (dk_frametype  = "BZ") * (gs_ub_st2 - 0.01) * (gs_fuge > tlr)
		ADDy - poly_z_fuge
		poly_z_fuge = gs_vt - (dk_frametype  = "BZ") * 0.01 * (gs_fuge > tlr)
		IF LOD_3D > 350 THEN GOSUB "Fugenfuellung"
		DEL 1
	ENDIF

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	! --- B A N D S E I T E
	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	! ---- C U T P O L Y   W A N D N U T   U Z / EZ  O B E N   L O D  >  3 0 0 -- !

	IF LOD_3D > 300 AND dk_frametype = "EZ" OR dk_frametype = "UZ" THEN

		ROTz 90
		ROTx 90
		ADD 0, frame_out_dims_z, 0
	
		CUTPOLYa 4, 1 ,0,
		0, 	0,			15,
		C_ - wall_shell_thk_2 - wall_shell_thk_1, 0,			15,
		C_ - wall_shell_thk_2 - wall_shell_thk_1, MAX(bs_spiegel_br_ob_bgs, bs_spiegel_br_ob_bs),	15,
		0, 	MAX(bs_spiegel_br_ob_bgs, bs_spiegel_br_ob_bs),	15	

		DEL 3

	ENDIF

	! ---- C U T P O L Y   W A N D N U T   U Z / EZ  L I N K S  L O D  >  3 0 0 -- !

	IF LOD_3D > 300 AND dk_frametype = "EZ" OR dk_frametype = "UZ" THEN

		ADD -clearingFrameCenter - frame_out_dims_x/2, 0, 0
		ROTz 90
	
		CUTPOLYa 4, 1 ,0,
		0, 	0,			15,
		C_ - wall_shell_thk_2 - wall_shell_thk_1, 0,			15,
		C_ - wall_shell_thk_2 - wall_shell_thk_1, MAX(bs_spiegel_br_bgs, bs_spiegel_br_bs),	15,
		0, 	MAX(bs_spiegel_br_bgs, bs_spiegel_br_bs),	15	

		DEL 2

	ENDIF

	! ---- C U T P O L Y   W A N D N U T   U Z / EZ  R E C H T S  L O D  >  3 0 0 -- !

	IF LOD_3D > 300 AND dk_frametype = "EZ" OR dk_frametype = "UZ" THEN

		ADD -clearingFrameCenter + frame_out_dims_x/2, 0, 0
		MULx - 1
		ROTz 90

	
		CUTPOLYa 4, 1 ,0,
		0, 	0,			15,
		C_ - wall_shell_thk_2 - wall_shell_thk_1, 0,			15,
		C_ - wall_shell_thk_2 - wall_shell_thk_1, MAX(bs_spiegel_br_bgs, bs_spiegel_br_bs),	15,
		0, 	MAX(bs_spiegel_br_bgs, bs_spiegel_br_bs),	15	

		DEL 3

	ENDIF

	! ---------------------------------------------------------------------- !

	GROUP "Bandseite"


	! -------- C U T P O L Y   W A N D N U T   B Z ------------------------- !

	IF LOD_3D > 399 AND dk_frametype = "BZ" THEN 

		cut_02 = (ABS(poly_x2) > tlr)   ! = 1 Korrektur Beister
		ADD  -clearingFrameCenter - frame_out_dims_x/2, -0.1 - poly_y1 + poly_yt  , 0
		ROTx 90

		IF cut_02 THEN
			mask = 23
			CUTPOLYa 9, 1, -0.1,
			0, 								0, 							mask,
			poly_x2, 						0,							mask,
			poly_x2, 						frame_out_dims_z - poly_x2, mask,
			frame_out_dims_x  - poly_x2, 	frame_out_dims_z - poly_x2, mask,
			frame_out_dims_x  - poly_x2, 	0, 							mask,
			frame_out_dims_x, 				0,							mask,
			frame_out_dims_x, 				frame_out_dims_z,			mask,
			0, 								frame_out_dims_z,			mask,
			0,								0,							mask,
			0, 0,  1
	
		ENDIF
	
		DEL 2

	ENDIF

	! -------- C U T P O L Y   F A L Z   B S ------------------------------- !

	IF LOD_3D > 399 THEN
		ADD  -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_left * gs_sidelight_width_left + _framewidth_left * NOT(gs_sidelight_left * gs_sidelight_width_left) - gs_vb, -poly_y1, 0
		ROTx 90

		CUTPOLYa 5, 1 , 0,
		0, 			0, 			1,
		_falz_x, 	0,			1, 
		_falz_x, 	_falz_y, 	1,
		0, 			_falz_y, 	1,
		0, 			0,			 1	

		DEL 2
	ENDIF


	! ---------------------------------------------------------------------- !

	! -------- Z a r g e   B a n d s e i t e ------------------------------- !

	ADD -clearingFrameCenter - frame_out_dims_x/2, 0, 0

	poly_ys			= gs_vt - bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
	IF gs_door_transom = 0 OR (gs_door_transom = 1 AND gs_sidelight_left = 1) THEN poly_height = frame_out_dims_z + gs_ub_st1 
	IF gs_door_transom = 1 AND gs_sidelight_left = 0 					THEN poly_height = ac_egress_height + gs_vb
	poly_cut_height = frame_out_dims_z
	poly_height = poly_cut_height + gs_ub_st1 * (NOT(_oben_laenger)) + (bs_spiegel_br_ob_bs - poly_x) * (_oben_gehrung OR _oben_laenger) 
	poly_x = _framewidth_left  + _ro_plus_l
	_korrektur_350	= _ro_plus_o
	GOSUB "PRISM_CUTPLANE"
	GOSUB "LOD_350_frame_BS"
	DEL 1

	poly_x 			= _framewidth_right  + _ro_plus_r
	poly_z2 		= 0
	poly_ys			= gs_vt - bs_sidelight_filling_thk1								! Stärke der Seitenteilfüllung rechts
	ADD -clearingFrameCenter + frame_out_dims_x/2, 0, 0
	MULx -1
	_korrektur_350	= _ro_plus_o
	GOSUB "PRISM_CUTPLANE"
	GOSUB "LOD_350_frame_BS" 
	DEL 2

	_korrektur_350	= _ro_plus_o

	poly_x 			= _frame_width_upper  + _ro_plus_o
	poly_cut_height	= frame_out_dims_x - NOT(_oben_gehrung) * (_framewidth_right + _framewidth_left) 
	poly_height 	= poly_cut_height  + (poly_x3 - poly_x) * 2 * _oben_gehrung 
	IF dk_frametype = "UZ" OR dk_frametype = "EZ" THEN poly_x3 = bs_spiegel_br_ob_bs
	poly_z1			= _framewidth_right					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes 	
	poly_z2			= _framewidth_left					! Höhe/Länge des durch CUTPLANE abzuziehenden unterem Anschlussstückes 
	show_hot 		= 0
	ADD -clearingFrameCenter - frame_out_dims_x/2 + NOT(_oben_gehrung) * _framewidth_left + _ro_plus_l, 0, frame_out_dims_z
	ROTy 90
	GOSUB "PRISM_CUTPLANE"
	ADDz - (poly_x3 - poly_x) * _oben_gehrung
	GOSUB "LOD_350_frame_BS"
	DEL 1
	DEL 2

	_korrektur_350	= _ro_plus_l 


	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	! F A L L U N T E R S C H E I D U N G   L Ä N G E / L A G E  K Ä M P F E R

	_panel_index = 1		! Index des Panelmaterials, Fills, Pens
	
	IF dk_sidelight_transom1 = 0 AND gs_sidelight_right  THEN  !Abzug rechts
		_abzug_transom_right = gs_sidelight_width_right - _framewidth_post_right - _framewidth_right
	ELSE
		_abzug_transom_right = 0
	ENDIF
	
	IF dk_sidelight_transom2 = 0 AND gs_sidelight_left THEN  !Abzug links	
		_abzug_transom_left = gs_sidelight_width_left - _framewidth_post_left - _framewidth_left
	ELSE
		_abzug_transom_left = 0
	ENDIF 
	
	_transom_length = frame_out_dims_x - _framewidth_right - _framewidth_left - _abzug_transom_right - _abzug_transom_left


	_korrektur_350	= 0 

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	ADDy -gs_ub_st2					! KO_TRAFO 031

	! ......................... !
	! -------- K Ä M P F E R    B a n d s e i t e

	IF gs_door_transom THEN		
		poly_y 			= gs_vt	
		poly_mat		= dk_materials[dka_frame_mat_BS]
		
		IF gs_sidelight_left AND dk_sidelight_transom2 THEN		! Kämpfer links, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_tolerance_left * (dk_LOD = 350)
			ADDz poly_x + ac_egress_height
			ADDx -clearingFrameCenter - frame_out_dims_x/2  + _framewidth_left 
			cutti = 0
			GOSUB "LOD_350_riegel_BS_2"
			DEL 2
		ENDIF

		IF gs_sidelight_right AND dk_sidelight_transom1 THEN		! Kämpfer rechts, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_tolerance_right * (dk_LOD = 350)
			ADDz poly_x + ac_egress_height
			ADDx -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + _framewidth_post_right - gs_tolerance_right * (dk_LOD = 350)
			cutti = 0
			GOSUB "LOD_350_riegel_BS_2"
			DEL 2
		ENDIF

		IF bs_inner_frame # 2 THEN									! Kämpfer mitte BS, wenn keine Oberblende
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom 
			poly_height		= _kaempferlaenge + (gs_sidelight_right AND gs_sidelight_left) * (_framewidth_post_right + _framewidth_post_left) \
								+ (dk_LOD = 350) * gs_tolerance_left * (gs_sidelight_right AND NOT(gs_sidelight_left)) + (dk_LOD = 350) * gs_tolerance_right * (gs_sidelight_left  AND NOT(gs_sidelight_right))
			ADDz poly_x + ac_egress_height
			ADDx -clearingFrameCenter - frame_out_dims_x/2  + gs_sidelight_left * gs_sidelight_width_left + NOT(gs_sidelight_left) * _framewidth_left \
				 - _framewidth_post_left * (gs_sidelight_left AND NOT(gs_sidelight_right))  \
				 - ( _framewidth_post_left  ) * (gs_sidelight_left AND gs_sidelight_right)  +  (dk_LOD = 350) * gs_tolerance_left * (gs_sidelight_left )
			cutti = 1
			GOSUB "LOD_350_riegel_BS"
			DEL 2
		ENDIF

	ENDIF

	! ......................... !						! Pfosten
	! -------- P F O S T E N   B a n d s e i t e

	IF gs_door_transom THEN
		poly_height = ac_egress_height + _frame_width_transom
		_abzug_oben = _frame_width_transom
	ELSE
		poly_height = frame_out_dims_z - _frame_width_upper -  _ro_plus_o
		_abzug_oben = 0
	ENDIF
	poly_mat		= dk_materials[dka_frame_mat_BS]	
	poly_y = gs_vt	

	IF gs_sidelight_left THEN 
		_sidelight_width = gs_sidelight_width_left
		_framewidth = _framewidth_left
		poly_x = _framewidth_post_left  
		ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_vb * (dk_LOD < 350) + (dk_LOD = 350) * gs_tolerance_left, 0, 0
		GOSUB "LOD_350_sidepost_BS"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		_sidelight_width = gs_sidelight_width_right
		_framewidth = _framewidth_right
		poly_x = _framewidth_post_right 
		ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + poly_x - gs_vb * (dk_LOD < 350) - (dk_LOD = 350) * gs_tolerance_right , 0, 0
		MULx -1
		GOSUB "LOD_350_sidepost_BS"
		DEL 2
	ENDIF

	IF gs_door_transom AND bs_inner_frame # 2 AND cutti = 1 THEN CUTEND

	! ......................... !						! Pfosten
	! -------- P F O S T E N   O B E N   B a n d s e i t e

	IF gs_door_transom THEN
		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom
		_abzug_oben = 0

		poly_mat		= dk_materials[dka_frame_mat_BS]	
		poly_y = gs_vt

		IF js_fanlight_division_left THEN 
			_sidelight_width = gs_sidelight_width_left
			_framewidth = _framewidth_left
			poly_x = _framewidth_post_left
			ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x +  (gs_tolerance_left) * (dk_LOD = 350), 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_right THEN 
			_sidelight_width = gs_sidelight_width_right
			_framewidth = _framewidth_right
			poly_x = _framewidth_post_right
			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right - gs_tolerance_right * (dk_LOD = 350), 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_sym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -poly_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_asym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -clearingFrameCenter - frame_out_dims_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

	ENDIF



	! ......................... !						! Riegel Seitefelder unten

	! -------- R I E G E L    B a n d s e i t e

	cutti = 0
	_abzug_oben		= 0
	poly_x 			= _frame_width_bottom_sl 
	poly_y 			= gs_vt	
	poly_mat		= dk_materials[dka_frame_mat_BS]	
	poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_vb * (dk_LOD < 350) + (dk_LOD = 350) * gs_tolerance_left
	ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, 0 , poly_x
	poly_ys			= gs_vt - bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
	IF gs_sidelight_left THEN GOSUB "LOD_350_riegel_unten_BS"
	DEL 1

! ### WIP

	poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_vb * (dk_LOD < 350) +  (dk_LOD = 350) * gs_tolerance_right
	ADD - clearingFrameCenter + frame_out_dims_x/2 + _framewidth_post_right - gs_sidelight_width_right - (dk_LOD = 350) * gs_tolerance_right, 0 , poly_x
	poly_ys			= gs_vt - bs_sidelight_filling_thk1								! Stärke der Seitenteilfüllung rechts
	IF gs_sidelight_right THEN GOSUB "LOD_350_riegel_unten_BS"
	DEL 1



	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	DEL 1															! KO_TRAFO 031

	IF LOD_3D > 399 AND dk_frametype = "BZ" AND cut_02 THEN CUTEND

	IF LOD_3D > 399 THEN CUTEND

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	ENDGROUP

	GROUP "Verglasung"
		IF LOD_3D > 399 THEN GOSUB "Fuellung"
	ENDGROUP

	RESULT_01 = SUBGROUP ("Bandseite", "Verglasung")

	PLACEGROUP RESULT_01

	IF LOD_3D > 399 THEN GOSUB "Fuellung"

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
	! --- B A N D G E G E N S E I T E
	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !
		poly_y1 		= gs_ub_st2
	! ---------------------------------------------------------------------- !
	! -------- C U T P O L Y   W A N D N U T   B Z ------------------------- !

	IF LOD_3D > 399 AND dk_frametype = "BZ" THEN 

		cut_02 = (ABS(poly_x2) > tlr)   ! = 1 Korrektur Beister

		ADD -clearingFrameCenter - frame_out_dims_x/2, frame_out_dims_y  + poly_y1 - poly_yt - 0.01 , 0
		ROTx 90
		
		IF cut_02 THEN
			mask = 23
			CUTPOLYa 9, 1, 0.01,
			0, 								0, 							mask,
			poly_x2, 						0,							mask,
			poly_x2, 						frame_out_dims_z - poly_x2, mask,
			frame_out_dims_x  - poly_x2, 	frame_out_dims_z - poly_x2, mask,
			frame_out_dims_x  - poly_x2, 	0, 							mask,
			frame_out_dims_x, 				0,							mask,
			frame_out_dims_x, 				frame_out_dims_z,			mask,
			0, 								frame_out_dims_z,			mask,
			0,								0,							mask,
			0, 0, -1
		ENDIF
	
		DEL 2

	ENDIF

	! -------- C U T P O L Y   Z I E R F A L Z   B G S --------------------- !

	IF LOD_3D > 399 AND dk_design_folding_depth  > 0 THEN

		_zier_falz_x	= frame_out_dims_x - _framewidth_left - _framewidth_right  + 2 * gs_vb
		_zier_falz_y	= frame_out_dims_z - _frame_width_upper + 1 * gs_vb

		IF dk_frametype  = "BZ" THEN poly_zf = frame_out_dims_y 
		IF dk_frametype  = "UZ" THEN poly_zf = frame_out_dims_y 
		IF dk_frametype  = "EZ" THEN
			poly_zf = frameThickness - gs_ub_st2 * 2   ! by Beister
			! IF dk_different_frame_thk THEN poly_zf = dk_frame_thk_EZ - gs_ub_st2 * 2
			! IF NOT(dk_different_frame_thk) THEN poly_zf = gs_frame_thk - gs_ub_st2 * 2
		ENDIF
		IF dk_frametype  = "RR" THEN poly_zf = dk_frame_thk_EZ + 1					! AUSSERHALB, da nicht verfügbar bei RR


		ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left - gs_vb, \
				poly_zf + gs_ub_st2 - dk_design_folding_depth + 0.01 , 0		
	
		ROTx 90

		mask = 23
		CUTPOLYa 5, 1 , -0.01,
		0, 				0, 				mask,
		_zier_falz_x, 	0,				mask, 
		_zier_falz_x, 	_zier_falz_y, 	mask,
		0, 				_zier_falz_y, 	mask,
		0, 				0,				mask,
		0,	0,	-1	

		DEL 2
	ENDIF

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	! -------- Z a r g e   B a n d g e g e n s e i t e

	poly_x 			= _framewidth_left
	poly_y 			= poly_yi - gs_vt
	poly_cut_height	= frame_out_dims_z 
	poly_height		= poly_cut_height	+ gs_ub_st1
	poly_mat		= dk_materials[dka_frame_mat_BGS]	
	poly_z1			= _frame_width_upper					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes

	IF dk_frametype  = "BZ" OR dk_frametype  = "RR" THEN 
		poly_z_fuge = (dk_frametype  = "BZ") * (gs_ub_st2 + 0.01) * (gs_fuge > tlr)
		ADDy gs_vt
		poly_z_fuge = poly_y - poly_z_fuge
		IF LOD_3D > 350 THEN GOSUB "Fugenfuellung"
		DEL 1
	ENDIF

	IF dk_frametype = "EZ" THEN
		ADDz frame_out_dims_z
		CUTPLANE
		DEL 1
	ENDIF

	poly_cut_height = frame_out_dims_z 
	poly_height = poly_cut_height + gs_ub_st1 * (NOT(_oben_laenger)) + (bs_spiegel_br_ob_bgs - poly_x) * (_oben_gehrung OR _oben_laenger) 
					

	ADDy gs_vt - gs_ub_st2						! ADD 001

	poly_z2 		= 0
	ADD -clearingFrameCenter - frame_out_dims_x/2, 0, 0
	_korrektur_350	= _ro_plus_o 
	GOSUB "PRISM_CUTPLANE"
	GOSUB "LOD_350_frame_BGS"
	DEL 1

	poly_x 			= _framewidth_right
	poly_z2 		= 0
	ADD -clearingFrameCenter + frame_out_dims_x/2, 0, 0
	MULx -1
	_korrektur_350	= _ro_plus_o 
	GOSUB "PRISM_CUTPLANE"
	GOSUB "LOD_350_frame_BGS"
	DEL 2

	IF dk_frametype = "EZ" THEN CUTEND

	_korrektur_350	= 0
	poly_x 			= _frame_width_upper  + _ro_plus_o
	IF dk_frametype = "UZ"  THEN poly_x5 = bs_spiegel_br_ob_bgs
	poly_cut_height	= frame_out_dims_x  - NOT(_oben_gehrung) * (_framewidth_right + _framewidth_left)
	poly_height		= poly_cut_height	+ (poly_x3 - poly_x) * 2 * _oben_gehrung
	poly_z1			= _framewidth_right					! Höhe/Länge des durch CUTPLANE abzuziehenden oberem Anschlussstückes 	
	poly_z2			= _framewidth_left					! Höhe/Länge des durch CUTPLANE abzuziehenden unterem Anschlussstückes 
	show_hot 		= 0
	ADD -clearingFrameCenter - frame_out_dims_x/2 + NOT(_oben_gehrung) * _framewidth_left   , 0, frame_out_dims_z
	ROTy 90
	GOSUB "PRISM_CUTPLANE"
	ADDz - (poly_x3 - poly_x) * _oben_gehrung
	GOSUB "LOD_350_frame_BGS"
	DEL 1
	DEL 2

	_korrektur_350	= 0
	! ---------------------------------------------------------------------- !

	IF LOD_3D > 399 AND dk_design_folding_depth  > 0 THEN CUTEND

	! -------- K Ä M P F E R    B a n d g e g e n s e i t e

	IF gs_door_transom THEN	
		ADDy - gs_vt								

		poly_y 			= - gs_vt + _frame_thk_transom	
		poly_mat		= dk_materials[dka_frame_mat_BGS]								
	
		IF gs_sidelight_left AND dk_sidelight_transom2 THEN		! Kämpfer links, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_tolerance_left * (dk_LOD = 350)
			ADDz poly_x + ac_egress_height
			ADD -clearingFrameCenter - frame_out_dims_x/2  + _framewidth_left, gs_vt , 0 
			cutti = 0
			GOSUB "LOD_350_riegel"
			DEL 2
		ENDIF

		IF gs_sidelight_right AND dk_sidelight_transom1 THEN		! Kämpfer rechts, wenn vorh.
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_tolerance_right * (dk_LOD = 350)
			ADDz poly_x + ac_egress_height 
			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + _framewidth_post_right - gs_tolerance_right * (dk_LOD = 350), gs_vt , 0 
			cutti = 0
			GOSUB "LOD_350_riegel"
			DEL 2
		ENDIF

		IF bs_inner_frame # 2 THEN									! Kämpfer mitte BGS, wenn keine Oberblende
			_abzug_oben		= 0
			poly_x 			= _frame_width_transom
			poly_height		= _kaempferlaenge + (gs_sidelight_right AND gs_sidelight_left) * (_framewidth_post_right + _framewidth_post_left)
			ADDz poly_x + ac_egress_height


			ADD -clearingFrameCenter - frame_out_dims_x/2  + gs_sidelight_left * gs_sidelight_width_left + NOT(gs_sidelight_left) * _framewidth_left \
				 - _framewidth_post_left * (gs_sidelight_left AND NOT(gs_sidelight_right))  \
				 - ( _framewidth_post_left  ) * (gs_sidelight_left AND gs_sidelight_right) +  (dk_LOD = 350) * gs_tolerance_left, gs_vt , 0 

			cutti = 1
			GOSUB "LOD_350_riegel"
			DEL 2
		ENDIF

		DEL 1
	ENDIF

	! ---------------------------------------------------------------------- !

	! -------- P F O S T E N   B a n d g e g e n s e i t e

	IF gs_door_transom THEN
		poly_height = ac_egress_height + _frame_width_transom
		_abzug_oben = _frame_width_transom
	ELSE
		poly_height = frame_out_dims_z - _frame_width_upper -  _ro_plus_0
		_abzug_oben = 0
	ENDIF
	poly_mat		= dk_materials[dka_frame_mat_BGS]	
	poly_y = - gs_vt + _frame_thk_post 

	IF gs_sidelight_left THEN 
		_sidelight_width = gs_sidelight_width_left
		_framewidth = _framewidth_left
		poly_x = _framewidth_post_left 
		ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_vb * (dk_LOD < 350) +(dk_LOD = 350) * gs_tolerance_left, 0, 0
		GOSUB "LOD_350_sidepost"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		_sidelight_width = gs_sidelight_width_right
		_framewidth = _framewidth_right
		poly_x = _framewidth_post_right 
		ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + poly_x - gs_vb * (dk_LOD < 350) - (dk_LOD = 350) * gs_tolerance_right , 0, 0
		MULx -1
		GOSUB "LOD_350_sidepost"
		DEL 2
	ENDIF

	IF gs_door_transom AND bs_inner_frame # 2 AND cutti THEN  CUTEND

	IF NOT(gs_door_transom) THEN
		IF gs_sidelight_left THEN 
			IF _frame_thk_post > poly_yi THEN
				poly_y = - poly_yi + _frame_thk_post
				ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + (dk_LOD = 350) * gs_tolerance_left, poly_yi - gs_vt, frame_out_dims_z - _frame_width_upper 
				poly_height = _frame_width_upper
				GOSUB "LOD_350_sidepost"
				DEL 1
			ENDIF
		ENDIF
	
		IF gs_sidelight_right THEN 
			IF _frame_thk_post > poly_yi THEN
				poly_y = - poly_yi + _frame_thk_post
				ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right - (dk_LOD = 350) * gs_tolerance_right, poly_yi - gs_vt, frame_out_dims_z - _frame_width_upper 
				poly_height = _frame_width_upper
				GOSUB "LOD_350_sidepost"
				DEL 1
			ENDIF
		ENDIF
	ENDIF

	! ---------------------------------------------------------------------- !

	! -------- P F O S T E N   O B E N   B a n d g e g e n s e i t e

	IF gs_door_transom THEN
		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		_abzug_oben = 0!_frame_width_transom

		poly_mat		= dk_materials[dka_frame_mat_BGS]	
		IF bs_fanlight_division < 4 THEN
			poly_y = - gs_vt + dk_post_thk_upper
		ELSE
			poly_y = - gs_vt + _frame_thk_post 
		ENDIF

		IF js_fanlight_division_left THEN 
			_sidelight_width = gs_sidelight_width_left
			_framewidth = _framewidth_left
			poly_x = _framewidth_post_left
			ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x + gs_tolerance_left * (dk_LOD = 350), 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1

			! Variablen für Pfosten hinter Obergurt
			IF dk_frametype = "BZ" OR dk_frametype = "UZ" THEN 
				_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				_my_ueb = gs_ub_st2 * 2
			ENDIF
			IF dk_frametype = "EZ" OR dk_frametype = "RR" THEN 
				IF NOT(dk_different_frame_thk) THEN 
					_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				ELSE
					_my_frame_thk = dk_frame_thk_EZ
				ENDIF
				IF dk_frametype = "EZ" THEN _my_ueb = 0
				IF dk_frametype = "RR" THEN _my_ueb = 0
			ENDIF

			! Pfosten hinter Obergurt
			IF _frame_thk_post > _my_frame_thk + _my_ueb THEN
				poly_y = _frame_thk_post - ( _my_frame_thk + _my_ueb )
				ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x, poly_yi - gs_vt + _my_ueb , poly_height + ac_egress_height + _frame_width_transom
				poly_height = _frame_width_upper + gs_ub_st1 * (dk_frametype # "EZ")
				GOSUB "LOD_350_sidepost"
				DEL 1
			ENDIF

		ENDIF

		IF bs_fanlight_division < 4 THEN
			poly_y = - gs_vt + dk_post_thk_upper
		ELSE
			poly_y = - gs_vt + _frame_thk_post 
		ENDIF
		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		IF js_fanlight_division_right THEN 
			_sidelight_width = gs_sidelight_width_right
			_framewidth = _framewidth_right
			poly_x = _framewidth_post_right
			ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right - gs_tolerance_right * (dk_LOD = 350), 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1

			! Variablen für Pfosten hinter Obergurt
			IF dk_frametype = "BZ" OR dk_frametype = "UZ" THEN 
				_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				_my_ueb = gs_ub_st2 * 2
			ENDIF
			IF dk_frametype = "EZ" OR dk_frametype = "RR" THEN 
				IF NOT(dk_different_frame_thk) THEN 
					_my_frame_thk = frameThickness   ! gs_frame_thk ... by Beister
				ELSE
					_my_frame_thk = dk_frame_thk_EZ
				ENDIF
				IF dk_frametype = "EZ" THEN _my_ueb = 0
				IF dk_frametype = "RR" THEN _my_ueb = 0
			ENDIF

			! Pfosten hinter Obergurt

			IF _frame_thk_post > _my_frame_thk + _my_ueb THEN
				poly_y = _frame_thk_post - ( _my_frame_thk + _my_ueb )
				ADD -clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right, poly_yi - gs_vt + _my_ueb, poly_height + ac_egress_height + _frame_width_transom
				poly_height = _frame_width_upper + gs_ub_st1 * (dk_frametype # "EZ")
				GOSUB "LOD_350_sidepost"
				DEL 1
			ENDIF

		ENDIF

		IF bs_fanlight_division < 4 THEN
			poly_y = - gs_vt + dk_post_thk_upper
		ELSE
			poly_y = - gs_vt + _frame_thk_post
		ENDIF
		poly_height = frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		IF js_fanlight_division_sym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -poly_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

		IF js_fanlight_division_asym THEN
			_framewidth = dk_post_width_upper
			poly_x = dk_post_width_upper
			ADD -clearingFrameCenter - frame_out_dims_x/2, 0, ac_egress_height + _frame_width_transom
			GOSUB "LOD_350_sidepost"
			DEL 1
		ENDIF

	ENDIF


	! -------- R I E G E L    B a n d g e g e n s e i t e

	ADDy - gs_vt

	poly_x 			= _frame_width_bottom_sl
	poly_y 			= - gs_vt + _frame_thk_bottom
	poly_mat		= dk_materials[dka_frame_mat_BGS]	
	poly_height		= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left + gs_vb * (dk_LOD < 350) +  (dk_LOD = 350) * gs_tolerance_left
	ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, gs_vt , poly_x
	IF gs_sidelight_left THEN GOSUB "LOD_350_riegel_unten"
	DEL 1

	poly_height		= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right  +  (dk_LOD = 350) * gs_tolerance_right
	ADD -clearingFrameCenter + frame_out_dims_x/2 + _framewidth_post_right - gs_sidelight_width_right  - (dk_LOD = 350) * gs_tolerance_right, gs_vt  , poly_x
	IF gs_sidelight_right GOSUB "LOD_350_riegel_unten"
	DEL 1

	DEL 1

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	IF LOD_3D > 399 AND dk_frametype = "BZ" AND cut_02 THEN CUTEND

	IF LOD_3D > 300 AND dk_frametype = "EZ" OR dk_frametype = "UZ" THEN CUTEND
	IF LOD_3D > 300 AND dk_frametype = "EZ" OR dk_frametype = "UZ" THEN CUTEND
	IF LOD_3D > 300 AND dk_frametype = "EZ" OR dk_frametype = "UZ" THEN CUTEND

	! ---------------------------------------------------------------------- !

	! HOTSPOTS AN DEN OBEREN ECKEN
	! ADD -frame_out_dims_x/2, 0, frame_out_dims_z : GOSUB 2 : DEL 1
	! ADD -frame_out_dims_x/2, poly_yi, frame_out_dims_z : GOSUB 2 : DEL 1
	! ADD  frame_out_dims_x/2, 0, frame_out_dims_z : GOSUB 2 : DEL 1
	! ADD  frame_out_dims_x/2, poly_yi, frame_out_dims_z : GOSUB 2 : DEL 1

	! ADD -frame_out_dims_x/2 + _framewidth_left, 0, frame_out_dims_z - _frame_width_upper : GOSUB 2 : DEL 1
	! ADD -frame_out_dims_x/2 + _framewidth_left, poly_yi, frame_out_dims_z - _frame_width_upper : GOSUB 2 : DEL 1
	! ADD  frame_out_dims_x/2 - _framewidth_right, 0, frame_out_dims_z - _frame_width_upper : GOSUB 2 : DEL 1
	! ADD  frame_out_dims_x/2 - _framewidth_right, poly_yi, frame_out_dims_z - _frame_width_upper : GOSUB 2 : DEL 1

	! ---------------------------------------------------------------------- !

	DEL 1

	! ---------------------------------------------------------------------- !

	IF LOD_3D < 399 THEN GOSUB "Fuellung"

RETURN

! ---------------------------------------------------------------------- !
! ------------ L O D   3 5 0 +   B A U T E I L    S U B S -------------- !
! ---------------------------------------------------------------------- !

	"LOD_350_frame_BS":

		
		GOSUB "LOD_" + STR(LOD_3D , 1, 0) + "_frame_BS_PUT_" + dk_frametype
		GOSUB "PRISM_"
	
		! ......................... !
	
		IF show_hot THEN
			GOSUB "LOD_" + STR(LOD_3D , 1, 0) + "_frame_BS_PUT_" + dk_frametype
			GOSUB "HOTSPOTS_3D_FRAME"
		ENDIF

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !

		"LOD_350_frame_BS_PUT":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BS_PUT_EZ":

			PUT	0, 			0, 					15,
				- poly_x1,	0,					15,
				- poly_x1, 	-poly_y1,			15,
				poly_x, 	-poly_y1, 			15,
				poly_x,   	-poly_y1 + poly_y, 			15,
				0,   		-poly_y1 + poly_y, 			15,
				0, 			0, 					-1
		RETURN

		! -------------------------------------------------------------- !
		"LOD_500_frame_BS_PUT_EZ":
			GOSUB 		"LOD_400_frame_BS_PUT_EZ"
		RETURN
	
		"LOD_400_frame_BS_PUT_EZ":

			PUT	poly_x - poly_x3,	-poly_y1,			15,
				poly_x - poly_x3, 	-poly_y1 +  poly_y,	15,
				poly_x, 			-poly_y1 +  poly_y, 15,
				poly_x, 			-poly_y1, 			15,
				poly_x - poly_x3,  	-poly_y1,			- 1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BS_PUT_BZ":

			PUT	0, 			-poly_y1, 		15,
				poly_x, 	-poly_y1, 		15,
				poly_x,   	-poly_y1 + poly_y, 		15,
				0,   		-poly_y1 + poly_y, 		15,
				0, 			-poly_y1, 		-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_500_frame_BS_PUT_BZ":
			GOSUB "LOD_400_frame_BS_PUT_BZ"
		RETURN

		"LOD_400_frame_BS_PUT_BZ":

			PUT	0, 			-poly_y1, 		15,
				poly_x, 	-poly_y1, 		15,
				poly_x,   	-poly_y1 + poly_y, 		15,
				0,   		-poly_y1 + poly_y, 		15,
				0, 			-poly_y1, 		-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BS_PUT_UZ":


			PUT	- poly_x1,	-poly_y1,				15,
				- poly_x1, 	0,						15,
				0,			0,						15,
				0, 			-poly_y1 +  poly_y, 	15,
				poly_x, 	-poly_y1 +  poly_y, 	15,
				poly_x, 	-poly_y1, 				15,
				- poly_x1,  -poly_y1,				- 1

		RETURN

		! -------------------------------------------------------------- !

		"LOD_500_frame_BS_PUT_UZ":
			GOSUB 		"LOD_400_frame_BS_PUT_UZ":
		RETURN
	
		"LOD_400_frame_BS_PUT_UZ":

			PUT	poly_x - poly_x3,	-poly_y1,			15,
				poly_x - poly_x3, 	-poly_y1 +  poly_y,	15,
				poly_x, 			-poly_y1 +  poly_y, 15,
				poly_x, 			-poly_y1, 			15,
				poly_x - poly_x3,  	-poly_y1,			- 1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BS_PUT_RR":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

		! -------------------------------------------------------------- !
		"LOD_500_frame_BS_PUT_RR":
			GOSUB 		"LOD_400_frame_BS_PUT_RR"
		RETURN
	
		"LOD_400_frame_BS_PUT_RR":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_frame_BGS":
		GOSUB "LOD_" + STR(LOD_3D , 1, 0) + "_frame_BGS_PUT_" + dk_frametype
		GOSUB "PRISM_"

		!SPHERE 0.01
		! ......................... !

		IF show_hot THEN
			GOSUB "LOD_" + STR(LOD_3D , 1, 0) + "_frame_BGS_PUT_" + dk_frametype	
			GOSUB "HOTSPOTS_3D_FRAME"
		ENDIF

	RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BGS_PUT":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BGS_PUT_EZ":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_500_frame_BGS_PUT_EZ":
			GOSUB 		"LOD_400_frame_BGS_PUT_EZ"
		RETURN

		"LOD_400_frame_BGS_PUT_EZ":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BGS_PUT_BZ":


			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y + poly_y1*2, 15,
				0,   		poly_y + poly_y1*2, 15,
				0, 			0, 		-1


		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_500_frame_BGS_PUT_BZ":
			GOSUB 		"LOD_400_frame_BGS_PUT_BZ"
		RETURN
		

		"LOD_400_frame_BGS_PUT_BZ":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y + poly_y1*2, 15,
				0,   		poly_y + poly_y1*2, 15,
				0, 			0, 		-1


		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BGS_PUT_UZ":

			PUT	0, 			0, 					15,
				poly_x, 	0, 					15,
				poly_x,   	poly_y + poly_y1, 	15,
				- poly_x1,	poly_y + poly_y1, 	15,
				- poly_x1,  poly_y, 			15,
				0,			poly_y, 			15,
				0, 			0, 					-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_500_frame_BGS_PUT_UZ":
			GOSUB 		"LOD_400_frame_BGS_PUT_UZ":
		RETURN
		
		"LOD_400_frame_BGS_PUT_UZ":

			PUT	poly_x - poly_x5, 	0, 					15,
				poly_x, 			0, 					15,
				poly_x,   			poly_y + poly_y1, 	15,
				poly_x - poly_x5,	poly_y + poly_y1, 	15,
				poly_x - poly_x5, 	0, 					-1

		RETURN

		! -------------------------------------------------------------- !
	
		"LOD_350_frame_BGS_PUT_RR":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

		! -------------------------------------------------------------- !
		"LOD_500_frame_BGS_PUT_RR":
			GOSUB 	"LOD_400_frame_BGS_PUT_RR"
		RETURN
			
		"LOD_400_frame_BGS_PUT_RR":

			PUT	0, 			0, 		15,
				poly_x, 	0, 		15,
				poly_x,   	poly_y, 15,
				0,   		poly_y, 15,
				0, 			0, 		-1

		RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_frame_PUT":

		PUT	0, 			0, 		15,
			poly_x, 	0, 		15,
			poly_x,   	poly_y, 15,
			0,   		poly_y, 15,
			0, 			0, 		-1

	RETURN


	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_riegel":

		ROTy 90

		GOSUB "LOD_350_frame_PUT"
		GOSUB "Riegel"

		! ......................... !
	
		GOSUB "LOD_350_frame_PUT"	
		GOSUB "HOTSPOTS_3D_unten"

		GOSUB "LOD_350_frame_PUT"	
		GOSUB "HOTSPOTS_3D_oben"

		! ......................... !

		IF bs_inner_frame # 2 AND cutti THEN 
			GOSUB "LOD_350_frame_PUT"	
			GOSUB "CUTPOLY_riegel"
		ENDIF

		DEL 1

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_riegel_BS":
		
		GOSUB "LOD_350_riegel"

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_riegel_BS_2":
		
		GOSUB "LOD_350_riegel"

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_riegel_unten":

		ROTy 90

		GOSUB "LOD_350_frame_PUT"
		GOSUB "Riegel"

		! ......................... !
	
		GOSUB "LOD_350_frame_PUT"	
		GOSUB "HOTSPOTS_3D_unten"

		GOSUB "LOD_350_frame_PUT"	
		GOSUB "HOTSPOTS_3D_oben"

		DEL 1

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_350_riegel_unten_BS":

		GOSUB "LOD_350_riegel_unten"

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !

	"LOD_350_sidepost":
		GOSUB "LOD_350_frame_PUT"
		GOSUB "Pfosten"

		! ......................... !
	
		GOSUB "LOD_350_frame_PUT"	
		GOSUB "HOTSPOTS_3D_unten"

		GOSUB "LOD_350_frame_PUT"	
		GOSUB "HOTSPOTS_3D_oben"

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !

	"LOD_350_sidepost_BS":

		GOSUB "LOD_350_sidepost"
	
	RETURN

! ---------------------------------------------------------------------- !
"CUTPOLY_riegel":

	CUTPOLYa NSP/3, 1, 0, GET(NSP)

	WHILE NSP DO			! Buffer leeren für alle Fälle
		www_sub = GET(1)
	ENDWHILE

RETURN

! ---------------------------------------------------------------------- !
"PRISM_CUTPLANE":

	MATERIAL poly_mat

	IF _oben_gehrung THEN
		ADDx poly_x
		ADDz poly_cut_height - poly_z1 - _korrektur_350

		GOSUB "CUTPLANE_O"
		DEL 2

		IF ABS(poly_z2) > 0 THEN
			ADDx poly_x
			ADDz poly_z2
			GOSUB "CUTPLANE_U"
			DEL 2
		ENDIF
	ENDIF

RETURN

! ---------------------------------------------------------------------- !
"PRISM_":

	SECT_FILL schraffurtyp, hintergrundstift, schraffurstift, konturenstift	
	MATERIAL poly_mat

	! IF _oben_gehrung THEN
	! 	ADDx poly_x
	! 	ADDz poly_cut_height - poly_z1

	! 	GOSUB "CUTPLANE_O"
	! 	DEL 2

	! 	IF ABS(poly_z2) > 0 THEN
	! 		ADDx poly_x
	! 		ADDz poly_z2
	! 		GOSUB "CUTPLANE_U"
	! 		DEL 2
	! 	ENDIF
	! ENDIF

	SECT_FILL schraffurtyp, hintergrundstift, schraffurstift, konturenstift	
	MATERIAL poly_mat
	PRISM_ NSP/3, poly_height, GET(NSP)
	BODY - 1

	IF _oben_gehrung THEN
		IF ABS(poly_z2) > 0 THEN CUTEND
		CUTEND
	ENDIF


	WHILE NSP DO			! Buffer leeren für alle Fälle
		www_sub = GET(1)
	ENDWHILE

RETURN

! ---------------------------------------------------------------------- !
"CUTPLANE_O":

	ROTz 90
	CUTPLANE{2} 45, 1
	BODY - 1
	DEL 1

RETURN

! ---------------------------------------------------------------------- !
"CUTPLANE_U":

	ROTz 90
	CUTPLANE{2} -225, 1
	BODY - 1
	DEL 1

RETURN

! ---------------------------------------------------------------------- !
"Riegel":


	SECT_FILL schraffurtyp, hintergrundstift, schraffurstift, konturenstift	
	MATERIAL poly_mat
	BODY - 1
	PRISM_ NSP/3, poly_height, GET(NSP)
	BODY - 1

	WHILE NSP DO			! Buffer leeren für alle Fälle
		www_sub = GET(1)
	ENDWHILE

RETURN

! ---------------------------------------------------------------------- !
"Pfosten":

	SECT_FILL schraffurtyp, hintergrundstift, schraffurstift, konturenstift	
	MATERIAL poly_mat
	PRISM_ NSP/3, poly_height, GET(NSP)
	BODY - 1

	WHILE NSP DO			! Buffer leeren für alle Fälle
		www_sub = GET(1)
	ENDWHILE

RETURN

! ---------------------------------------------------------------------- !
"HOTSPOTS_3D_unten":

	FOR i_sub = 1 TO NSP/3 - 1
	
		ADD GET(1), GET(1), 0
		HOTSPOT  0, 0, 0, htspt + GET(1) - 15
		GOSUB 3
		DEL 1
		htspt = htspt + 1
	NEXT i_Sub	

	WHILE NSP DO			! Buffer leeren, weil letzte Zeile nicht genutzt wird
		www_sub = GET(1)
	ENDWHILE
		
RETURN

! ---------------------------------------------------------------------- !
"HOTSPOTS_3D_oben":

	FOR i_sub = 1 TO NSP/3 - 1
	
		ADD GET(1), GET(1), poly_height - _abzug_oben
		HOTSPOT  0, 0, 0, htspt + GET(1) - 15
		GOSUB 3
		DEL 1
		htspt = htspt + 1
	NEXT i_Sub	

	WHILE NSP DO			! Buffer leeren, weil letzte Zeile nicht genutzt wird
		www_sub = GET(1)
	ENDWHILE
		
RETURN

! ---------------------------------------------------------------------- !
"HOTSPOTS_3D_FRAME":

	FOR i_sub = 1 TO NSP/3 - 1
	
		ADD GET(1), GET(1), 0
		HOTSPOT  0, 0, 0, htspt + GET(1) - 15
		GOSUB 3
		DEL 1
		htspt = htspt + 1
	NEXT i_Sub	

	WHILE NSP DO			! Buffer leeren, weil letzte Zeile nicht genutzt wird
		www_sub = GET(1)
	ENDWHILE
		
RETURN

! ---------------------------------------------------------------------- !
"GLAS":

	poly_cont_pen 	= dk_cont_pens[dka_frame_penC2]

	IF _panel_index = 1 THEN  ! RECHTS
		poly_fill 		= dk_fills[dka_side1_fill] 
		poly_fill_pen 	= dk_fill_pens[dka_side1_penF]
		poly_bg_pen 	= dk_bkg_pens[dka_side1_penB]
	ENDIF

	IF _panel_index = 2  THEN  ! LINKS
		poly_fill 		= dk_fills[dka_side2_fill] 
		poly_fill_pen 	= dk_fill_pens[dka_side2_penF]
		poly_bg_pen 	= dk_bkg_pens[dka_side2_penB]
	ENDIF

	IF _panel_index = 3  THEN
		poly_fill 		= dk_fills[dka_fan_fill] 
		poly_fill_pen 	= dk_fill_pens[dka_fan_penF]
		poly_bg_pen 	= dk_bkg_pens[dka_fan_penB]
	ENDIF

	poly_y_sub = poly_y

	GOSUB "GLAS_" + STR(lod_3D, 1, 0)

RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !

"GLAS_350":

	GOSUB "GLAS_400"

RETURN

"GLAS_400":

	SECT_FILL poly_fill, poly_bg_pen, poly_fill_pen, 	poly_cont_pen

	MATERIAL poly_mat
	GOSUB "LOD_glas_400_PUT"
	ADDz - _glas_plus
	PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
	BODY -1
	DEL 1

	MATERIAL poly_mat2
	GOSUB "LOD_glas_400_PUT"
	ADD 0, poly_y_sub, - _glas_plus
	PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
	BODY -1
	DEL 1

RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_glas_400_PUT":

		PUT	-_glas_plus, 			0, 		15,
			poly_x + _glas_plus, 	0, 		15,
			poly_x + _glas_plus,   	poly_y_sub, 15,
			- _glas_plus,   		poly_y_sub, 15,
			- _glas_plus, 			0, 		-1

	RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !

"GLAS_500":

	IF dk_sidelight_filling[2] = "G1" OR  dk_sidelight_filling[2] = "PL" THEN glis = 1
	IF dk_sidelight_filling[2] = "G2" THEN glis = 2
	IF dk_sidelight_filling[2] = "G3" THEN glis = 3

	SECT_FILL poly_fill, poly_bg_pen, poly_fill_pen, 	poly_cont_pen

	IF glis = 1 THEN

		MATERIAL poly_mat
		GOSUB "LOD_glas_500_PUT"
		ADDz - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1
		
		MATERIAL poly_mat2
		GOSUB "LOD_glas_500_PUT"
		ADD 0, poly_y_sub, - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1

	ENDIF

	IF glis = 2 THEN

		zwischenraum = 2 * poly_y_sub
		poly_y_sub = MIN(0.006, 2 * poly_y_sub/3)
		zwischenraum = zwischenraum - 2*poly_y_sub

		MATERIAL poly_mat
		GOSUB "LOD_glas_500_PUT"
		ADDz - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1
		
		MATERIAL poly_mat2
		GOSUB "LOD_glas_500_PUT"
		ADD 0, poly_y_sub + zwischenraum, - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1

	ENDIF

	IF glis = 3 THEN

		! poly_y_sub = 2 * poly_y_sub/5

		zwischenraum = 2 * poly_y_sub
		poly_y_sub = MIN(0.006, 2 * poly_y_sub/5)
		zwischenraum = (zwischenraum - 3*poly_y_sub)/2

		MATERIAL poly_mat
		GOSUB "LOD_glas_500_PUT"
		ADDz - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1
		
		MATERIAL poly_mat2
		GOSUB "LOD_glas_500_PUT"
		ADD 0, poly_y_sub + zwischenraum, - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1

		MATERIAL poly_mat2
		GOSUB "LOD_glas_500_PUT"
		ADD 0, 2 * ( poly_y_sub + zwischenraum ), - _glas_plus
		PRISM_ NSP/3, poly_height + _glas_plus * 2, GET(NSP)
		BODY -1
		DEL 1

	ENDIF

RETURN

	! ------------------------------------------------------------------ !
	! ------------------------------------------------------------------ !
	
	"LOD_glas_500_PUT":

		PUT	-_glas_plus, 			0, 		15,
			poly_x + _glas_plus, 	0, 		15,
			poly_x + _glas_plus,   	poly_y_sub, 15,
			- _glas_plus,   		poly_y_sub, 15,
			- _glas_plus, 			0, 		-1

	RETURN

! ---------------------------------------------------------------------- !
"Fuellung":


	! Fallunterscheidungen Material

	IF bs_door_sidelight = "L"  OR bs_door_sidelight = "LR" THEN
		IF (dk_sidelight_transom2 = 0 	AND js_fanlight_division_left = 0) AND (dk_sidelight_transom1 = 0 AND js_fanlight_division_right = 0) \
										AND (bs_fanlight_division # 1 AND bs_fanlight_division # 2 )      THEN
			_panel_mat_right_BS  = dk_materials[dka_side2_mat_BS]
			_panel_mat_right_BGS = dk_materials[dka_side2_mat_BGS]
			_panel_thk_right = bs_sidelight_filling_thk2/2
			_panel_index = 2
		ELSE
			_panel_mat_right_BS  = dk_materials[dka_side1_mat_BS]
			_panel_mat_right_BGS = dk_materials[dka_side1_mat_BGS]
			_panel_thk_right = bs_sidelight_filling_thk1/2
			_panel_index = 1
		ENDIF

		IF gs_door_transom = 0 AND bs_door_sidelight = "LR"    THEN			! ### CHECK 17.10.18
			_panel_mat_right_BS  = dk_materials[dka_side1_mat_BS]
			_panel_mat_right_BGS = dk_materials[dka_side1_mat_BGS]
			_panel_thk_right = bs_sidelight_filling_thk2/2
			_panel_index = 2
		ENDIF


		_panel_mat_left_BS  = dk_materials[dka_side2_mat_BS]
		_panel_mat_left_BGS = dk_materials[dka_side2_mat_BGS]
		_panel_thk_left = bs_sidelight_filling_thk2/2
		_panel_index = 2
	ELSE
		IF (dk_sidelight_transom2 = 0 AND js_fanlight_division_left = 0) AND (dk_sidelight_transom1 = 0 AND js_fanlight_division_right = 0) THEN
			_panel_mat_left_BS  = dk_materials[dka_side1_mat_BS]
			_panel_mat_left_BGS = dk_materials[dka_side1_mat_BGS]
			_panel_thk_left = bs_sidelight_filling_thk1/2
			_panel_index = 1
		ELSE
			_panel_mat_left_BS  = dk_materials[dka_side2_mat_BS]
			_panel_mat_left_BGS = dk_materials[dka_side2_mat_BGS]
			_panel_thk_left = bs_sidelight_filling_thk2/2
			_panel_index = 2
		ENDIF

		_panel_mat_right_BS  = dk_materials[dka_side1_mat_BS]
		_panel_mat_right_BGS = dk_materials[dka_side1_mat_BGS]
		_panel_thk_right = bs_sidelight_filling_thk1/2
		_panel_index = 1

	ENDIF


	! V E R G L A S U N G  /  F Ü L L U N G

	! L I N K S

	ADDy - gs_ub_st2											! KO_TRAFO 033

	IF gs_sidelight_left THEN 
		poly_x 			= gs_sidelight_width_left - _framewidth_left - _framewidth_post_left   + gs_vb * (dk_LOD < 350)  +  (dk_LOD = 350) * gs_tolerance_left
		poly_y 			= _panel_thk_left
		poly_mat		= _panel_mat_left_BS	
		IF gs_door_transom AND dk_sidelight_transom2 = 1 THEN 
			poly_height		= ac_egress_height - _frame_width_bottom_sl 
		ELSE
			poly_height		= frame_out_dims_z - _frame_width_upper - _frame_width_bottom_sl
		ENDIF

		poly_mat		= dk_materials[dka_side2_mat_BS]
		poly_mat2		= dk_materials[dka_side2_mat_BGS]

		ADD -clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, gs_vt - poly_y * 2, _frame_width_bottom_sl
		GOSUB "GLAS"
		DEL 1

		! ---------------------------------------------------------------------- !
		! ---------------------------------------------------------------------- !
		poly_x = 0

		IF gs_door_transom THEN
			IF dk_sidelight_transom2 = 0 AND js_fanlight_division_left = 0 THEN
				poly_mat		= _panel_mat_left_BS	
				IF bs_fanlight_division = 0		THEN 
					poly_x = _transom_length  - gs_vb * 4 * (lod_3D > 351) - (lod_3D = 350) * (gs_tolerance_right + gs_tolerance_left) * (dk_sidelight_transom1 = 0)
				ENDIF
				IF bs_fanlight_division = 1		THEN poly_x = frame_out_dims_x/2 - gs_sidelight_width_left + _framewidth_post_left - dk_post_width_upper/2
				IF bs_fanlight_division = 2 	THEN poly_x = bs_famlight_asym_x - gs_sidelight_width_left + _framewidth_post_left
				IF bs_fanlight_division = 8 	THEN poly_x = frame_out_dims_x - gs_sidelight_width_right -gs_sidelight_width_left + _framewidth_post_left - gs_vb * 2 * (lod_3D > 399)
	
				poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

				_transom_move = - frame_out_dims_x/2  + gs_sidelight_width_left - _framewidth_post_left + gs_vb * 2 * (lod_3D > 399)   ! ### 25.08.17

				poly_mat2		= _panel_mat_left_BGS	
				ADD _transom_move  +  (dk_LOD = 350) * gs_tolerance_left - clearingFrameCenter , gs_vt - poly_y * 2, ac_egress_height + _frame_width_transom
				GOSUB "GLAS"
				DEL 1

			ENDIF
		ENDIF

	ENDIF

	! R E C H T S
	_move_x = 0

	IF gs_sidelight_right THEN
		poly_x 			= gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + gs_vb * (dk_LOD < 350)  +  (dk_LOD = 350) * gs_tolerance_right
		poly_y 			= _panel_thk_right
		poly_mat		= _panel_mat_right_BS	
		IF gs_door_transom AND dk_sidelight_transom1 = 1 THEN 
			poly_height		= ac_egress_height - _frame_width_bottom_sl
		ELSE
			poly_height		= frame_out_dims_z - _frame_width_upper - _frame_width_bottom_sl
		ENDIF

		poly_mat2		= _panel_mat_right_BGS
		ADD -clearingFrameCenter + frame_out_dims_x/2 + _framewidth_post_right - gs_sidelight_width_right - (dk_LOD = 350) * gs_tolerance_right, gs_vt - poly_y * 2, _frame_width_bottom_sl
		GOSUB "GLAS"
		DEL 1

		IF gs_door_transom AND ( dk_sidelight_transom1 = 1 OR dk_sidelight_transom2 =1 OR bs_fanlight_division > 0 ) THEN
			poly_x = 0

			IF 	(dk_sidelight_transom1 = 0 AND bs_fanlight_division = 0 AND dk_sidelight_transom2 # 0)	THEN		
				poly_mat		= dk_materials[dka_side1_mat_BS]
				_panel_index = 1 	
					poly_x	= _transom_length - gs_vb * 2 * (LOD_3D > 399) -  (dk_LOD = 350) * gs_tolerance_right
					_move_x = - frame_out_dims_x/2	+ _framewidth_left	- clearingFrameCenter
			ENDIF
	
			IF 	(dk_sidelight_transom1 = 0 AND dk_sidelight_transom2 = 0 AND (bs_fanlight_division >1))	THEN		
				poly_mat		= dk_materials[dka_side1_mat_BS]	
				_panel_index = 1 

				IF bs_fanlight_division = 1 AND bs_door_sidelight  # "R" THEN 	
					poly_x	= frame_out_dims_x/2 -  gs_sidelight_width_right - dk_post_width_upper/2 + _framewidth_post_right
					_move_x = -gs_sidelight_width_left + _framewidth_post_left + frame_out_dims_x/2 + dk_post_width_upper/2 
				ENDIF
	
				IF bs_fanlight_division = 1 AND bs_door_sidelight  = "R" THEN 	
					poly_x	= frame_out_dims_x/2 -  gs_sidelight_width_right - dk_post_width_upper/2 + _framewidth_post_right 
					_move_x = frame_out_dims_x/2	 - _framewidth_left + dk_post_width_upper/2
				ENDIF
	
				IF bs_fanlight_division = 4 THEN 	
					poly_x	= frame_out_dims_x -  gs_sidelight_width_right - gs_sidelight_width_left + _framewidth_post_right
					_move_x = _framewidth_post_left 
				ENDIF
	
			ENDIF
	
			IF 	(dk_sidelight_transom1 = 0 AND (bs_fanlight_division = 4))	THEN
				_move_x =  - frame_out_dims_x/2 + gs_sidelight_width_left 		
				poly_mat		= dk_materials[dka_side1_mat_BS]	
				_panel_index = 1 
				poly_x	= frame_out_dims_x -  gs_sidelight_width_right - gs_sidelight_width_left + _framewidth_post_right - gs_vb * 2 * (LOD_3D > 399) 
				poly_x = poly_x -  (dk_LOD = 350) * (gs_tolerance_right + gs_tolerance_left)/ 2
			ENDIF
	
			IF 	(dk_sidelight_transom1 = 0 AND dk_sidelight_transom2 = 0 AND (bs_fanlight_division = 0)) AND bs_door_sidelight # "LR"	THEN		
				poly_mat		= dk_materials[dka_side1_mat_BS]	
				_panel_index = 1 
				poly_x	= frame_out_dims_x -  gs_sidelight_width_right - _framewidth_left + _framewidth_post_right  - gs_vb * 2 * (LOD_3D > 399)
				_move_x = - frame_out_dims_x/2 + _framewidth_left 
			ENDIF
	
				poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom
	
				poly_mat2		= dk_materials[dka_side1_mat_BGS]	
				_panel_index = 1 

				ADD _transom_move + _move_x , gs_vt - poly_y * 2 , ac_egress_height + _frame_width_transom
				IF poly_x > 0 THEN GOSUB "GLAS"
				DEL 1
	
		ENDIF

	ENDIF

	! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !

	! O B E N

	_panel_index = 3
	_panel_mat_top_BS = dk_materials[dka_fan_mat_BS]
	_panel_mat_top_BGS = dk_materials[dka_fan_mat_BGS]
	_panel_thk_top = bs_fanlight_filling_thk/2

	IF dk_sidelight_transom1 = 0 AND dk_sidelight_transom2 = 0 THEN
		_panel_index = 1
		_panel_mat_top_BS  = dk_materials[dka_side1_mat_BS]
		_panel_mat_top_BGS = dk_materials[dka_side1_mat_BGS]
		_panel_thk_top = bs_sidelight_filling_thk1/2
	ENDIF

	IF dk_sidelight_transom2 = 0 THEN
		_panel_index = 2
		_panel_mat_top_BS  = dk_materials[dka_side2_mat_BS]
		_panel_mat_top_BGS = dk_materials[dka_side2_mat_BGS]
		_panel_thk_top = bs_sidelight_filling_thk2/2
	ENDIF
	IF	bs_door_sidelight = "R" AND dk_sidelight_transom2  = 0 THEN
		_panel_index = 1
		_panel_mat_top_BS = dk_materials[dka_fan_mat_BS]
		_panel_mat_top_BGS = dk_materials[dka_fan_mat_BGS]
		_panel_thk_top = bs_fanlight_filling_thk/2
	ENDIF

	! ---------------------------------------------------------------------- !

	poly_y = bs_fanlight_filling_thk/2

	IF gs_door_transom THEN  ! AND ( dk_sidelight_transom1 = 1 OR dk_sidelight_transom2 =1 OR bs_fanlight_division > 0 ) 

		IF gs_sidelight_left = 0 AND gs_sidelight_right = 0 AND bs_fanlight_division = 0 AND bs_inner_frame # 2 THEN

			! Oberlicht über Tür OHNE Seitenfelder

			poly_x = _kaempferlaenge
			poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

			poly_mat		= dk_materials[dka_fan_mat_BS]
			poly_mat2		= dk_materials[dka_fan_mat_BGS]	
			_panel_index = 3	
			ADD -clearingFrameCenter  - frame_out_dims_x/2 + _framewidth_left, gs_vt - poly_y * 2, ac_egress_height + _frame_width_transom
			! GOSUB "GLAS"																						! #### CHECK 17.10.18
			DEL 1

		ENDIF

		IF dk_sidelight_transom2 = 1 AND bs_door_sidelight  = "LR" AND dk_sidelight_transom1 = 0 AND bs_fanlight_division  = 0 THEN ! ### Check last value
			poly_x = frame_out_dims_x - gs_sidelight_width_right  - gs_vb * 2 * (LOD_3D > 399)
			_transom_move = - frame_out_dims_x/2 + _framewidth_left

			poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom
			poly_y = bs_sidelight_filling_thk1/2
			poly_mat		= dk_materials[dka_side1_mat_BS]	
			poly_mat2		= dk_materials[dka_side1_mat_BGS]	
			_panel_index = 1

			ADD _transom_move, gs_vt - poly_y * 2 - poly_y1, ac_egress_height + _frame_width_transom
			! IF poly_x  > 0 THEN GOSUB "GLAS"																	! #### CHECK 17.10.18
			DEL 1
	
		ENDIF

		IF js_fanlight_division_right AND bs_inner_frame # 2 THEN _transom_move = - frame_out_dims_x/2 + _framewidth_left

		! ---------------------------------------------------------------------- !

		! 1 . T E I L   V O N   L I N K S

		IF dk_sidelight_transom2 = 1 OR (bs_door_sidelight = "R" AND dk_sidelight_transom2 = 0) THEN

			poly_x = 0
			! ......................... !
			IF bs_fanlight_division = 0 AND bs_inner_frame # 2	THEN 
				_transom_move = - frame_out_dims_x/2 +  _framewidth_left
				IF dk_sidelight_transom1 = 1 THEN poly_x = frame_out_dims_x - _framewidth_right - _framewidth_left
				IF dk_sidelight_transom2 = 1 AND bs_door_sidelight  = "L" THEN poly_x = frame_out_dims_x - _framewidth_right - _framewidth_left
			ENDIF
			! ......................... !
			IF bs_fanlight_division = 1		THEN 
				_transom_move = - frame_out_dims_x/2 +  _framewidth_left
				poly_x = frame_out_dims_x/2 - _framewidth_left - dk_post_width_upper/2										! Symmetrisch
				_panel_mat_top_BS = dk_materials[dka_fan_mat_BS]
				_panel_mat_top_BGS = dk_materials[dka_fan_mat_BGS]
				_panel_thk_top = bs_fanlight_filling_thk/2
			ENDIF
			! ......................... !
			IF bs_fanlight_division = 2		THEN 
				_transom_move = - frame_out_dims_x/2 +  _framewidth_left
				poly_x = - _framewidth_left + bs_famlight_asym_x 																! aSymmetrisch
			ENDIF
			! ......................... !
			IF bs_fanlight_division = 4  THEN 
				_transom_move = - frame_out_dims_x/2 +  _framewidth_left
				poly_x = gs_sidelight_width_left - _framewidth_left - _framewidth_post_left 
			ENDIF
			! ......................... !
			IF bs_fanlight_division = 8 AND bs_inner_frame # 2 THEN poly_x = frame_out_dims_x - gs_sidelight_width_right - _framewidth_left  
			! ......................... !
			IF bs_fanlight_division = 12	THEN 
				_transom_move = - frame_out_dims_x/2 +  _framewidth_left 
				poly_x = gs_sidelight_width_left - _framewidth_left - _framewidth_post_left 
			ENDIF
			! ......................... !

			poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom
			poly_y = _panel_thk_top
			poly_mat		= _panel_mat_top_BS	
			poly_mat2		= _panel_mat_top_BGS	
			ADD _transom_move - clearingFrameCenter, gs_vt - poly_y * 2, ac_egress_height + _frame_width_transom 
			IF bs_fanlight_division > 0 THEN poly_x = poly_x +	(dk_LOD = 350) * (gs_tolerance_left + gs_tolerance_right)
						!	poly_x = poly_x -  (dk_LOD = 350) * ((gs_tolerance_right - gs_tolerance_left)/2)
			IF poly_x  > 0 THEN GOSUB "GLAS"
			DEL 1

		ENDIF

		! ---------------------------------------------------------------------- !

		! 2 . T E I L   V O N   L I N K S

		_panel_mat_top_BS = dk_materials[dka_fan_mat_BS]
		_panel_mat_top_BGS = dk_materials[dka_fan_mat_BGS]
		_panel_thk_top = bs_fanlight_filling_thk/2

		IF dk_sidelight_transom1 = 0 AND bs_fanlight_division = 1 THEN
			_panel_mat_top_BS  = dk_materials[dka_side1_mat_BS]
			_panel_mat_top_BGS = dk_materials[dka_side1_mat_BGS]
			_panel_thk_top = bs_sidelight_filling_thk1/2
		ENDIF

		poly_x 			= 0
		poly_y 			= _panel_thk_top
		poly_mat		= _panel_mat_top_BS	

		IF bs_fanlight_division = 2		THEN 
			poly_x = frame_out_dims_x - _framewidth_right - bs_famlight_asym_x - dk_post_width_upper							! aSymmetrisch
			IF dk_sidelight_transom1 = 0 THEN poly_x = 0
			_transom_move = - frame_out_dims_x /2 + bs_famlight_asym_x  + dk_post_width_upper
		ENDIF

		IF bs_fanlight_division = 4	 AND bs_inner_frame # 2	THEN 																! ### MAY CHECK
			poly_x = frame_out_dims_x - _framewidth_right - gs_sidelight_width_left \
						+ (dk_LOD = 350) * (gs_tolerance_right - gs_tolerance_left) / 2 										! nur Links
			_transom_move = - frame_out_dims_x /2 + gs_sidelight_width_left 
			IF dk_sidelight_transom1 = 0 THEN poly_x = 0
			IF bs_door_sidelight = "L" THEN poly_x =  frame_out_dims_x - gs_sidelight_width_left - _framewidth_right \
						+ (dk_LOD = 350) * (- gs_tolerance_left + gs_tolerance_right) / 2
		ENDIF

		IF bs_fanlight_division = 8 AND dk_sidelight_transom1	THEN 
			poly_x = gs_sidelight_width_right - _framewidth_right - _framewidth_post_right + (dk_LOD = 350) * gs_tolerance_right 
																																! nur Rechts
			_transom_move = frame_out_dims_x /2 - gs_sidelight_width_right + _framewidth_post_right \
							- (dk_LOD = 350) * (gs_tolerance_right + gs_tolerance_left) / 2
		ENDIF

		IF bs_fanlight_division = 12		THEN 
			IF bs_inner_frame # 2 THEN poly_x = frame_out_dims_x - gs_sidelight_width_right - gs_sidelight_width_left 		! beide, wie unten
			_transom_move = - frame_out_dims_x /2 + gs_sidelight_width_left 
		ENDIF

		IF bs_fanlight_division = 1		THEN 
			IF dk_sidelight_transom1 		THEN poly_x = frame_out_dims_x/2 - _framewidth_right - dk_post_width_upper/2				! Symmetrisch
			IF bs_door_sidelight = "L" THEN poly_x = frame_out_dims_x/2 - _framewidth_right - dk_post_width_upper/2	
			IF NOT(dk_sidelight_transom1) THEN 
				poly_x = frame_out_dims_x/2 - gs_sidelight_width_right + _framewidth_post_right - dk_post_width_upper/2 - gs_vb * 2 * (LOD_3D > 399)
				poly_x = poly_x  -  (dk_LOD = 350) * gs_tolerance_right 
				poly_y = bs_sidelight_filling_thk1/2
			ENDIF
			_transom_move 	= dk_post_width_upper/2
			poly_x = poly_x +  (dk_LOD = 350) * (gs_tolerance_right - gs_tolerance_left) / 2 
		ENDIF

		poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom

		ADD _transom_move, gs_vt - poly_y * 2, ac_egress_height + _frame_width_transom 
		poly_mat2		= _panel_mat_top_BGS
		IF poly_x  > 0 THEN GOSUB "GLAS"

		DEL 1

		! ---------------------------------------------------------------------- !

		! 3 . T E I L   V O N   L I N K S

		poly_mat		= _panel_mat_top_BS	
		poly_x 			= 0
		IF bs_fanlight_division = 12 AND dk_sidelight_transom1	THEN 
			poly_x = gs_sidelight_width_right 	 - 		_framewidth_right	 - _framewidth_post_right +	(dk_LOD = 350) * gs_tolerance_right					! beide, wie unten
			_transom_move = frame_out_dims_x /2 - gs_sidelight_width_right +  _framewidth_post_right
		ENDIF

		poly_height		= frame_out_dims_z - ac_egress_height - _frame_width_upper - _frame_width_transom
		poly_mat2		= _panel_mat_top_BGS
		ADD _transom_move  - clearingFrameCenter -	(dk_LOD = 350) * gs_tolerance_right, gs_vt - poly_y * 2, ac_egress_height + _frame_width_transom 
		IF poly_x  > 0 THEN GOSUB "GLAS"
		DEL 1

	ENDIF
	
	_transom_move = 0

	DEL 1											! KO_TRAFO 033

RETURN


! ---------------------------------------------------------------------- !
"Doppelfalz":


	DIM x_g[6]: DIM y_g[6]

	x_g[1] = 0										:		y_g[1] = -1
	x_g[2] = 0										:		y_g[2] = 0
	x_g[3] = 0										:		y_g[3] = _oeffnung_y + gs_vb - poly_x8
	x_g[4] = _oeffnung_x + 2 * (gs_vb - poly_x8)	:		y_g[4] = _oeffnung_y + gs_vb - poly_x8
	x_g[5] = _oeffnung_x + 2 * (gs_vb - poly_x8)	:		y_g[5] = 0
	x_g[6] = _oeffnung_x + 2 * (gs_vb - poly_x8)	:		y_g[6] = -1

	GOSUB "tube_4eck~"

RETURN

"tube_4eck~":

	PUT			poly_x8 * 2 - poly_x4, 			0, 			0,		!Profil
				poly_x8, 						0, 			0,
				poly_x8, 						poly_y8, 	0,	
				poly_x8 * 2 - poly_x4, 			poly_y8, 	0,
				poly_x8 * 2 - poly_x4, 			0, 			0	

	profpoints=NSP/3
	!-----------------------------
	PUT			x_g[1],			y_g[1],			0,		0	!Phantom 1
	PUT			x_g[2],			y_g[2],			0,		0	!Punkt 1
	PUT			x_g[3],			y_g[3],			0,		0	!Punkt 2
	PUT			x_g[4],			y_g[4],			0,		0	!Punkt 3
	PUT			x_g[5],			y_g[5],			0,		0	!Punkt 4
	PUT			x_g[6],			y_g[6],			0,		0	!Phantom 2

	pathpoints = (NSP - profpoints * 3) / 4
	!-------------------------------


	ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_left * gs_sidelight_width_left - gs_vb + poly_x8  + _framewidth_left * NOT(gs_sidelight_left), -poly_y1 + gs_vt, 0
	ROTx 90

	BODY -1
	SECT_FILL schraffurtyp, hintergrundstift, schraffurstift, konturenstift	
	MATERIAL dk_materials[dka_frame_mat_BS]
	TUBE profpoints, pathpoints, 1 + 2 + 4 + 8 + 16 + 32,
	GET (NSP)
	BODY -1

	DEL 2

RETURN

! ---------------------------------------------------------------------- !
"Dreifachfalz":
	
	DIM x_g[6]: DIM y_g[6]

	x_g[1] = 0												:		y_g[1] = -1
	x_g[2] = 0												:		y_g[2] = 0
	x_g[3] = 0												:		y_g[3] = _oeffnung_y 
	x_g[4] = _oeffnung_x + 0 * (gs_vb - poly_x8 - poly_x9)	:		y_g[4] = _oeffnung_y 
	x_g[5] = _oeffnung_x + 0 * (gs_vb - poly_x8 - poly_x9)	:		y_g[5] = 0
	x_g[6] = _oeffnung_x + 0 * (gs_vb - poly_x8 - poly_x9)	:		y_g[6] = -1

	GOSUB "tube_6eck~"

	RETURN

	"tube_6eck~":


	PUT			poly_x8, 				0, 					0,		! Profil
				poly_x8, 				poly_y8, 			0,		! Kante
				poly_x8 + poly_x9, 		poly_y8, 			0,		! Kante
				poly_x8 + poly_x9, 		poly_y9 + poly_y8, 	0,	
				poly_x4, 				poly_y9 + poly_y8, 			0,
				poly_x4, 				0, 			0,
				poly_x8, 				0, 					0	

	profpoints=NSP/3
	!-----------------------------
	PUT			x_g[1],			y_g[1],			0,		0	!Phantom 1
	PUT			x_g[2],			y_g[2],			0,		0	!Punkt 1
	PUT			x_g[3],			y_g[3],			0,		0	!Punkt 2
	PUT			x_g[4],			y_g[4],			0,		0	!Punkt 3
	PUT			x_g[5],			y_g[5],			0,		0	!Punkt 4
	PUT			x_g[6],			y_g[6],			0,		0	!Phantom 2

	pathpoints = (NSP - profpoints * 3) / 4
	!-------------------------------

	ADD -clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_left * gs_sidelight_width_left + _framewidth_left * NOT(gs_sidelight_left), -poly_y1 + gs_vt, 0
	!CYLIND 1,0.001

	ROTx 90


	BODY -1
	SECT_FILL schraffurtyp, hintergrundstift, schraffurstift, konturenstift	
	MATERIAL dk_materials[dka_frame_mat_BS]
	TUBE profpoints, pathpoints, 1 + 2 + 4 + 8 + 16 + 32,
	GET (NSP)
	BODY -1

	DEL 2

RETURN

! ---------------------------------------------------------------------- !
"fill_LOD300_1":

	PUT 0, 			0, 			15,
		poly_x1, 	0, 			15,
		poly_x1, 	poly_y3, 	15,
		0, 			poly_y3, 	15,
		0,			0,			-1

	PRISM_ NSP/3, poly_z1, GET(NSP)

RETURN

! ---------------------------------------------------------------------- !
"fill_LOD300_2":

	PUT poly_x4, 	0, 			15,
		poly_x3, 	0, 			15,
		poly_x3, 	poly_y3, 	15,
		poly_x4, 	poly_y3, 	15,
		poly_x4,	0,			-1

	PRISM_ NSP/3, poly_z1, GET(NSP)

RETURN

! ---------------------------------------------------------------------- !
"fill_LOD300_4":

	IF bs_inner_frame # 2 THEN 

		PUT 0, 			poly_y1, 	15,
			poly_x3, 	poly_y1, 	15,
			poly_x3, 	poly_y3, 	15,
			0, 			poly_y3, 	15,
			0,			poly_y1,	-1

		PRISM_ NSP/3, poly_z1, GET(NSP)

	ENDIF

RETURN

! ---------------------------------------------------------------------- !
"fill_LOD300_6":

	IF bs_inner_frame # 2 THEN 
		PUT 0, 			poly_y1, 	15,
			poly_x4, 	poly_y1, 	15,
			poly_x4, 	0, 			15,
			poly_x3, 	0, 			15,
			poly_x3, 	poly_y3, 	15,
			0, 			poly_y3, 	15,
			0,			poly_y1,	-1

	ELSE

		PUT poly_x4, 	poly_y1, 	15,
			poly_x4, 	0, 			15,
			poly_x3, 	0, 			15,
			poly_x3, 	poly_y3, 	15,
			poly_x4, 	poly_y3, 	15,
			poly_x4,	poly_y1,	-1

	ENDIF

	PRISM_ NSP/3, poly_z1, GET(NSP)

RETURN



! ---------------------------------------------------------------------- !
"fill_LOD300_7":

	IF bs_inner_frame # 2 THEN 
		PUT 0, 			0, 			15,
			poly_x1, 	0, 			15,
			poly_x1, 	poly_y1, 	15,
			poly_x4, 	poly_y1, 	15,
			poly_x4, 	0, 			15,
			poly_x3, 	0, 			15,
			poly_x3, 	poly_y3, 	15,
			0, 			poly_y3, 	15,
			0,			0,			-1

		PRISM_ NSP/3, poly_z1, GET(NSP)
	ELSE


		PUT poly_x4, 	poly_y1, 	15,
			poly_x4, 	0, 			15,
			poly_x3, 	0, 			15,
			poly_x3, 	poly_y3, 	15,
			poly_x4, 	poly_y3, 	15,
			poly_x4,	poly_y1,	-1

		PRISM_ NSP/3, poly_z1, GET(NSP)

		PUT 0, 			0, 			15,
			poly_x1, 	0, 			15,
			poly_x1, 	poly_y1, 	15,
			poly_x1, 	poly_y3, 	15,
			0, 			poly_y3, 	15,
			0,			0,			-1

		PRISM_ NSP/3, poly_z1, GET(NSP)

	ENDIF
	
RETURN

! ---------------------------------------------------------------------- !

"fill_LOD300_5":

	IF bs_inner_frame # 2 THEN 

		PUT 0, 			0, 			15,
			poly_x1, 	0, 			15,
			poly_x1, 	poly_y1, 	15,
			poly_x3, 	poly_y1, 	15,
			poly_x3, 	poly_y3, 	15,
			0, 			poly_y3, 	15,
			0,			0,			-1

	ELSE

		PUT 0, 			0, 			15,
			poly_x1, 	0, 			15,
			poly_x1, 	poly_y1, 	15,
			poly_x1, 	poly_y3, 	15,
			0, 			poly_y3, 	15,
			0,			0,			-1

	ENDIF

	PRISM_ NSP/3, poly_z1, GET(NSP)

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"Fugenfuellung":

abst_li = gs_tolerance_left
abst_re = gs_tolerance_right
abst_ob = gs_tolerance_upper

	PUT -ac_wallhole_width / 2, 0,
		-ac_wallhole_width / 2, ac_wallhole_height,
		 ac_wallhole_width / 2, ac_wallhole_height,
		 ac_wallhole_width / 2, 0,
		 ac_wallhole_width / 2 - abst_re, 0,
		 ac_wallhole_width / 2 - abst_re, ac_wallhole_height - abst_ob,
		-ac_wallhole_width / 2 + abst_li, ac_wallhole_height - abst_ob,
		-ac_wallhole_width / 2 + abst_li, 0,
		-ac_wallhole_width / 2, 0

	MATERIAL poly_mat
	SECT_FILL dk_fills[dka_gap_filling_fill], dk_bkg_pens[dka_gap_filling_penB], dk_fill_pens[dka_gap_filling_penF], konturenstift	

	ROTx 90
	ADDx -offsetFrameCenter
	PRISM NSP/2, - poly_z_fuge, GET(NSP)
	DEL 2

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !



]]></Script_3D>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_2D SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
IF NOT( BITTEST(macro_runtype,4) ) THEN END

DRAWINDEX 20

! ---------------------------------------------------------------------- !

IF macro_runtype = 0 THEN		 ! N U R    S T A N D A L O N E

	ADD2 0.0, -0.1
	MUL2 1, - 1
	!PROJECT2 3,270,1
	
	DEL 2
	
	TEXT2 0,1, 1*(dk_sidelight_transom1 = 0 AND dk_sidelight_transom2 = 1 AND bs_fanlight_division = 0 )
	!TEXT2 0, 0, bs_spiegel_br_ob_bs
	!TEXT2 0, - 0.5, dk_frame_thk_upper

	xa = ac_unit_width
	LINE2 xa/2, 0, xa, 0
	LINE2 -xa/2, 0, -xa, 0
	LINE2 xa/2, 0, xa/2, C_
	LINE2 -xa/2, 0,-xa/2, C_
	LINE2 xa/2, C_, xa, C_
	LINE2 -xa/2, C_, -xa, C_

ENDIF

IF develop = 9 THEN
	circle2 0 ,					WALL_THICKNESS+0.05,0.001
	circle2 clearingFrameCenter,	WALL_THICKNESS+0.05,0.002
	circle2 offsetEgressCenter,	WALL_THICKNESS+0.05,0.003

	line2 0,	WALL_THICKNESS+0.05,   frame_out_dims_x/2,	WALL_THICKNESS+0.025
	line2 -frame_out_dims_x/2,	WALL_THICKNESS+0.025,   0,	WALL_THICKNESS+0.05

	! TEXT2 0,0, "dk_sidelight_transom2 = " 	+ STR(dk_sidelight_transom2,1,0)
	! TEXT2 0,0.1, "bs_door_sidelight = " 	+	bs_door_sidelight
	! TEXT2 0,0.2, "dk_sidelight_transom1 = " 	+ STR(dk_sidelight_transom1,1,0)
	! TEXT2 0,0.3, "bs_fanlight_division = " 	+ STR(bs_fanlight_division,1,0)

	ENDIF


! ---------------------------------------------------------------------- !
! -------- 2 D  -  S c r i p t ----------------------------------------- !
! ---------------------------------------------------------------------- !


LOD_2D = dk_LOD						! wird vom Hauptobjekt übergeben

MUL2 -1,-1
ADD2 offsetFrameCenter, offsetFrameSurfaceBS

GOSUB "LOD_" + STR(LOD_2D, 1, 0)

DEL 2

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

WHILE NSP DO			! Buffer leeren, weil letzte Zeile nicht genutzt wird
	www_sub = GET(1)
	ENDWHILE

END  offsetFrameSurfaceBGS,
		facingLintelBS, facingLintelBGS,
		frame2wallSurfaceBS, frame2wallSurfaceBGS, htspt


! ---------------------------- E N D ----------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------- SUBS ------------------------------------ !

1: ! D U M M Y   C I R C L E

	CIRCLE2 0, 0, 0.01
	HOTSPOT2 0, 0, htspt : htspt = htspt + 1

RETURN

2: ! S I N G L E   H O T S P O T

	HOTSPOT2 0, 0, htspt : htspt = htspt + 1

RETURN


! ---------------------------------------------------------------------- !
! ----------------------  L  O  D  - 1  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_100":

	! H I E R    G I B T     E S     K E I N E     E L E M E N T E

RETURN

! ---------------------------------------------------------------------- !
! ----------------------  L  O  D  - 2  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_200":

	GOSUB "LOD_300"		! Wie LOD 300

RETURN

! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    3  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_300":

	_tt_plus = 0 : GOSUB "Fangpunkte"

	ADD2 -clearingFrameCenter, 0

	IF gs_sidelight_left THEN 
		_sidelight_width = gs_sidelight_width_left + gs_tolerance_left
		_framewidth = _framewidth_left
		poly_x = _framewidth_post_left
		ADD2 - frame_out_dims_x/2 + _sidelight_width , 0
		gosub 2
		GOSUB "LOD_300_sidepost"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		_sidelight_width = gs_sidelight_width_right + gs_tolerance_right
		_framewidth = _framewidth_right
		poly_x = _framewidth_post_right
		ADD2 + frame_out_dims_x/2 - _sidelight_width, 0
		MUL2 -1, 1
		gosub 2
		GOSUB "LOD_300_sidepost"
		DEL 2
	ENDIF

	DEL 1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_300_sidepost":

	PEN dk_cont_pens[dka_topview_penC2]
	LINE2 0, 0,   -_sidelight_width, 0 

RETURN


! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    3  5  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_350":

	bs_folding_nmbr = 0

	_tt_plus = 0 : GOSUB "Fangpunkte"

	ADD2 -clearingFrameCenter, 0

	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]
	poly_fill 		= dk_fills[dka_frame_fill] 
	poly_fill_pen 	= dk_fill_pens[dka_frame_penF] 
	poly_bg_pen 	= dk_bkg_pens[dka_frame_penB] 

	poly_x 			= _framewidth_left
	poly_y 			= frame_out_dims_y

	ADD2 - frame_out_dims_x/2, 0
	GOSUB "LOD_350_frame"
	DEL 1

	poly_x 			= _framewidth_right
	ADD2 + frame_out_dims_x/2, 0
	MUL2 -1, 1
	GOSUB "LOD_350_frame"
	DEL 2


	poly_y = _frame_thk_post
	IF gs_sidelight_left THEN 
		_sidelight_width = gs_sidelight_width_left + gs_tolerance_left
		_framewidth = _framewidth_left
		poly_x = _framewidth_post_left
		ADD2 - frame_out_dims_x/2 + _sidelight_width - poly_x , 0
		gosub 2
		GOSUB "LOD_400_sidepost"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		_sidelight_width = gs_sidelight_width_right + gs_tolerance_right
		_framewidth = _framewidth_right
		poly_x = _framewidth_post_right
		ADD2 + frame_out_dims_x/2 - _sidelight_width + poly_x, 0
		MUL2 -1, 1
		gosub 2
		GOSUB "LOD_400_sidepost"
		DEL 2
	ENDIF

	DEL 1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_350_frame":

	GOSUB "LOD_350_frame_PUT"
	GOSUB "POLY2_B"

	! ......................... !

	GOSUB "LOD_350_frame_PUT"
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_350_frame_PUT":

	PUT	0, 			0, 		1,
		poly_x, 	0, 		1,
		poly_x,   	poly_y, 1,
		0,   		poly_y, 1,
		0, 			0, 		-1

RETURN



! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    4  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_400":

	bs_folding_nmbr = (bs_folding_nmbr > 0)

	GOSUB "Fangpunkte"

	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]
	poly_fill 		= dk_fills[dka_frame_fill] 
	poly_fill_pen 	= dk_fill_pens[dka_frame_penF] 
	poly_bg_pen 	= dk_bkg_pens[dka_frame_penB] 

	poly_x 			= _framewidth_left		! Zargenbreite
	poly_x1 		= gs_ub_st1				! seitlicher Überstand X
	poly_x3 		= bs_spiegel_br_bs	+ gs_vb	! Spiegelbreite BS X
	poly_x4 		= gs_vb					! Falzbreite X
	poly_x5 		= bs_spiegel_br_bgs		! Spiegelbreite BGS X

	poly_y 			= frame_out_dims_y 		! Zargentiefe (z.B. Wandstärke) das kann auch "bz_tiefe" sein ### TODO prüfen
	poly_y1 		= gs_ub_st2				! seitlicher Überstand Y 
	poly_y4 		= gs_vt					! Falztiefe Y
	poly_yz 		= _frame_thk_EZ - gs_ub_st2			! Zargentiefe bei EZ

	! ---------- Z A R G E

	ADD2 clearingFrameCenter - frame_out_dims_x/2, 0
	falz = NOT(gs_sidelight_left) : GOSUB "LOD_400_frame_" + dk_frametype
	DEL 1

	poly_x 			= _framewidth_right		! Zargenbreite
	ADD2 clearingFrameCenter + frame_out_dims_x/2, 0
	MUL2 -1, 1
	falz = NOT(gs_sidelight_right) : GOSUB "LOD_400_frame_" + dk_frametype
	DEL 2

	! ---------- P F O S T E N

	poly_y = _frame_thk_post

	IF gs_sidelight_left THEN 
		poly_x = _framewidth_post_left
		_framewidth = _framewidth_left
		_sidelight_width = gs_sidelight_width_left
		ADD2 clearingFrameCenter - frame_out_dims_x/2 + _sidelight_width - poly_x, 0
		GOSUB "LOD_400_sidepost"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		poly_x = _framewidth_post_right
		_framewidth = _framewidth_right
		_sidelight_width = gs_sidelight_width_right
		ADD2 clearingFrameCenter + frame_out_dims_x/2 - _sidelight_width + poly_x, 0
		MUL2 -1, 1
		GOSUB "LOD_400_sidepost"
		DEL 2
	ENDIF

	! ---------- F Ü L L U N G    S E I T E N F E L D E R

	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]

	poly_x4 		= 0					! Falzbreite X
	poly_y4 		= gs_vt					! Falztiefe Y
	glis 			= 1						! Grundeingestellte Anzahl der Anzahl Seitenfeld-Lagen

	IF gs_sidelight_left THEN 

		poly_x 			= _framewidth_left										! Zargenbreite
		poly_ys			= bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
		poly_xa			= gs_sidelight_width_left - _framewidth_post_left
		poly_fill		= dk_fills[dka_side2_fill]
		poly_fill_pen   = dk_fill_pens[dka_side2_penF]
		poly_bg_pen		=  dk_bkg_pens[dka_side2_penB]
		_framewidth_post = _framewidth_post_left

		ADD2 clearingFrameCenter - frame_out_dims_x/2, 0
		GOSUB "LOD_400_sidefield"
		DEL 1

		GOSUB "dka_topview_fill_left"

	ENDIF
	
	IF gs_sidelight_right THEN 

		poly_x 			= _framewidth_right										! Zargenbreite
		poly_ys			= bs_sidelight_filling_thk1								! Stärke der Seitenteilfüllung rechts
		poly_xa			= gs_sidelight_width_right - _framewidth_post_right
		poly_fill		= dk_fills[dka_side1_fill]
		poly_fill_pen   = dk_fill_pens[dka_side1_penF]
		poly_bg_pen		=  dk_bkg_pens[dka_side1_penB]
		_framewidth_post = _framewidth_post_right

		ADD2 clearingFrameCenter + frame_out_dims_x/2 , 0
		MUL2 -1, 1
		GOSUB "LOD_400_sidefield"
		DEL 2

		GOSUB "dka_topview_fill_right"

	ENDIF

	! ---------------------------------------------------------------------- !

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_sidepost":

	GOSUB "LOD_400_sidepost_PUT"	
	GOSUB "POLY2_B"
	! ......................... !

	GOSUB "LOD_400_sidepost_PUT_HOTSPOT"	
	GOSUB "HOTSPOTS_2D"

	PEN dk_cont_pens[dka_topview_penC2]
	LINE2 0, 0,   -_sidelight_width + poly_x + _framewidth, 0

RETURN

! -------------------------------------------------------------- !

"LOD_400_sidepost_PUT":	

	PUT	0, - poly_y1, 		1

	IF bs_folding_nmbr THEN
		PUT poly_x - poly_x4, - poly_y1,	1,
			poly_x - poly_x4, - poly_y1 + poly_y4,	1,
			poly_x 			, - poly_y1 + poly_y4,	1
	ELSE
		PUT	poly_x, - poly_y1, 			1
	ENDIF

	PUT	poly_x, 	- poly_y1 + poly_y, 1,
		0,   		- poly_y1 + poly_y, 1,
		0, 			- poly_y1, 		-1	

RETURN

! ---------------------------------------------------------------------- !

"LOD_400_sidepost_PUT_HOTSPOT":	

	PUT	0, - poly_y1, 		1
	PUT	poly_x, 	- poly_y1 + poly_y, 1,
		0,   		- poly_y1 + poly_y, 1,
		0, 			- poly_y1, 		-1	

	PUT poly_x - poly_x4, - poly_y1,	1
	PUT	poly_x - poly_x4, - poly_y1 + poly_y4,	1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_frame_EZ":

	show_detailed_ponts = 1
	GOSUB "LOD_400_frame_EZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !
	show_detailed_ponts = 0
	GOSUB "LOD_400_frame_EZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_400_frame_EZ_PUT":

	PUT	0, 			0, 					1,
		poly_x - poly_x3,	0,					1,
		poly_x - poly_x3,	-poly_y1,			1

	IF bs_folding_nmbr and falz THEN
		PUT poly_x - poly_x4, -poly_y1,	1
		IF show_detailed_ponts = 1 THEN PUT	poly_x - poly_x4, -poly_y1 + poly_y4,	1
		PUT	poly_x 			, -poly_y1 + poly_y4,	1
	ELSE
		PUT	poly_x, 	-poly_y1, 			1
	ENDIF

	PUT	poly_x,   	poly_yz, 			1,
		0,  		poly_yz, 			1,
		0, 			0, 					-1

RETURN


! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_frame_BZ":

	show_detailed_ponts = 1
	GOSUB "LOD_400_frame_BZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !
	show_detailed_ponts = 0
	GOSUB "LOD_400_frame_BZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_400_frame_BZ_PUT":



	PUT	0, 			0, 					1,
		0, 			-poly_y1,			1


		IF bs_folding_nmbr and falz THEN
			PUT poly_x - poly_x4, -poly_y1,	1
			IF show_detailed_ponts = 1 THEN PUT	poly_x - poly_x4, -poly_y1 + poly_y4,	1
			PUT	poly_x 			, -poly_y1 + poly_y4,	1
		ELSE
			PUT	poly_x, 	-poly_y1, 			1
		ENDIF


		PUT	poly_x,   	poly_y + poly_y1, 	1,
			0,   		poly_y + poly_y1, 	1,
			0,   		poly_y, 			1,
			0, 			0, 		-1



RETURN
	
! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_frame_UZ":

	show_detailed_ponts = 1
	GOSUB "LOD_400_frame_UZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !
	show_detailed_ponts = 0
	GOSUB "LOD_400_frame_UZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN
	
! -------------------------------------------------------------- !

"LOD_400_frame_UZ_PUT":

	PUT	0, 					0, 					1,
		poly_x - poly_x3,	0,					1,
		poly_x - poly_x3,	-poly_y1,			1

	IF bs_folding_nmbr and falz THEN
		PUT poly_x - poly_x4, -poly_y1,	1
		IF show_detailed_ponts = 1 THEN PUT	poly_x - poly_x4, -poly_y1 + poly_y4,	1
		PUT	poly_x 			, -poly_y1 + poly_y4,	1
	ELSE
		PUT	poly_x, 	-poly_y1, 			1
	ENDIF

	PUT	poly_x,   			poly_y  + poly_y1, 	1,
		poly_x - poly_x5,   poly_y  + poly_y1, 	1,
		poly_x - poly_x5,   poly_y, 			1,
		0,   				poly_y, 			1,
		0, 					0, 					-1

RETURN
	
! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_frame_RR":

	show_detailed_ponts = 1
	GOSUB "LOD_400_frame_RR_PUT"	
	GOSUB "POLY2_B"

	! ......................... !
	show_detailed_ponts = 0
	GOSUB "LOD_400_frame_RR_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

		! -------------------------------------------------------------- !
	
"LOD_400_frame_RR_PUT":

	PUT	0, 	0, 1

	IF bs_folding_nmbr and falz THEN
		PUT poly_x - poly_x4, 0,	1
		IF show_detailed_ponts = 1 THEN PUT	poly_x - poly_x4, poly_y4,	1
		PUT	poly_x 			, poly_y4,	1
	ELSE
		PUT	poly_x, 0, 1
	ENDIF

	PUT	poly_x, poly_yz, 1,
		0,   	poly_yz, 1,
		0, 		0, 		-1

	RETURN



! ---------------------------------------------------------------------- !
! ----------------------  L  O  D    5  0  0  -------------------------- !
! ---------------------------------------------------------------------- !

"LOD_500":

	GOSUB "Fangpunkte"

	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]
	poly_fill 		= dk_fills[dka_frame_fill] 
	poly_fill_pen 	= dk_fill_pens[dka_frame_penF] 
	poly_bg_pen 	= dk_bkg_pens[dka_frame_penB] 

	poly_x 			= _framewidth_left		! Zargenbreite
	poly_x1 		= gs_ub_st1				! seitlicher Überstand X
	poly_x2 		= gs_fuge				! Luft Zarge zu Wand X
	poly_x3 		= bs_spiegel_br_bs + gs_vb		! Spiegelbreite BS X
	poly_x4 		= gs_vb					! Falzbreite X
	poly_x5 		= bs_spiegel_br_bgs		! Spiegelbreite BGS X

	poly_y 			= frame_out_dims_y 		! Zargentiefe (z.B. Wandstärke) das kann auch "bz_tiefe" sein ### TODO prüfen
	poly_y1 		= gs_ub_st2				! seitlicher Überstand Y 
	poly_y4 		= gs_vt					! Falztiefe Y

	poly_yt 		= 0.009					! Stärke der seitlichen Blockzargen-Nippel (Hard-Codiert)
	poly_yt 		= gs_ub_st2				! Stärke der seitlichen Blockzargen-Nippel
	poly_yz 		= _frame_thk_EZ	 - gs_ub_st2		! Zargentiefe bei EZ

	! ......................... !

	! Mehrfachfalze
	poly_x8 		= dk_folding_dimensions[1][2]	! Breite doppelter Falz
	poly_y8 		= dk_folding_dimensions[1][1]	! Tiefe doppeleter Falz
	poly_x9 		= dk_folding_dimensions[2][2]	! Breite Falz 2 dreifacher Falz
	poly_y9 		= dk_folding_dimensions[2][1]	! Tiefe Falz 2 dreifacher Falz

	! ---------- Z A R G E

	ADD2 clearingFrameCenter-frame_out_dims_x/2, 0
	poly_ys			= bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
	IF gs_sidelight_left = 0 THEN GOSUB "LOD_500_frame_" + dk_frametype
	IF gs_sidelight_left = 1 THEN GOSUB "LOD_500_frame_SL_" + dk_frametype
	DEL 1

	ADD2 clearingFrameCenter + frame_out_dims_x/2, 0
	poly_x 			= _framewidth_right										! Zargenbreite
	poly_ys			= bs_sidelight_filling_thk1								! Stärke der Seitenteilfüllung rechts
	MUL2 -1, 1
	IF gs_sidelight_right = 0 THEN GOSUB "LOD_500_frame_" + dk_frametype
	IF gs_sidelight_right = 1 THEN GOSUB "LOD_500_frame_SL_" + dk_frametype
	DEL 2

	!LINE2 -frame_out_dims_x/2 + poly_x, 0,  frame_out_dims_x/2 - poly_x, 0 

	! ---------- P F O S T E N

	poly_y = _frame_thk_post													! Stärke Pfosten

	IF gs_sidelight_left THEN 
		poly_x = _framewidth_post_left											! Breite Pfosten Links
		poly_ys			= bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
		ADD2 clearingFrameCenter - frame_out_dims_x/2 + gs_sidelight_width_left - poly_x, 0
		GOSUB "LOD_500_sidepost"
		DEL 1
	ENDIF

	IF gs_sidelight_right THEN 
		poly_x = _framewidth_post_right
		poly_ys			= bs_sidelight_filling_thk1						! Stärke der Seitenteilfüllung rechts
		ADD2 clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right + poly_x, 0
		MUL2 -1, 1
		GOSUB "LOD_500_sidepost"
		DEL 2
	ENDIF

	! ---------- F Ü L L U N G    S E I T E N F E L D E R

	kont_typ 		= 7
	poly_cont 		= dk_cont_pens[dka_frame_penC2]

	poly_x4 		= gs_vb					! Falzbreite X
	poly_y4 		= gs_vt					! Falztiefe Y
	glis 			= 1						! Grundeingestellte Anzahl der Anzahl Seitenfeld-Lagen

	IF gs_sidelight_left THEN 

		IF dk_sidelight_filling[2] = "G1" OR  dk_sidelight_filling[2] = "PL" THEN glis = 1
		IF dk_sidelight_filling[2] = "G2" THEN glis = 2
		IF dk_sidelight_filling[2] = "G3" THEN glis = 3

		poly_x 			= _framewidth_left										! Zargenbreite
		poly_ys			= bs_sidelight_filling_thk2								! Stärke der Seitenteilfüllung links
		poly_xa			= gs_sidelight_width_left - _framewidth_post_left
		poly_fill		= dk_fills[dka_side2_fill]
		poly_fill_pen  	= dk_fill_pens[dka_side2_penF]
		poly_bg_pen		= dk_bkg_pens[dka_side2_penB]
		_framewidth_post = _framewidth_post_left
		ADD2 clearingFrameCenter - frame_out_dims_x/2, 0
		GOSUB "LOD_" +STR(LOD_2D , 1, 0) + "_sidefield"
		DEL 1

		GOSUB "dka_topview_fill_left"

	ENDIF
	IF gs_sidelight_right THEN 

		IF dk_sidelight_filling[1] = "G1" OR  dk_sidelight_filling[1] = "PL" THEN glis = 1
		IF dk_sidelight_filling[1] = "G2" THEN glis = 2
		IF dk_sidelight_filling[1] = "G3" THEN glis = 3

		poly_x 			= _framewidth_right										! Zargenbreite
		poly_ys			= bs_sidelight_filling_thk1								! Stärke der Seitenteilfüllung rechts
		poly_xa			= gs_sidelight_width_right - _framewidth_post_right
		poly_fill		= dk_fills[dka_side1_fill]
		poly_fill_pen  = dk_fill_pens[dka_side1_penF]
		poly_bg_pen		= dk_bkg_pens[dka_side1_penB]
		_framewidth_post = _framewidth_post_right
		ADD2 clearingFrameCenter + frame_out_dims_x/2 , 0
		MUL2 -1, 1
		GOSUB "LOD_" +STR(LOD_2D , 1, 0) + "_sidefield"
		DEL 2

		GOSUB "dka_topview_fill_right"

	ENDIF
	! ---------------------------------------------------------------------- !

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_sidefield":

	GOSUB "LOD_400_sidefield_PUT"	
	GOSUB "POLY2_B"
	! ......................... !
	! IF LOD_2D = 500 THEN
	! 	IF glis = 2 THEN LINE2 poly_x - poly_x4, -poly_y1 + poly_y4 - poly_ys/2, poly_xa + poly_x4, -poly_y1 + poly_y4 - poly_ys/2
	! 	IF glis = 3 THEN 
	! 		LINE2 poly_x - poly_x4, -poly_y1 + poly_y4 - poly_ys/3, poly_xa + poly_x4, -poly_y1 + poly_y4 - poly_ys/3
	! 		LINE2 poly_x - poly_x4, -poly_y1 + poly_y4 - 2 * poly_ys/3, poly_xa + poly_x4, -poly_y1 + poly_y4 - 2 * poly_ys/3
	! 	ENDIF
	! ENDIF
	! ......................... !

	GOSUB "LOD_400_500_Lines_Sidelight"

	!GOSUB "LOD_400_sidefield_PUT"	
	!GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_400_sidefield_PUT":

	PUT	poly_x - poly_x4,		-poly_y1 + poly_y4 - poly_ys,	1,
		poly_x - poly_x4,		-poly_y1 + poly_y4,				1,
		poly_xa + poly_x4,		- poly_y1 + poly_y4,			1,
		poly_xa + poly_x4,		- poly_y1 + poly_y4 - poly_ys,	1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_sidefield":

	IF glis = 1 THEN 
		polydicke = poly_ys
		zwischenraum = 0
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"
	ENDIF

	IF glis = 2 THEN 
		! poly_ys_sub = poly_ys/3
		! FOR i_sub = 0 TO 1
		! 	ADD2 0, -i_sub * 2  * poly_ys_sub
		! 	GOSUB "LOD_500_sidefield_PUT"	
		! 	GOSUB "POLY2_B"
		! 	DEL 1
		! NEXT i_sub
		polydicke = MIN(0.006, poly_ys/3)
		zwischenraum = poly_ys - 2 * polydicke

		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"

		ADD2 0, -zwischenraum - polydicke
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"
		DEL 1
	ENDIF

	IF glis = 3 THEN 
		! poly_ys_sub = poly_ys/5
		! FOR i_sub = 0 TO 2
		! 	ADD2 0, -i_sub * 2 * poly_ys_sub
		! 	GOSUB "LOD_500_sidefield_PUT"	
		! 	GOSUB "POLY2_B"
		! 	DEL 1
		! NEXT i_sub

		polydicke = MIN(0.006, poly_ys/5)
		zwischenraum = (poly_ys - 3*polydicke)/2

		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"

		ADD2 0, -1 *(zwischenraum + polydicke)
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"

		ADD2 0, -1 *(zwischenraum + polydicke)
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"
		DEL 2
	ENDIF

	! ......................... !

	! HG-Schraffur der Aufsichten der LZRs
	poly_fill 		= dk_fills[dka_topview_fill]
	poly_fill_pen 	= dk_fill_pens[dka_topview_penF]
	poly_bg_pen		= dk_bkg_pens[dka_topview_penB]
	kont_typ = 7
	DRAWINDEX 10
	! ### -> fix FB
	! ADD2 0,  bz_einzug * (dk_frametype = "RR")

	scheibendicke = polydicke
	polydicke = zwischenraum

	IF glis = 2 THEN 
		! poly_ys_sub = poly_ys/3
		! ! ### -> fix FB
		! ADD2 0, -1 * poly_ys_sub 
		! GOSUB "LOD_500_sidefield_PUT"	
		! GOSUB "POLY2_B"
		! DEL 1
		! ### -> fix FB
		ADD2 0, -1 * scheibendicke 
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"
		DEL 1
	ENDIF

	IF glis = 3 THEN 
		! poly_ys_sub = poly_ys/5
		! ! ### -> fix FB
		! ! GOSUB "LOD_500_sidefield_PUT"	
		! ! GOSUB "POLY2_B"
		! FOR i_sub = 0 TO 1
		! 	! ### -> fix FB
		! 	ADD2 0, -(i_sub * 2 + 1) * poly_ys_sub
		! 	GOSUB "LOD_500_sidefield_PUT"	
		! 	GOSUB "POLY2_B"
		! 	DEL 1
		! NEXT i_sub
		ADD2 0, -1 * scheibendicke 
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"
		ADD2 0, -1 *(zwischenraum + scheibendicke)
		GOSUB "LOD_500_sidefield_PUT"	
		GOSUB "POLY2_B"
		DEL 2
	ENDIF

	DRAWINDEX 20
	kont_typ = 7

	! ### -> fix FB
	! DEL 1

	! ......................... !

	GOSUB "LOD_400_500_Lines_Sidelight"

	! ......................... !


RETURN

! -------------------------------------------------------------- !

"LOD_500_sidefield_PUT":

	PUT	poly_x - poly_x4,		-poly_y1 + poly_y4 - polydicke,	1,
		poly_x - poly_x4,		-poly_y1 + poly_y4,				1,
		poly_xa + poly_x4,		- poly_y1 + poly_y4,			1,
		poly_xa + poly_x4,		- poly_y1 + poly_y4 - polydicke,	1

RETURN

	
! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_400_500_Lines_Sidelight":


	PEN dk_cont_pens[dka_topview_penC2]

	LINE2 poly_x,	- poly_y1, poly_xa, - poly_y1

	IF dk_different_frame_thk THEN
		IF _frame_thk_bottom > _frame_thk_post THEN
			LINE2 poly_x,	- poly_y1 + _frame_thk_bottom, poly_xa , - poly_y1+ _frame_thk_bottom
			LINE2 poly_xa , - poly_y1+ _frame_thk_bottom, poly_xa , - poly_y1 + _frame_thk_post
		ELSE
			LINE2 poly_x,	- poly_y1 + _frame_thk_bottom, poly_xa, - poly_y1+ _frame_thk_bottom
		ENDIF
	ELSE
		LINE2 poly_x,	- poly_y1 + _frame_thk_bottom, poly_xa, - poly_y1+ _frame_thk_bottom
	ENDIF


RETURN



! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"Mehrfachfalz":

	IF bs_folding_nmbr = 2 THEN															! Doppelfalz
		PUT poly_x - poly_x4, 	- poly_y99 + poly_y4  - poly_y8, 	1,
			poly_x - poly_x8, 	- poly_y99 + poly_y4  - poly_y8, 	1,
			poly_x - poly_x8, 	- poly_y99 + poly_y4, 				1
	ENDIF

	IF bs_folding_nmbr = 3 THEN															! Dreifachfalz
		PUT poly_x - poly_x4, 					- poly_y99 + poly_y4  - poly_y8 - poly_y9, 	1,
			poly_x - poly_x8 - poly_x9, 		- poly_y99 + poly_y4  - poly_y8 - poly_y9, 	1,
			poly_x - poly_x8 - poly_x9, 		- poly_y99 + poly_y4  - poly_y8, 			1,
			poly_x - poly_x8, 					- poly_y99 + poly_y4  - poly_y8, 			1,
			poly_x - poly_x8, 					- poly_y99 + poly_y4, 						1
	ENDIF

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_sidepost":

	show_detailed_ponts = 1
	GOSUB "LOD_500_sidepost_PUT"	
	GOSUB "POLY2_B"
	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_sidepost_PUT_HOTSPOT"
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_sidepost_PUT":

	PUT	0, 					- poly_y1, 				1,
		poly_x - poly_x4, 	- poly_y1, 				1

	poly_y99 = poly_y1
	IF show_detailed_ponts  THEN GOSUB "Mehrfachfalz"

	IF bs_folding_nmbr = 1 THEN
		PUT	poly_x - poly_x4, 	- poly_y1 + poly_y4, 	1
	ENDIF


	PUT	poly_x, 			- poly_y1 + poly_y4, 	1,
		poly_x,   			- poly_y1 + poly_y, 	1,
		0,   				- poly_y1 + poly_y, 	1,
		0,					- poly_y1 + poly_y4,	1

	IF show_detailed_ponts THEN
		PUT poly_x4,			- poly_y1 + poly_y4,	1
		PUT poly_x4,			- poly_y1 + poly_y4 - poly_ys,	1
	ENDIF

	PUT		0,					- poly_y1 + poly_y4 - poly_ys,	1,
			0, 					- poly_y1,				-1

RETURN

! -------------------------------------------------------------- !

"LOD_500_sidepost_PUT_HOTSPOT":

	PUT	0, 					- poly_y1, 				1,
		poly_x - poly_x4, 	- poly_y1, 				1,
		poly_x,   			- poly_y1 + poly_y, 	1,
		0,   				- poly_y1 + poly_y, 	1,
		0,					- poly_y1 + poly_y4 - poly_ys,	1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_EZ":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_EZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_EZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_frame_EZ_PUT":

	PUT	0,						0, 					1,
		poly_x - poly_x3,		0,					1,
		poly_x - poly_x3,		-poly_y1,			1,
		poly_x - poly_x4,		-poly_y1,			1

	poly_y99 = poly_y1
	IF show_detailed_ponts = 1 THEN GOSUB "Mehrfachfalz"

	IF bs_folding_nmbr = 1 THEN
		IF show_detailed_ponts = 1 THEN PUT poly_x - poly_x4,	-poly_y1 + poly_y4,	1
	ENDIF

	PUT	poly_x,	-poly_y1 + poly_y4,	1

		IF ABS(dk_design_folding_depth - 0) < tlr THEN PUT poly_x, poly_yz, 	1

		IF dk_design_folding_depth THEN
			PUT poly_x, 			poly_yz - dk_design_folding_depth, 	1,
				poly_x - poly_x4, 	poly_yz - dk_design_folding_depth, 	1,	
				poly_x - poly_x4, 	poly_yz, 								1
		ENDIF

	PUT	0,   						poly_yz, 	1,
		0, 						0, 					-1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_SL_EZ":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_SL_EZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_SL_EZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_frame_SL_EZ_PUT":

	PUT	0,						0, 					1,
		poly_x - poly_x3,		0,					1,
		poly_x - poly_x3,		-poly_y1,			1,
		poly_x,					-poly_y1,			1


	IF show_detailed_ponts THEN
		PUT poly_x,							-poly_y1 + poly_y4 - poly_ys,	1
		PUT poly_x - poly_x4,				-poly_y1 + poly_y4 - poly_ys,	1
		PUT poly_x - poly_x4,				-poly_y1 + poly_y4,	1
		PUT	poly_x,							-poly_y1 + poly_y4,	1
	ENDIF

		IF ABS(dk_design_folding_depth - 0) < tlr THEN PUT poly_x, poly_yz, 	1

		IF dk_design_folding_depth THEN
			PUT poly_x, 			poly_yz - dk_design_folding_depth, 	1,
				poly_x - poly_x4, 	poly_yz - dk_design_folding_depth, 	1,	
				poly_x - poly_x4, 	poly_yz, 								1
		ENDIF

	PUT	0,   						poly_yz, 	1,
		0, 						0, 					-1


RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_BZ":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_BZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_BZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_frame_BZ_PUT":

	PUT	0,								-poly_y1 + poly_yt, 		1,
		poly_x2,						-poly_y1 + poly_yt,			1,
		poly_x2,						-poly_y1,					1,
		poly_x - poly_x4,				-poly_y1,					1

	! CIRCLE2 poly_x - poly_x4, -poly_y1, 0.01

	poly_y99 = poly_y1
	IF show_detailed_ponts = 1 THEN GOSUB "Mehrfachfalz"

	IF bs_folding_nmbr = 1 THEN
		IF show_detailed_ponts = 1 THEN PUT poly_x - poly_x4,				-poly_y1 + poly_y4,			1
	ENDIF

	PUT	poly_x,							-poly_y1 + poly_y4,			1
	
	! Innenkante BGS
	IF dk_design_folding_depth THEN
		PUT poly_x, 			poly_y  + poly_y1 - dk_design_folding_depth, 	1,
			poly_x - poly_x4, 	poly_y  + poly_y1 - dk_design_folding_depth, 	1,	
			poly_x - poly_x4, 	poly_y  + poly_y1, 								1
	ENDIF

	IF ABS(dk_design_folding_depth - 0) < tlr THEN PUT poly_x, poly_y  + poly_y1, 	1

	! Außenkante
	PUT poly_x2,	 poly_y  + poly_y1, 			1,
		poly_x2,	 poly_y  + poly_y1 - poly_yt,	1,
		0,   		 poly_y  + poly_y1 - poly_yt,	1,
		0, 			-poly_y1 + poly_yt, 		-1

RETURN
	
! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_SL_BZ":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_SL_BZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_SL_BZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_frame_SL_BZ_PUT":

	IF dk_design_folding_depth THEN
		!poly_y4 		= gs_vt	

	ENDIF

	PUT	0,								-poly_y1 + poly_yt, 			1
	IF show_detailed_ponts THEN 
		PUT poly_x2,					-poly_y1 + poly_yt,				1
	ENDIF
	PUT	poly_x2,						-poly_y1,						1,
		poly_x,							-poly_y1,						1


	IF show_detailed_ponts THEN
		PUT poly_x,							-poly_y1 + poly_y4 - poly_ys,	1
		PUT poly_x - poly_x4,			-poly_y1 + poly_y4 - poly_ys,	1,
		poly_x - poly_x4,				-poly_y1 + poly_y4,				1
		PUT	poly_x,							-poly_y1 + poly_y4,				1
	ENDIF



		IF dk_design_folding_depth THEN			! Mit Zierfalz auf BGS
			PUT poly_x, 			poly_y  + poly_y1 - dk_design_folding_depth, 	1,
				poly_x - poly_x4, 	poly_y  + poly_y1 - dk_design_folding_depth, 	1,	
				poly_x - poly_x4, 	poly_y  + poly_y1, 								1
		ENDIF

		IF ABS(dk_design_folding_depth - 0) < tlr THEN PUT poly_x, poly_y  + poly_y1, 	1

	PUT poly_x2,   						poly_y  + poly_y1, 	1
	IF show_detailed_ponts THEN 
		PUT poly_x2,  					poly_y + poly_y1 - poly_yt, 			1
	ENDIF
		PUT	0,   						poly_y + poly_y1 - poly_yt, 			1,
		0, 								-poly_y1 + poly_yt, 					-1

RETURN
	
! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_UZ":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_UZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_UZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN
	
! -------------------------------------------------------------- !

"LOD_500_frame_UZ_PUT":

	PUT	0,						0, 					1,
		poly_x - poly_x3,		0,					1,
		poly_x - poly_x3,		-poly_y1,			1,
		poly_x - poly_x4,		-poly_y1,			1

	poly_y99 = poly_y1
	IF show_detailed_ponts = 1 THEN GOSUB "Mehrfachfalz"

	IF bs_folding_nmbr = 1 THEN
		IF show_detailed_ponts = 1 THEN
			PUT poly_x - poly_x4,	-poly_y1 + poly_y4,	1	
		ENDIF
	ENDIF

	PUT	poly_x,					-poly_y1 + poly_y4,	1

		IF ABS(dk_design_folding_depth - 0) < tlr THEN PUT poly_x,   poly_y  + poly_y1, 	1

		IF dk_design_folding_depth THEN
			PUT poly_x, 			poly_y  + poly_y1 - dk_design_folding_depth, 	1,
				poly_x - poly_x4, 	poly_y  + poly_y1 - dk_design_folding_depth, 	1,	
				poly_x - poly_x4, 	poly_y  + poly_y1, 								1
		ENDIF

	PUT	poly_x - poly_x5,   	poly_y  + poly_y1, 	1,
		poly_x - poly_x5,  		poly_y, 			1,
		0,   					poly_y, 			1,
		0, 						0, 					-1


RETURN
	
! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_SL_UZ":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_SL_UZ_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_SL_UZ_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN
	
! -------------------------------------------------------------- !

"LOD_500_frame_SL_UZ_PUT":

	PUT	0,						0, 					1,
		poly_x - poly_x3,		0,					1,
		poly_x - poly_x3,		-poly_y1,			1,
		poly_x,					-poly_y1,			1

	IF show_detailed_ponts THEN
		PUT poly_x,					-poly_y1 + poly_y4 - poly_ys,	1,
			poly_x - poly_x4,	-poly_y1 + poly_y4 - poly_ys,	1,
			poly_x - poly_x4,		-poly_y1 + poly_y4,	1,
			poly_x,					-poly_y1 + poly_y4,	1
	ENDIF

		IF ABS(dk_design_folding_depth - 0) < tlr THEN PUT poly_x,   poly_y  + poly_y1, 	1

		IF dk_design_folding_depth THEN
			PUT poly_x, 			poly_y  + poly_y1 - dk_design_folding_depth, 	1,
				poly_x - poly_x4, 	poly_y  + poly_y1 - dk_design_folding_depth, 	1,	
				poly_x - poly_x4, 	poly_y  + poly_y1, 								1
		ENDIF

	PUT	poly_x - poly_x5,   		poly_y  + poly_y1, 	1,
		poly_x - poly_x5,  			poly_y, 			1,
		0,   						poly_y,				1,
		0, 							0, 					-1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_RR":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_RR_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_RR_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_frame_RR_PUT":

	PUT	0, 					0, 	1,
		poly_x - poly_x4, 	0, 	1

	poly_y99 = 0
	IF show_detailed_ponts = 1 THEN GOSUB "Mehrfachfalz"

	IF bs_folding_nmbr = 1 THEN
		IF show_detailed_ponts = 1 THEN PUT poly_x - poly_x4, poly_y4, 	1
	ENDIF

	PUT	poly_x,	poly_y4, 	1,
		poly_x,	poly_yz, 	1,
		0,   	poly_yz, 	1,
		0, 		0, 			-1

RETURN

! ------------------------------------------------------------------ !
! ------------------------------------------------------------------ !

"LOD_500_frame_SL_RR":

	show_detailed_ponts = 1
	GOSUB "LOD_500_frame_SL_RR_PUT"	
	GOSUB "POLY2_B"

	! ......................... !

	show_detailed_ponts = 0
	GOSUB "LOD_500_frame_SL_RR_PUT"	
	GOSUB "HOTSPOTS_2D"

RETURN

! -------------------------------------------------------------- !

"LOD_500_frame_SL_RR_PUT":

	PUT	0, 		0, 					1,
		poly_x, 0, 					1

	IF show_detailed_ponts THEN
		PUT poly_x, poly_y4 - poly_ys, 	1,
			poly_x - poly_x4,	poly_y4- poly_ys, 	1,
			poly_x - poly_x4, 		poly_y4, 	1,
			poly_x,	poly_y4, 	1
	ENDIF


	PUT	poly_x,	poly_yz, 	1,
		0,		poly_yz, 	1,
		0,		0, 			-1

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !





! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"dka_topview_fill_right":

	! HG-Schraffur der Aufsichten der Seitenfeldfußhölzer
	poly_fill 		= dk_fills[dka_topview_fill]
	poly_fill_pen 	= dk_fill_pens[dka_topview_penF]
	poly_bg_pen		= dk_bkg_pens[dka_topview_penB]
	poly_x = - (gs_sidelight_width_right - _framewidth_post_right - _framewidth_right)
	kont_typ = 6
	DRAWINDEX 10

	IF _frame_thk_bottom > gs_vt THEN	! Schraffur hinten
		poly_y = _frame_thk_bottom - gs_vt
		ADD2 clearingFrameCenter + frame_out_dims_x/2 - _framewidth_right , -poly_y1 + poly_y4
		GOSUB "Simple_PUT"	
		GOSUB "POLY2_B"
		DEL 1
	ENDIF

	IF bs_sidelight_filling_thk1 < gs_vt THEN	! Schraffur hinten
		poly_y = gs_vt - bs_sidelight_filling_thk1
		ADD2 clearingFrameCenter + frame_out_dims_x/2 - _framewidth_right, -poly_y1
		GOSUB "Simple_PUT"	
		GOSUB "POLY2_B"
		DEL 1
	ENDIF

	DRAWINDEX 20
	kont_typ = 7

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"dka_topview_fill_left":

	! HG-Schraffur der Aufsichten der Seitenfeldfußhölzer
	poly_fill 		= dk_fills[dka_topview_fill]
	poly_fill_pen 	= dk_fill_pens[dka_topview_penF]
	poly_bg_pen		= dk_bkg_pens[dka_topview_penB]
	poly_x =  (gs_sidelight_width_left - _framewidth_post_left - _framewidth_left)
	kont_typ = 6
	DRAWINDEX 10

	IF _frame_thk_bottom > gs_vt THEN	! Schraffur hinten
		poly_y = _frame_thk_bottom - gs_vt
		ADD2 clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left , -poly_y1 + poly_y4
		GOSUB "Simple_PUT"	
		GOSUB "POLY2_B"
		DEL 1
	ENDIF

	IF bs_sidelight_filling_thk2 < gs_vt THEN	! Schraffur hinten
		poly_y = gs_vt - bs_sidelight_filling_thk2
		ADD2 clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, -poly_y1
		GOSUB "Simple_PUT"	
		GOSUB "POLY2_B"
		DEL 1
	ENDIF

	DRAWINDEX 20
	kont_typ = 7

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"Simple_PUT":

	PUT 0, 			0,		1,
		poly_x, 	0,		1,
		poly_x, 	poly_y,	1,	
		0,			poly_y,	1,
		0,			0,		-1


RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"POLY2_B":

	PEN poly_cont
	FILL poly_fill
	POLY2_B NSP/3, kont_typ, poly_fill_pen, poly_bg_pen, GET(NSP)

	WHILE NSP DO			! Buffer leeren für alle Fälle
		www_sub = GET(1)
	ENDWHILE

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

! H O T S P O T S    2 D   E D I T A B L E

"Fangpunkte":

! ......................... !

! Seitenfeld rechts

	IF gs_sidelight_right AND gs_sidelight_left THEN
		ADD2 offsetEgressCenter + ac_egress_width/2 + gs_sidelight_width_right, _frame_thk_post + _tt_plus
		HOTSPOT2 0.1, 							0,	htspt, gs_sidelight_width_right, 3			: htspt = htspt + 1
		HOTSPOT2 0, 							0,	htspt, gs_sidelight_width_right, 1 + 128	: htspt = htspt + 1
		HOTSPOT2 -gs_sidelight_width_right,		0, 	htspt, gs_sidelight_width_right, 2			: htspt = htspt + 1		
		DEL 1
	ENDIF

! ......................... !

! Durchgangsbreite bei Seitenfelde links oder zweien

	IF gs_sidelight_left THEN
		! ADD2 clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right, _frame_thk_post - gs_ub_st2
		ADD2 offsetEgressCenter + ac_egress_width/2, _frame_thk_post + _tt_plus
		HOTSPOT2 0.1, 				0,	htspt, ac_egress_width, 3			: htspt = htspt + 1
		HOTSPOT2 0, 				0,	htspt, ac_egress_width, 1 + 128		: htspt = htspt + 1
		HOTSPOT2 -ac_egress_width,	0, 	htspt, ac_egress_width, 2			: htspt = htspt + 1	
		DEL 1
	ENDIF

! ......................... !

! Durchgangsbreite nur rechts

	IF gs_sidelight_right  AND NOT(gs_sidelight_left) THEN
		! ADD2 clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, _frame_thk_post - gs_ub_st2
		ADD2 offsetEgressCenter - ac_egress_width/2, _frame_thk_post + _tt_plus
		HOTSPOT2 -0.1, 				0,	htspt, ac_egress_width, 3			: htspt = htspt + 1
		HOTSPOT2 0, 				0,	htspt, ac_egress_width, 1 + 128		: htspt = htspt + 1
		HOTSPOT2 ac_egress_width,	0, 	htspt, ac_egress_width, 2			: htspt = htspt + 1		
		DEL 1
	ENDIF


! ......................... !

! Seitenfeld links

	! IF gs_sidelight_right AND gs_sidelight_left THEN
	! 	ADD2 clearingFrameCenter + frame_out_dims_x/2 - gs_sidelight_width_right, _frame_thk_post - gs_ub_st2
	! 	HOTSPOT2 0.1, 							0,	htspt, gs_sidelight_width_left, 3			: htspt = htspt + 1
	! 	HOTSPOT2 0, 							0,	htspt, gs_sidelight_width_left, 1 + 128	: htspt = htspt + 1
	! 	HOTSPOT2 -gs_sidelight_width_left,		0, 	htspt, gs_sidelight_width_left, 2			: htspt = htspt + 1		
	! 	DEL 1
	! ENDIF

! ......................... !

! Seitenfeld links

	! IF gs_sidelight_right  AND NOT(gs_sidelight_left) THEN
	! 	ADD2 clearingFrameCenter - frame_out_dims_x/2 + _framewidth_left, _frame_thk_post - gs_ub_st2
	! 	HOTSPOT2 -0.1, 						0,	htspt, gs_sidelight_width_left, 3			: htspt = htspt + 1
	! 	HOTSPOT2 0, 						0,	htspt, gs_sidelight_width_left, 1 + 128	: htspt = htspt + 1
	! 	HOTSPOT2 gs_sidelight_width_left,	0, 	htspt, gs_sidelight_width_left, 2			: htspt = htspt + 1		
	! 	DEL 1
	! ENDIF

! ......................... !

! Seitenfeld links

	! IF gs_sidelight_left AND NOT(gs_sidelight_right) THEN
	! 	ADD2 clearingFrameCenter + frame_out_dims_x/2 - _framewidth_right, _frame_thk_post - gs_ub_st2
	! 	HOTSPOT2 0.1, 						0,	htspt, gs_sidelight_width_left, 3			: htspt = htspt + 1
	! 	HOTSPOT2 0, 						0,	htspt, gs_sidelight_width_left, 1 + 128	: htspt = htspt + 1
	! 	HOTSPOT2 -gs_sidelight_width_left,	0, 	htspt, gs_sidelight_width_left, 2			: htspt = htspt + 1		
	! 	DEL 1
	! ENDIF

RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"HOTSPOTS_2D":

	FOR i_sub = 1 TO NSP/3 - 1
		HOTSPOT2 GET(1), GET(1), htspt + GET(1) - 1
		htspt = htspt + 1
	NEXT i_Sub	

	WHILE NSP DO			! Buffer leeren, weil letzte Zeile nicht genutzt wird
		www_sub = GET(1)
	ENDWHILE
		
RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !
]]></Script_2D>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_1D SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
! ######################################
!
! BIM-all-doors - DOOR SYSTEM
!
! Module: Frame Macro
!
! Manufacturer: common
! Linie: common
!
! © 2018 BY DORMAKABA / WRITTEN BY JOCHEN SÜHLO
! 
! ######################################

! =============================================================================
! GLOBAL SETTINGS
! =============================================================================

! »»» Arrays

DIM clr1[], clr2[][], UI_page_subs[]
DIM UI_page_names[], UI_page_icons[], UI_page_type[]

! »»» Constants

tlr = 0.00001 	!»» accurancy
version = 1.57 	!»» Objektversion
txt = ""	  	!»»  Text für alles
last_change_macro = "16.04.19"

! »»» Localization

sprache = language  !»»  Deutsch


! »»» Common keywords

IF sprache = 1 THEN
	commonKey = "unspezifiziert" 
	naKey = "undefiniert" 
	noKey = "nein" 
	yesKey = "ja"
	ELSE
	commonKey = "unspecific"
	naKey = "common"
	noKey = "no"
	yesKey = "yes"
	ENDIF
	

! ----------------------------------- INDEX NAMES OF ARRAY PARAMETERS (start)

! --------- PRODUCT PARAMETERS

! --------- profile[i][…]
	dki_Typ = 1
	dki_Name = 2
! --------- abmessung[i][…]
	dki_Breite = 1
	dki_Tiefe = 2
! --------- DEFAULT VALUE ARRAYS

! --------- dk_folding_dimensions[i][…]
	dki_Falz1 = 1
	dki_Falz2 = 2
! --------- dk_cont_pens[i][…]
	dka_handle_penC2 = 1
	dka_handle_penC3 = 2
	dka_frame_penC2 = 3
	dka_frame_penC3 = 4
	dka_panel_penC2 = 5
	dka_panel_penC3 = 6
	dka_opline2D = 7
	dka_oplineSA = 8
	dka_opline3D = 9
	dka_topview_penC2 = 10
	dka_penInvisible = 11
	dka_closer_penSA = 12
	dka_closer_pen3D = 13
	dka_grip_penC2 = 14
	dka_grip_penC3 = 15
! --------- dk_fill_pens[i][…]
	dka_handle_penF = 1
	dka_frame_penF = 2
	dka_side1_penF = 3
	dka_side2_penF = 4
	dka_panel_penF = 5
	dka_panelfill1_penF = 6
	dka_panelfill2_penF = 7
	dka_panelfill3_penF = 8
	dka_panel2fill1_penF = 9
	dka_panel2fill2_penF = 10
	dka_panel2fill3_penF = 11
	dka_topview_penF = 12
	dka_fan_penF = 13
	dka_gap_filling_penF = 14
	dka_grip_penF = 15
! --------- dk_bkg_pens[i][…]
	dka_handle_penB = 1
	dka_frame_penB = 2
	dka_side1_penB = 3
	dka_side2_penB = 4
	dka_panel_penB = 5
	dka_panelfill1_penB = 6
	dka_panelfill2_penB = 7
	dka_panelfill3_penB = 8
	dka_panel2fill1_penB = 9
	dka_panel2fill2_penB = 10
	dka_panel2fill3_penB = 11
	dka_topview_penB = 12
	dka_fan_penB = 13
	dka_gap_filling_penB = 14
	dka_grip_penB = 15
! --------- dk_fills[i][…]
	dka_handle_fill = 1
	dka_frame_fill = 2
	dka_side1_fill = 3
	dka_side2_fill = 4
	dka_panel_fill = 5
	dka_panelfill1_fill = 6
	dka_panelfill2_fill = 7
	dka_panelfill3_fill = 8
	dka_panel2fill1_fill = 9
	dka_panel2fill2_fill = 10
	dka_panel2fill3_fill = 11
	dka_topview_fill = 12
	dka_fan_fill = 13
	dka_gap_filling_fill = 14
	dka_grip_fill = 15
! --------- dk_materials[i][…]
	dka_handle_mat = 1
	dka_plate_mat = 2
	dka_frame_mat_BS = 3
	dka_frame_mat_BGS = 4
	dka_side1_mat_BS = 5
	dka_side1_mat_BGS = 6
	dka_side2_mat_BS = 7
	dka_side2_mat_BGS = 8
	dka_fan_mat_BS = 9
	dka_fan_mat_BGS = 10
	dka_panel_mat_BS = 11
	dka_panel_mat_BGS = 12
	dka_panelfill1_mat_BS = 13
	dka_panelfill1_mat_BGS = 14
	dka_panelfill2_mat_BS = 15
	dka_panelfill2_mat_BGS = 16
	dka_panelfill3_mat_BS = 17
	dka_panelfill3_mat_BGS = 18
	dka_panel2_mat_BS = 19
	dka_panel2_mat_BGS = 20
	dka_panel2fill1_mat_BS = 21
	dka_panel2fill1_mat_BGS = 22
	dka_panel2fill2_mat_BS = 23
	dka_panel2fill2_mat_BGS = 24
	dka_panel2fill3_mat_BS = 25
	dka_panel2fill3_mat_BGS = 26
	dka_panel_bandings_mat = 27
	dka_panel2_bandings_mat = 28
	dka_hinge_mat = 29
	dka_closer_mat = 30
	dka_automation_mat = 31
	dka_grip_mat_BS1 = 32
	dka_grip_mat_BS2 = 33
	dka_grip_mat_BGS1 = 34
	dka_grip_mat_BGS2 = 35
! --------- dk_linetype[i][…]
	dka_invisible = 1

! ----------------------------------- INDEX NAMES OF ARRAY PARAMETERS (end)

! ----------------------------------- MULTILINGUAL TEXT [ECD FRAME] (start)

! --------- RESET array variables
	DIM uiTXT[]

! --------- User Interface - UI_xxxFIELD text (Deutsch)
	IF language = 1 THEN
		uiTXT[1] = "ZARGE - Einstellungen"
		uiTXT[2] = " ... Aufteilung der Seitenfelder / Oberlicht"
		uiTXT[3] = " ... Horizontale Abmessungen"
		uiTXT[4] = " ... Vertikale Abmessungen"
		uiTXT[5] = " ... Material + Schraffuren + Stifte"
		ENDIF
! --------- User Interface - UI_xxxFIELD text (Englisch)
	IF language = 4 THEN
		uiTXT[1] = "FRAME - settings"
		uiTXT[2] = " ... divisions for sidelights + fanlight"
		uiTXT[3] = " ... horizontal dimensions"
		uiTXT[4] = " ... vertical dimensions"
		uiTXT[5] = " ... material + hatches + pens"
		ENDIF

! ----------------------------------- MULTILINGUAL TEXT (end)

! »»» Dicke "Folien"tür
symbolicTHK = 0.001

! »»» Effektive Wandstärke (ohne Bekleidung)  
wallThicknessEffective = WALL_THICKNESS + (WALL_THICKNESS < tlr) * 0.365 - wall_shell_thk_1 - wall_shell_thk_2

! »»» Seitenfelder?
IF bs_door_sidelight = "L" OR bs_door_sidelight = "LR" THEN gs_sidelight_left  = 1 ELSE gs_sidelight_left = 0
IF bs_door_sidelight = "R" OR bs_door_sidelight = "LR" THEN gs_sidelight_right = 1 ELSE gs_sidelight_right = 0

! »»» Oberlicht oder Oberblende?
oberLichtBlende = gs_door_transom * (1 + (bs_inner_frame = 2))

! »»» geringes LoI, einheitliches Material

IF dk_LoI < 5 THEN
	IF oberLichtBlende THEN
		unifyingMaterial = dka_fan_mat_BS
		ELSE
		IF gs_sidelight_left THEN
			unifyingMaterial = dka_side2_mat_BS
			ELSE
			IF gs_sidelight_right THEN
				unifyingMaterial = dka_side1_mat_BS
				ELSE
				unifyingMaterial = 0
				ENDIF
			ENDIF
		ENDIF
	ELSE
	unifyingMaterial = 0
	ENDIF


! ----------------------------------------------------------------[ parameter limitations ]

! »»» Wertebereiche Rahmenbreite
IF gs_sidelight_right = 0 AND gs_sidelight_left = 0 THEN
	_range_frame_width = (ac_unit_width - 0.25) /2
	ELSE
	_range_frame_width = (ac_unit_width - ac_egress_width - 0.01)/(2 + gs_sidelight_right + gs_sidelight_left)
	ENDIF

! »»» Auf Sinnhaftigkeit einer Begrenzung der Rahmenstärke prüfen:
IF dk_frametype = "BZ" OR dk_frametype = "UZ" THEN
	_range_frame_thk = wallThicknessEffective + gs_ub_st2 * 2
	ELSE
	IF dk_frametype = "EZ" THEN
		_range_frame_thk = wallThicknessEffective + gs_ub_st2
		ELSE
		_range_frame_thk = 9999
		ENDIF
	ENDIF

! »»»Minimalabmessungen Profile

minFrameWidth	= gs_vb + 0.001
minFrameThk		= MAX(0.002, gs_vt + 0.001)
minFrameViewWidth = MAX(gs_frame_width_left, gs_frame_width_right) - gs_vb


! ----------------------------------------------------------------[ Rahmen-/Profil-/Zargenaußenmaße ]

! Automatisiert erzeugte Zargenstärken ermitteln
! bz_typ_einzug: 0: "Wie Wandstärke"; 1: "Eingezogen"

! IF dk_different_frame_thk THEN frameThickness = dk_frame_thk_EZ ELSE frameThickness = gs_frame_thk

IF dk_frametype = "UZ" THEN

	frameThickness		= wallThicknessEffective + gs_ub_st2 * 2   ! = dk_frame_thk_EZ
	RimOpening			= frameThickness - gs_ub_st2 * 2 
	frameThicknessUpper	= frameThickness   ! = dk_frame_thk_EZ  ! Bei UZ ist oberes Randprofil immer gleich seitl. Rand

	ELSE

	IF dk_frametype = "BZ" THEN

		IF bz_typ_einzug = 1 THEN
			frameThickness	= bz_tiefe
			ELSE
			frameThickness	= wallThicknessEffective + gs_ub_st2 * 2
			ENDIF

		RimOpening			= frameThickness - gs_ub_st2 * 2   ! MW gibt es bei BZ eigentlich nicht!!
		frameThicknessUpper	= frameThickness  ! Bei BZ ist oberes Randprofil immer gleich seitl. Rand

		ELSE

		IF dk_frametype = "EZ" THEN

			frameThickness		= dk_frame_thk_EZ
			RimOpening			= frameThickness - gs_ub_st2   ! MW gibt es bei EZ eigentlich nicht!!
			frameThicknessUpper	= frameThickness  ! so definiert, sonst wäre es dk_frame_thk_upper

			ELSE   ! dk_frametype = "RR"

			frameThickness		= dk_frame_thk_EZ  !gs_frame_thk
			RimOpening			= frameThickness
			frameThicknessUpper	= frameThickness  ! so definiert, sonst wäre es dk_frame_thk_upper
			
			ENDIF 

		ENDIF 

	ENDIF


! ---------------------------------------------------------------------- [ unique frame sizes]

!IF dk_LOD < 350 THEN
!	gs_different_framewidth = 0
!	dk_different_frame_thk = 0
!	gs_tolerance_left = 0
!	gs_tolerance_right = 0
!ENDIF

IF dk_different_frame_thk THEN

	_frame_thk_upper 		= dk_frame_thk_upper
	_frame_thk_transom 		= dk_frame_thk_transom !- dk_design_folding_depth
	_frame_thk_bottom 		= dk_frame_thk_bottom
	_frame_thk_post 		= dk_frame_thk_post
	_frame_thk_EZ			= dk_frame_thk_EZ
	_post_thk_upper			= MIN(_frame_thk_post, _frame_thk_transom)

	ELSE

	IF dk_frametype = "BZ"  OR dk_frametype = "UZ" OR dk_frametype = "EZ"  THEN
		! Bei inneren Profilen weniger Türzargentiefe um Zierfalztiefe
		_tt_plus = - dk_design_folding_depth
		ELSE	
		_tt_plus = 0
		ENDIF

	_frame_thk_upper 		= frameThickness + _tt_plus
	_frame_thk_transom 		= frameThickness + _tt_plus
	_frame_thk_bottom 		= frameThickness + _tt_plus
	_frame_thk_post 		= frameThickness + _tt_plus
	_frame_thk_EZ			= frameThickness !+ _tt_plus
	_post_thk_upper			= frameThickness + _tt_plus

	ENDIF


IF gs_different_framewidth THEN

	_framewidth_left 		= gs_frame_width_left
	_framewidth_right 		= gs_frame_width_right
	_framewidth_post_left 	= gs_frame_width_left_2
	_framewidth_post_right 	= gs_frame_width_right_2 

	_frame_width_upper		= gs_frame_width_upper
	_frame_width_transom	= gs_frame_width_transom
	_framewidth_post_upper 	= _frame_width_transom
	_frame_width_bottom_sl	= gs_frame_width_bottom_sl

	ELSE

	_framewidth_left 		= gs_frame_width
	_framewidth_right 		= gs_frame_width
	_framewidth_post_left 	= gs_frame_width
	_framewidth_post_right 	= gs_frame_width
	_framewidth_post_upper 	= gs_frame_width 
	_frame_width_upper		= gs_frame_width
	_frame_width_transom	= gs_frame_width
	_frame_width_bottom_sl = gs_frame_width

	ENDIF	

IF gs_sidelight_left THEN
	IF gs_sidelight_right THEN
		offsetEgressCenter = ( gs_sidelight_width_left - gs_sidelight_width_right ) / 2
		ELSE
		offsetEgressCenter = ( gs_sidelight_width_left - _framewidth_right ) / 2
		ENDIF
	ELSE
	IF gs_sidelight_right THEN
		offsetEgressCenter = ( _framewidth_left - gs_sidelight_width_right ) / 2
		ELSE
		offsetEgressCenter = ( _framewidth_left - _framewidth_right ) / 2
		ENDIF
	ENDIF

! Versatz bis zumr Mitte der Zarge
offsetFrameCenter = ( gs_tolerance_left - gs_tolerance_right ) / 2

! Versatz bis Zargenoberfläche
offsetFrameSurfaceBS = offsetWallSurfaceBS + wall_shell_thk_1 + bz_einzug * (dk_frametype = "BZ" AND bz_typ_einzug = 1) + bz_einzug * (dk_frametype = "RR")

! ---------------------------------------------------------------------- !

! F e s t l e g u n g   d e r   A b m e s s u n g e n   E i n z e l p f o s t e n   O b e r l i c h t

dk_post_width_upper = _frame_width_transom 
dk_post_thk_upper = MIN(_frame_thk_post, _frame_thk_transom) 


! =============================================================================
! Zargenaußenmaße
! =============================================================================

_outside = 0
_inside = 0

! --------- Abmessungen nach LoD

IF dk_LOD < 400 THEN 
	frame_out_dims_x = ac_wallhole_width   					! wird vom Hauptobjekt übergeben
	frame_out_dims_z = ac_unit_height + gs_tolerance_upper  	! wird vom Hauptobjekt übergeben
	clearingFrameCenter = offsetFrameCenter
	_framewidth_left  = _framewidth_left  + gs_tolerance_left
	_framewidth_right = _framewidth_right + gs_tolerance_right
	! _tt_plus = 0
	ELSE
	frame_out_dims_x = ac_unit_width  		! wird vom Hauptobjekt übergeben
	frame_out_dims_z = ac_unit_height 		! wird vom Hauptobjekt übergeben
	clearingFrameCenter  = 0
	ENDIF

frame_out_dims_y = RimOpening  ! nicht frameThickness  / -> wird oben berechnet


! =============================================================================
! Geometrien für Außenkommunikation
! =============================================================================

! Montageplatz Obentürschließer / Automation auf Zarge/Wand

IF oberLichtBlende = 0 THEN

	! #### kein Kämpfer oder Oberblende, oberes Zargenprofil

	! ZARGENSPIEGELBREITE OBEN an Bandseite
	IF dk_frametype = "UZ" OR dk_frametype = "EZ"  THEN
		facingLintelBS = bs_spiegel_br_ob_bs - bs_leaf_oversize
		ELSE   ! = "BZ"   = "RR"
		facingLintelBS = gs_frame_width_upper - gs_vb - bs_leaf_oversize
		ENDIF

	! ZARGENSPIEGELBREITE OBEN an Bandgegenseite
	IF dk_frametype = "UZ"  THEN
		facingLintelBGS = bs_spiegel_br_ob_bgs
		ELSE   ! = "BZ"   = "RR"   = "EZ"
		facingLintelBGS = gs_frame_width_upper
		ENDIF

	! ABSTAND ZARGENSPIEGELOBERFLÄCHEN Bandseite zu Bandgegenseite
	offsetFrameSurfaceBGS = dk_frame_thk_upper

	! ABSTAND MONTAGEBEZUGSEBENE ZU WANDOBERFLÄCHE (ohne Bekleidung) an Bandseite
	IF dk_frametype = "UZ" OR dk_frametype = "EZ"  THEN
		frame2wallSurfaceBS  = - gs_ub_st2    !+ wall_shell_thk_1
		ELSE
		IF dk_frametype = "BZ" THEN
			frame2wallSurfaceBS  = - gs_ub_st2 + bz_einzug * bz_typ_einzug    !+ wall_shell_thk_1
			ELSE   ! = "RR"
			frame2wallSurfaceBS  = bz_einzug    !+ wall_shell_thk_1
			ENDIF
		ENDIF

	! ABSTAND MONTAGEBEZUGSEBENE ZU WANDOBERFLÄCHE (ohne Bekleidung) an Bandgegenseite
	frame2wallSurfaceBGS = wallThicknessEffective - frame2wallSurfaceBS - offsetFrameSurfaceBGS    !+ wall_shell_thk_2

	ELSE

	IF oberLichtBlende = 1 THEN

		! #### mit Kämpfer

		! ZARGENSPIEGELBREITE OBEN Band(gegen)seite
		facingLintelBS =  gs_frame_width_transom - gs_vb - bs_leaf_oversize
		facingLintelBGS = gs_frame_width_transom

		! ABSTAND ZARGENSPIEGELOBERFLÄCHEN Bandseite zu Bandgegenseite
		offsetFrameSurfaceBGS =	dk_frame_thk_transom

		! ABSTAND MONTAGEBEZUGSEBENE ZU WANDOBERFLÄCHE (ohne Bekleidung) an Bandgegenseite
		IF dk_frametype = "UZ" OR dk_frametype = "EZ"  THEN
			frame2wallSurfaceBS  = - gs_ub_st2    !+ wall_shell_thk_1
			ELSE
			IF dk_frametype = "BZ" THEN
				frame2wallSurfaceBS  = - gs_ub_st2 + bz_einzug * bz_typ_einzug    !+ wall_shell_thk_1
				ELSE   ! = "RR"
				frame2wallSurfaceBS  = bz_einzug    !+ wall_shell_thk_1
				ENDIF
			ENDIF

		ELSE

		! #### mit Oberblende

		! "ZARGENSPIEGEL"BREITE OBEN Band(gegen)seite
		facingLintelBS =  bs_FrameRebate_height + bs_leaf_oversize - ac_egress_height
		facingLintelBGS = bs_FrameRebate_height - gs_vb - ac_egress_height

		! ABSTAND MONTAGEBEZUGSEBENEN Bandseite zu Bandgegenseite
		offsetFrameSurfaceBGS =	gs_leaf_thk - bs_leaf_overhang   ! -offsetHingePanelSurfaceBS ???

		! ABSTAND MONTAGEBEZUGSEBENE ZU WANDOBERFLÄCHE (ohne Bekleidung) je an Band(gegen)seite
		IF dk_frametype = "UZ" OR dk_frametype = "EZ"  THEN
			frame2wallSurfaceBS  = - gs_ub_st2 - bs_leaf_overhang   !+ wall_shell_thk_1
			ELSE
			IF dk_frametype = "BZ" THEN
				frame2wallSurfaceBS = - gs_ub_st2 - bs_leaf_overhang + bz_einzug * bz_typ_einzug    !+ wall_shell_thk_1
				ELSE   ! = "RR"
				frame2wallSurfaceBS = bz_einzug - bs_leaf_overhang    !+ wall_shell_thk_1
				ENDIF
			ENDIF

		ENDIF

	! ABSTAND MONTAGEBEZUGSEBENE ZU WANDOBERFLÄCHE (ohne Bekleidung) an Bandgegenseite
	frame2wallSurfaceBGS = wallThicknessEffective - frame2wallSurfaceBS - offsetFrameSurfaceBGS    !+ wall_shell_thk_2

	ENDIF

! Abstand obere Bezugskante (OK Türblatt) zu OK Zargenspiegel bei UZ / EZ
! IF dk_frametype = "UZ" OR dk_frametype = "EZ"  THEN ancor2frametopBS = facingLintelBS ELSE ancor2frametopBS = -999
! IF dk_frametype = "UZ" THEN ancor2frametopBGS = facingLintelBGS ELSE ancor2frametopBGS = -999


! =============================================================================
! UI-Seiten
! =============================================================================

!  UI_page_type =  -2 > sub of ROOT, -1 > sub of last, 1 > sub of first macro page

seiten = 1
IF dk_LOI > 4 THEN
	UI_page_names[seiten] = uiTXT[1] + " (" + frame_system + ")"
	UI_page_icons[seiten] = "dk_title_frame.png"
	UI_page_type[seiten]  = -1
	UI_page_subs[seiten] = 2500
	ELSE
	UI_page_names[seiten] = uiTXT[1] + " (" + frame_system + ")"
	UI_page_icons[seiten] = "dk_title_frame.png"
	UI_page_type[seiten]  = -1
	UI_page_subs[seiten] = 2600
	ENDIF

! »»» A U F T E I L U N G
IF dk_LOI = dk_LOI THEN  
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[2]  ! "... Aufteilung der Seitenfelder / Oberlicht"
	UI_page_icons[seiten] = "dk_title_segments.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 2700
	ENDIF

! »»» UI-Seiten nach Level of Information
IF dk_LOI > 4 AND dk_frametype = "BZ" THEN    !Blockzarge
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[3]  ! "... Horizontale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeH.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 3000
	seiten = seiten+1
	UI_page_names[seiten] = "... Vertikale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeV.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 3100
	ENDIF

IF dk_LOI > 4 AND dk_frametype = "EZ" THEN    !Eckzarge
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[3]  ! "... Horizontale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeH.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 3500
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[4]  ! "... Vertikale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeV.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 3600
	ENDIF

IF dk_LOI > 4 AND dk_frametype = "UZ" THEN    !Umfassungszarge
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[3]  ! "... Horizontale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeH.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 4000
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[4]  ! "... Vertikale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeV.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 4100
	ENDIF

IF dk_LOI > 4 AND dk_frametype = "RR" THEN    !Rohrrahmenzarge
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[3]  ! "... Horizontale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeH.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 4500
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[4]  ! "... Vertikale Abmessungen"
	UI_page_icons[seiten] = "dk_title_sizeV.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 4600
	ENDIF

! »»» M A T E R I A L S E I T E
IF dk_LOI > 4 THEN  
	seiten = seiten+1
	UI_page_names[seiten] = uiTXT[5]  ! "... Material + Schraffuren + Stifte"
	UI_page_icons[seiten] = "dk_title_frame_mat.png"
	UI_page_type[seiten]  = 1
	UI_page_subs[seiten] = 4700
	ENDIF

! Makroende, wenn nur Voranfrage
IF macro_runtype = 1   THEN END UI_page_type   ! »»» return UI page hirarchy
IF macro_runtype = 2   THEN END UI_page_names  ! »»» return UI page names
IF macro_runtype = 4   THEN END UI_page_icons  ! »»» return UI page picts


! =============================================================================
! Zargenbekleidung auf Gehrung oder auf Stoß ?
! =============================================================================

_oben_gehrung = 0
_oben_laenger = 0

IF gs_different_framewidth THEN
	IF ABS(gs_frame_width_right - gs_frame_width_upper) > tlr OR ABS(gs_frame_width_right - gs_frame_width_upper) > tlr THEN
		_oben_gehrung = 0
		ELSE
		_oben_gehrung = 1
		ENDIF
	ELSE
	_oben_gehrung = 1
	ENDIF

IF ABS(bs_spiegel_br_bs - bs_spiegel_br_ob_bs) > tlr OR ABS(bs_spiegel_br_bgs - bs_spiegel_br_ob_bgs) > tlr THEN
	_oben_gehrung = 0
	IF dk_LOD > 399 AND (dk_frametype = "UZ" OR dk_frametype = "EZ") THEN _oben_laenger = 1
	ENDIF

IF dk_frametype = "BZ" OR dk_frametype = "RR" THEN gs_ub_st1 = 0
IF dk_frametype = "RR" THEN gs_ub_st2 = 0


! =============================================================================
! Plausibilitätsprüfung
! =============================================================================

DIM errorQ[]
errorI = 0
errorQ[1] = ""

! »»» Fehlermeldungen

IF GLOB_PREVIEW_MODE THEN

	IF (( bs_frame_material = "KU" AND bs_panel_material # "KU") OR \
		( bs_panel_material = "KU" AND bs_frame_material # "KU") OR \
		( bs_frame_material = "HO" AND bs_panel_material # "HO") OR \
		( bs_frame_material = "ST" AND bs_panel_material = "AL") OR \
		( bs_frame_material = "AL" AND bs_panel_material = "ST")) AND bs_door_leafs > 0 THEN
		errorI = errorI+1 : errorQ[errorI] = "Zargenmaterial passt nicht zum Türblatt."
		ENDIF

	IF  ( dk_frametype = "RR" AND (bs_frame_material # "KU" AND  bs_frame_material # "ST" AND bs_frame_material # "AL") ) OR \
		( dk_frametype = "UZ" AND bs_frame_material = "KU") THEN
		errorI = errorI+1 : errorQ[errorI] = "Zargenmaterial passt nicht zum Zargentyp."
		ENDIF
		
	ENDIF

! sts = 1+2+8 : GOSUB "debuginfo"
! errorI = errorI+1 : errorQ[errorI] = "FRAME: "+txt

! =============================================================================
! ENDE INITIALISIERUNG
! =============================================================================

IF macro_runtype = 256 THEN END offsetFrameSurfaceBGS,facingLintelBS, facingLintelBGS,
								frame2wallSurfaceBS, frame2wallSurfaceBGS, errorQ  ! »»» Fehlermeldung
IF macro_runtype = 512 THEN END offsetFrameSurfaceBGS,  ! »»» nur Umgebungswerte zurück
								facingLintelBS, facingLintelBGS,
								frame2wallSurfaceBS, frame2wallSurfaceBGS

! ------------------------------------------------------------------------[ ... ]

GOTO "masterend"


! =============================================================================
! =============================================================================
!
! SUBROUTINES
!
! =============================================================================
! =============================================================================

! Errorcontent:
"debuginfo":
	IF BITTEST(sts,0) THEN txt = "Falscher Wandanschluss " ELSE txt=""
	IF BITTEST(sts,1) THEN txt = txt + STRSUB(", ",1,2*(txt#"")) + "Anschlag"
	IF BITTEST(sts,2) THEN txt = txt + STRSUB(", ",1,2*(txt#"")) + "Nicht bündig mit Zarge"
	IF BITTEST(sts,3) THEN txt = txt + STRSUB(", ",1,2*(txt#"")) + "Leibungstiefe"
	IF BITTEST(sts,4) THEN txt = txt + STRSUB(", ",1,2*(txt#"")) + "Türbreite"
	IF BITTEST(sts,5) THEN txt = txt + STRSUB(", ",1,2*(txt#"")) + "sonstiges"
	IF txt # "" THEN txt = " ("+txt+")"
	RETURN

"masterend":


]]></Script_1D>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_PR SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
! Script_PR
]]></Script_PR>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_UI SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
! =============================================================================
! GLOBAL SETTINGS
! =============================================================================

!-------------------------------------------- [ Standardelemente aller Seiten ]

DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[] ! Arrays für diskrete Auswahlen UI_INFIELD{4}

format = "" : sts = REQUEST ("Working_length_unit", "",format)			  !	Format für UI-Outfield -Längenwerte	
GOSUB "out_values"	

!------------------------------------------------------------------ [ Sprache ]

! ----------------------------------- MULTILINGUAL TEXT [FRAME] (start)

! --------- RESET array variables
	DIM babel[]
	DIM bubble[]

! --------- User Interface - UI_xxxFIELD text (Deutsch)
	IF language = 1 THEN
		babel[1] = "Produkt:"
		babel[2] = "Konstruktionsart:"
		babel[3] = "Hersteller:"
		babel[4] = "Konturen 2D / 3D:"
		babel[5] = "Konturen 2D / Schnitt:"
		babel[6] = "Oberfläche BS / BGS:"
		babel[7] = "Farbe BS / BGS:"
		babel[8] = "Zarge:"
		babel[9] = "Querschnitt:"
		babel[10] = "Ansichtslinien / 3D:"
		babel[11] = "Konstruktionsart:"
		babel[12] = "Füllung:"
		babel[13] = "BANDGEGENSEITE"
		babel[14] = "Teilung Oberlicht:"
		babel[15] = "Zargenaußenmaß:"
		babel[16] = "Einzug von Bandseite:"
		babel[17] = "Zargenaußenmaß:"
		babel[18] = "Maulweite:"
		babel[19] = "Relevante Wandstärke:"
		babel[20] = "Schnitt durch Türblatt"
		babel[21] = "Schnitt durch Seitenfeld"
		babel[22] = "Zierfalz BGS\nTiefe :"
		babel[23] = "Füllungstyp Felder"
		babel[24] = "Relevante Wandstärke:"
		babel[25] = "Zargenaußenmaß:"
		babel[26] = "Oberlicht BS:"
		babel[27] = "Oberlicht BGS:"
		babel[28] = "Seitenfeld links BS:"
		babel[29] = "Seitenfeld links BGS:"
		babel[30] = "Seitenfeld rechts BS:"
		babel[31] = "Seitenfeld rechts BGS:"
		babel[32] = "VERTIKALSCHNITTE - BLOCKZARGE"
		babel[33] = "VERTIKALSCHNITTE - ECKZARGE"
		babel[34] = "VERTIKALSCHNITTE - ROHRRAHMENZARGE"
		babel[35] = "VERTIKALSCHNITTE - UMFASSUNGSZARGE"
		babel[36] = "HORIZONTALSCHNITT - BLOCKZARGE"
		babel[37] = "HORIZONTALSCHNITT - ECKZARGE"
		babel[38] = "HORIZONTALSCHNITT\nROHRRAHMENZARGE"
		babel[39] = "HORIZONTALSCHNITT\nUMFASSUNGSZARGE"
		babel[40] = "Zarge BGS:"
		babel[41] = "Zarge BS:"
		babel[42] = "(*) BS = Bandseite, \nBGS = Bandgegenseite"
		babel[43] = "(*) BS = Bandseite, BGS = Bandgegenseite"
		babel[44] = "* RAHMEN- AUSSENMASS"
		babel[45] = "ABMESSUNGEN FALZ"
		ENDIF
! --------- User Interface - UI_xxxFIELD text (Englisch)
	IF language = 4 THEN
		babel[1] = "Product:"
		babel[2] = "Konstruktionsart:"
		babel[3] = "Manufacturer:"
		babel[4] = "Contours 2D / 3D:"
		babel[5] = "Contours 2D / Schnitt:"
		babel[6] = "Surface BS / BGS:"
		babel[7] = "Colour BS / BGS:"
		babel[8] = "Frame:"
		babel[9] = "Querschnitt:"
		babel[10] = "Ansichtslinien / 3D:"
		babel[11] = "Konstruktionsart:"
		babel[12] = "Füllung:"
		babel[13] = "BANDGEGENSEITE"
		babel[14] = "Teilung Oberlicht:"
		babel[15] = "Zargenaußenmaß:"
		babel[16] = "Einzug von Bandseite:"
		babel[17] = "Zargenaußenmaß:"
		babel[18] = "Maulweite:"
		babel[19] = "Relevante Wandstärke:"
		babel[20] = "Schnitt durch Türblatt"
		babel[21] = "Schnitt durch Seitenfeld"
		babel[22] = "Zierfalz BGS\nTiefe :"
		babel[23] = "Füllungstyp Felder"
		babel[24] = "Relevante Wandstärke:"
		babel[25] = "Zargenaußenmaß:"
		babel[26] = "Oberlicht BS:"
		babel[27] = "Oberlicht BGS:"
		babel[28] = "Seitenfeld links BS:"
		babel[29] = "Seitenfeld links BGS:"
		babel[30] = "Seitenfeld rechts BS:"
		babel[31] = "Seitenfeld rechts BGS:"
		babel[32] = "VERTIKALSCHNITTE - BLOCKZARGE"
		babel[33] = "VERTIKALSCHNITTE - ECKZARGE"
		babel[34] = "VERTIKALSCHNITTE - ROHRRAHMENZARGE"
		babel[35] = "VERTIKALSCHNITTE - UMFASSUNGSZARGE"
		babel[36] = "HORIZONTALSCHNITT - BLOCKZARGE"
		babel[37] = "HORIZONTALSCHNITT - ECKZARGE"
		babel[38] = "HORIZONTALSCHNITT\nROHRRAHMENZARGE"
		babel[39] = "HORIZONTALSCHNITT\nUMFASSUNGSZARGE"
		babel[40] = "Zarge BGS:"
		babel[41] = "Zarge BS:"
		babel[42] = "(*) BS = Bandseite, \nBGS = Bandgegenseite"
		babel[43] = "(*) BS = Bandseite, BGS = Bandgegenseite"
		babel[44] = "* RAHMEN- AUSSENMASS"
		babel[45] = "ABMESSUNGEN FALZ"
		ENDIF

! --------- User Interface - Tooltip text (Deutsch)
	IF language = 1 THEN
		bubble[1] = "Name Zargenhersteller"
		bubble[2] = "Zargenmaterial"
		bubble[3] = "Zarge Oberfläche Bandseite"
		bubble[4] = "Zarge Oberfläche Bandgegenseite"
		bubble[5] = "Farbe Bandseite"
		bubble[6] = "Farbe Bandgegenseite"
		bubble[7] = "Konturstift 3D"
		bubble[8] = "Konturstift Grundriss"
		bubble[9] = "Modell- / Typenbezeichnung Zarge"
		bubble[10] = "Oberflächenmaterial"
		bubble[11] = "Schraffurstift Hintergrund"
		bubble[12] = "Schraffurstift Vordergrund"
		bubble[13] = "Schraffurtyp"
		bubble[14] = "Lichte Durchgangsbreite"
		bubble[15] = "Lichte Durchgangshöhe"
		bubble[16] = "Höhe Oberlicht"
		bubble[17] = "Oberlicht / Kämpfer / Riegel"
		bubble[18] = "Rahmenbreite"
		bubble[19] = "Falzbreite (Gesamt)"
		bubble[20] = "Falztiefe (Gesamt)"
		bubble[21] = "Seitenfeld"
		bubble[22] = "Breite Seitenfeld rechts"
		bubble[23] = "Breite Seitenfeld links"
		bubble[24] = "Seitenfeld untersch. Breiten"
		bubble[25] = "Teilung Oberlicht"
		bubble[26] = "Teilung über Tür"
		bubble[27] = "Breite Pfosten links"
		bubble[28] = "Breite Pfosten rechts"
		bubble[29] = "Breite Schattenfuge"
		bubble[30] = "Bekleidungsdicke / Tiefe Sickenkante"
		bubble[31] = "Bezug Rahmenstärke"
		bubble[32] = "Rahmenstärke des Pfostens"
		bubble[33] = "Tiefe Blockzarge"
		bubble[34] = "Wandstärke ohne Wandschalen/Bekleidungen"
		bubble[35] = "Rahmenbreite alle Rahmen"
		bubble[36] = "Rahmenbreite links"
		bubble[37] = "Rahmenbreite rechts"
		bubble[38] = "Untersch. Rahmenstärken"
		bubble[39] = "Untersch. Rahmenbreiten"
		bubble[40] = "Stärke Füllung Seitenteil links"
		bubble[41] = "Stärke Füllung Seitenteil rechts"
		bubble[42] = "Unterschiedliche Rahmenbreiten"
		bubble[43] = "Wandschale Aufbau BGS"
		bubble[44] = "Wandschale Aufbau BS"
		bubble[45] = "Breite oberer Rahmen"
		bubble[46] = "Rahmenbreite Kämpfer"
		bubble[47] = "Rahmenbreite Sockelprofil"
		bubble[48] = "Rahmenhöhe"
		bubble[49] = "Rahmenstärke"
		bubble[50] = "Rahmenstärke Kämpfer"
		bubble[51] = "Rahmenstärke Sockelprofil"
		bubble[52] = "Rahmenstärke oben"
		bubble[53] = "Unterschiedliche Rahmenbreiten"
		bubble[54] = "Unterschiedliche Rahmenstärken"
		bubble[55] = "Oberlicht/Oberblende"
		bubble[56] = "Rahmenbreite"
		bubble[57] = "Rahmenbreite Kämpfer"
		bubble[58] = "Rahmenbreite Sockelprofil"
		bubble[59] = "Einzug von der Bandseite"
		bubble[60] = "1. Falzbreite"
		bubble[61] = "1. Falztiefe"
		bubble[62] = "2. Falzbreite"
		bubble[63] = "2. Falztiefe"
		bubble[64] = "Tiefe Zierfalz BGS (0 = ohne)"
		bubble[65] = "Spiegelbreite BS"
		bubble[66] = "Spiegelbreite BGS"
		bubble[67] = "Spiegelbreite oben"
		bubble[68] = "Spiegelbreite oben BS"
		bubble[69] = "Spiegelbreite oben BGS"
		bubble[70] = "Falzdichtung Anzahl"
		bubble[71] = "Stärke Füllung Oberlicht"
		bubble[72] = "Pfostenstärke links"
		bubble[73] = "Pfostenstärke rechts"
		bubble[74] = "Einzug Blockzarge Bandseite"
		bubble[75] = "Zargen-/Rahmenstärke"
		ENDIF
! --------- User Interface - Tooltip text (Englisch)
	IF language = 4 THEN
		bubble[1] = "Frame manufacturer"
		bubble[2] = "Frame material"
		bubble[3] = "Zarge Oberfläche Bandseite"
		bubble[4] = "Zarge Oberfläche Bandgegenseite"
		bubble[5] = "Farbe Bandseite"
		bubble[6] = "Farbe Bandgegenseite"
		bubble[7] = "Konturstift 3D"
		bubble[8] = "Konturstift Grundriss"
		bubble[9] = "Modell- / Typenbezeichnung Zarge"
		bubble[10] = "Oberflächenmaterial"
		bubble[11] = "Schraffurstift Hintergrund"
		bubble[12] = "Schraffurstift Vordergrund"
		bubble[13] = "Schraffurtyp"
		bubble[14] = "Lichte Durchgangsbreite"
		bubble[15] = "Lichte Durchgangshöhe"
		bubble[16] = "Höhe Oberlicht"
		bubble[17] = "Oberlicht / Kämpfer / Riegel"
		bubble[18] = "Rahmenbreite"
		bubble[19] = "Falzbreite (Gesamt)"
		bubble[20] = "Falztiefe (Gesamt)"
		bubble[21] = "Seitenfeld"
		bubble[22] = "Breite Seitenfeld rechts"
		bubble[23] = "Breite Seitenfeld links"
		bubble[24] = "Seitenfeld untersch. Breiten"
		bubble[25] = "Teilung Oberlicht"
		bubble[26] = "Teilung über Tür"
		bubble[27] = "Breite Pfosten links"
		bubble[28] = "Breite Pfosten rechts"
		bubble[29] = "Breite Schattenfuge"
		bubble[30] = "Bekleidungsdicke / Tiefe Sickenkante"
		bubble[31] = "Bezug Rahmenstärke"
		bubble[32] = "Rahmenstärke des Pfostens"
		bubble[33] = "Tiefe Blockzarge"
		bubble[34] = "Wandstärke ohne Wandschalen/Bekleidungen"
		bubble[35] = "Rahmenbreite alle Rahmen"
		bubble[36] = "Rahmenbreite links"
		bubble[37] = "Rahmenbreite rechts"
		bubble[38] = "Untersch. Rahmenstärken"
		bubble[39] = "Untersch. Rahmenbreiten"
		bubble[40] = "Stärke Füllung Seitenteil links"
		bubble[41] = "Stärke Füllung Seitenteil rechts"
		bubble[42] = "Unterschiedliche Rahmenbreiten"
		bubble[43] = "Wandschale Aufbau BGS"
		bubble[44] = "Wandschale Aufbau BS"
		bubble[45] = "Breite oberer Rahmen"
		bubble[46] = "Rahmenbreite Kämpfer"
		bubble[47] = "Rahmenbreite Sockelprofil"
		bubble[48] = "Frame height"
		bubble[49] = "Frame thickness"
		bubble[50] = "Rahmenstärke Kämpfer"
		bubble[51] = "Rahmenstärke Sockelprofil"
		bubble[52] = "Rahmenstärke oben"
		bubble[53] = "Unterschiedliche Rahmenbreiten"
		bubble[54] = "Unterschiedliche Rahmenstärken"
		bubble[55] = "Oberlicht/Oberblende"
		bubble[56] = "Frame width"
		bubble[57] = "Rahmenbreite Kämpfer"
		bubble[58] = "Rahmenbreite Sockelprofil"
		bubble[59] = "Einzug von der Bandseite"
		bubble[60] = "2. Falzbreite"
		bubble[61] = "2. Falztiefe"
		bubble[62] = "3. Falzbreite"
		bubble[63] = "3. Falztiefe"
		bubble[64] = "Tiefe Zierfalz BGS (0 = ohne)"
		bubble[65] = "Spiegelbreite BS"
		bubble[66] = "Spiegelbreite BGS"
		bubble[67] = "Spiegelbreite oben"
		bubble[68] = "Spiegelbreite oben BS"
		bubble[69] = "Spiegelbreite oben BGS"
		bubble[70] = "Falzdichtung Anzahl"
		bubble[71] = "Stärke Füllung Oberlicht"
		bubble[72] = "Pfostenstärke links"
		bubble[73] = "Pfostenstärke rechts"
		bubble[74] = "Einzug Blockzarge Bandseite"
		bubble[75] = "Zargen-/Rahmenstärke"
		ENDIF

! ----------------------------------- MULTILINGUAL TEXT (end)


! =============================================================================
! Dialogstart
! =============================================================================

! ------------------------------------------------------------------------[ Dialog start in development environment ]

IF macro_runtype # 128 THEN

	Makro_Version = "0.85 vom 11.12.18"

	UI_DIALOG "DORMA FRAME MACRO V"+str("%^.2",version)+" 11.12.18", 444,266	

	ENDIF
	

! ------------------------------------------------------------------------[ 1. Seite ]
s = 1
IF  seiten > 0 THEN
	IF macro_runtype = 0 THEN : UIpage = s : UIpage_number = UIpage : UIpage_parent = UI_page_type[s] : ENDIF  ! »»» Development
	IF UIpage_number = s THEN GOSUB UI_page_subs[s]
	ENDIF

! ------------------------------------------------------------------------[ 2. Seite ]
s = 2
IF  seiten > 1 THEN
	IF macro_runtype = 0 THEN : UIpage = s : UIpage_number = UIpage : UIpage_parent = UI_page_type[s] : ENDIF  ! »»» Development
	IF UIpage_number = s THEN GOSUB UI_page_subs[s]
	ENDIF

! ------------------------------------------------------------------------[ 3. Seite ]
s = 3
IF  seiten > 2 THEN
	IF macro_runtype = 0 THEN : UIpage = s : UIpage_number = UIpage : UIpage_parent = UI_page_type[s] : ENDIF  ! »»» Development
	IF UIpage_number = s THEN GOSUB UI_page_subs[s]
	ENDIF

! ------------------------------------------------------------------------[ 4. Seite ]
s = 4
IF  seiten > 3 THEN
	IF macro_runtype = 0 THEN : UIpage = s : UIpage_number = UIpage : UIpage_parent = UI_page_type[s] : ENDIF  ! »»» Development
	IF UIpage_number = s THEN GOSUB UI_page_subs[s]
	ENDIF

! ------------------------------------------------------------------------[ 5. Seite ]
s = 5
IF  seiten > 4 THEN
	IF macro_runtype = 0 THEN : UIpage = s : UIpage_number = UIpage : UIpage_parent = UI_page_type[s] : ENDIF  ! »»» Development
	IF UIpage_number = s THEN GOSUB UI_page_subs[s]
	ENDIF


! =============================================================================
! Dialogende
! =============================================================================

IF develop THEN
	UI_INFIELD{3} "develop", 470,0 , 50,19  UI_TOOLTIP "Entwicklereinstellung"
	UI_INFIELD{3} "frame_system", 450,40, 15,19 UI_TOOLTIP "Verfügbare Zargensysteme"
	ENDIF

END offsetFrameSurfaceBGS,
		facingLintelBS, facingLintelBGS,
		frame2wallSurfaceBS, frame2wallSurfaceBGS


! =============================================================================
! =============================================================================
!
! SUBROUTINES
!
! =============================================================================
! =============================================================================

"devshow":
	UI_STYLE 1,2
	UI_OUTFIELD "[FRAME v" + str("%^.2",version) + "]"  , 60,0,100,15, 4
	UI_STYLE 0,0

	i = -1 : s = 20
	i = i+1 :	ui_outfield STR(dk_frame_thk_EZ*1000,1,0),		475,i*s, 45,15  UI_TOOLTIP "dk_frame_thk_EZ"
				ui_outfield STR(dk_frame_thk_upper*1000,1,0),		525,i*s, 45,15  UI_TOOLTIP "dk_frame_thk_upper"
				ui_outfield STR(dk_frame_thk_bottom*1000,1,0),		575,i*s, 45,15  UI_TOOLTIP "dk_frame_thk_bottom"
	i = i+1 :	ui_outfield STR(dk_frame_thk_transom*1000,1,0),		475,i*s, 45,15  UI_TOOLTIP "dk_frame_thk_transom"
				ui_outfield STR(dk_frame_thk_post*1000,1,0),		525,i*s, 45,15  UI_TOOLTIP "dk_frame_thk_post"
	i = i+2 :	ui_outfield STR(gs_frame_width*1000,1,0),		475,i*s, 45,15  UI_TOOLTIP "gs_frame_width"
				ui_outfield STR(gs_frame_width_transom*1000,1,0),		525,i*s, 45,15  UI_TOOLTIP "gs_frame_width_transom"
				ui_outfield STR(gs_frame_width_bottom_sl*1000,1,0),		575,i*s, 45,15  UI_TOOLTIP "gs_frame_width_bottom_sl"
	i = i+1 :	ui_outfield STR(gs_frame_width_left*1000,1,0),		475,i*s, 45,15  UI_TOOLTIP "gs_frame_width_left"
				ui_outfield STR(gs_frame_width_right*1000,1,0),		525,i*s, 45,15  UI_TOOLTIP "gs_frame_width_right"
				ui_outfield STR(gs_frame_width_upper*1000,1,0),		575,i*s, 45,15  UI_TOOLTIP "gs_frame_width_upper"
	i = i+1 :	ui_outfield STR(gs_frame_width_left_2*1000,1,0),		475,i*s, 45,15  UI_TOOLTIP "gs_frame_width_left_2"
				ui_outfield STR(gs_frame_width_right_2*1000,1,0),		525,i*s, 45,15  UI_TOOLTIP "gs_frame_width_right_2"

	RETURN

"devSELECTION":
	FOR i= 1 TO VARDIM1(UIpicIdxArray)
		ui_outfield UIpicIdxArray[i],   0,260+i*15,140,15
		ui_outfield UItextArray[i]  , 150,260+i*15,140,15
		ui_outfield UIvaluesArray[i], 300,260+i*15,140,15
		NEXT i
	RETURN

! ------------------------------------------------------------------------[ Auswahloptionen ]

! ----------------------------------- PARAMETER / INFIELD VALUE LIST [ECD FRAME] (start)

"VALUES_language":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Deutsch" : UIvaluesArray[j] = 1
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "English" : UIvaluesArray[j] = 4
	RETURN

"VALUES_bs_frame_material":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Stahl" : UIvaluesArray[j] = "ST"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Holz" : UIvaluesArray[j] = "HO"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Aluminium" : UIvaluesArray[j] = "AL"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Kunststoff" : UIvaluesArray[j] = "KU"
	RETURN

"VALUES_bz_typ_einzug":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "auf Wandstärke" : UIvaluesArray[j] = 0
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "festes Maß" : UIvaluesArray[j] = 1
	RETURN

"VALUES_bs_folding_nmbr":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "ohne" : UIvaluesArray[j] = 0
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "einfach" : UIvaluesArray[j] = 1
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "zweifach" : UIvaluesArray[j] = 2
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "dreifach" : UIvaluesArray[j] = 3
	RETURN

"VALUES_bs_frame_surface_BS":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Anstrich" : UIvaluesArray[j] = "AN"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Beschichtung" : UIvaluesArray[j] = "BE"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Funier" : UIvaluesArray[j] = "FU"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Eloxiert" : UIvaluesArray[j] = "EL"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Natur" : UIvaluesArray[j] = "NA"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "individuell" : UIvaluesArray[j] = "XX"
	RETURN

"VALUES_bs_frame_surface_BGS":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Anstrich" : UIvaluesArray[j] = "AN"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Beschichtung" : UIvaluesArray[j] = "BE"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Funier" : UIvaluesArray[j] = "FU"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Eloxiert" : UIvaluesArray[j] = "EL"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "Natur" : UIvaluesArray[j] = "NA"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "individuell" : UIvaluesArray[j] = "XX"
	RETURN

"VALUES_bs_door_sidelight":
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "keine" : UIvaluesArray[j] = "-"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "links" : UIvaluesArray[j] = "L"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "rechts" : UIvaluesArray[j] = "R"
	j=j+1 : UIpicIdxArray[j] = j : UItextArray[j] = "beidseitig" : UIvaluesArray[j] = "LR"
	RETURN

! --------------------------------------------------------------- PARAMETER / INFIELD VALUE LIST (end)


"SELECT_bs_frame_surface_BS":
	GOSUB "VALUES_bs_frame_surface_BS"
	sts = 0
	IF bs_frame_surface_BS # "XX" THEN
		FOR i = 1 TO j
			IF UIvaluesArray[i] = bs_frame_surface_BS THEN sts = 1
			NEXT i
		ENDIF
	RETURN

"SELECT_bs_frame_surface_BGS":
	GOSUB "VALUES_bs_frame_surface_BGS"
	sts = 0
	IF bs_frame_surface_BGS # "XX" THEN
		FOR i = 1 TO j
			IF UIvaluesArray[i] = bs_frame_surface_BGS THEN sts = 1
			NEXT i
		ENDIF
	RETURN

"VALUES_dk_sidelight_filling":

	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = 1 : UItextArray[j] = "Glas, einfach" : UIvaluesArray[j] = "G1"
	j=j+1 : UIpicIdxArray[j] = 2 : UItextArray[j] = "Glas, doppelt" : UIvaluesArray[j] = "G2"
	j=j+1 : UIpicIdxArray[j] = 3 : UItextArray[j] = "Glas, dreifach" : UIvaluesArray[j] = "G3"
	j=j+1 : UIpicIdxArray[j] = 1 : UItextArray[j] = "Platte, glatt" : UIvaluesArray[j] = "PL"
	
	RETURN

"SELECT_bs_inner_frame":
    j = 0 : DIM  UIpicIdxArray[], UItextArray[], UIvaluesArray[]
    j=j+1 : UIpicIdxArray[j] = 2 : UItextArray[j] = "Oberblende" : UIvaluesArray[j] = 2
    j=j+1 : UIpicIdxArray[j] = 1 : UItextArray[j] = "Oberlicht" : UIvaluesArray[j] = 3
	RETURN

"SELECT_bs_fanlight_division":
    j = 0 : DIM  UIpicIdxArray[], UItextArray[], UIvaluesArray[]
    j=j+1 : UIpicIdxArray[j] = 1 : UItextArray[j] = "ungeteilt" : UIvaluesArray[j] = 0
    j=j+1 : UIpicIdxArray[j] = 2 : UItextArray[j] = "symetrisch" : UIvaluesArray[j] = 1
    j=j+1 : UIpicIdxArray[j] = 4 : UItextArray[j] = "linke Pfostenachse" : UIvaluesArray[j] = 4
    j=j+1 : UIpicIdxArray[j] = 3 : UItextArray[j] = "rechte Pfostenachse" : UIvaluesArray[j] = 8
    j=j+1 : UIpicIdxArray[j] = 5 : UItextArray[j] = "wie Türöffnung" : UIvaluesArray[j] = 12
	RETURN

"SELECT_bs_folding_nmbr":
	IF bs_leaf_oversize>0 AND gs_vt < gs_leaf_thk THEN
		IF dk_panel_folding_ancor = 1 OR ABS(gs_vt + bs_leaf_overhang - gs_leaf_thk) < tlr THEN k = 5 ELSE k = 4
		ELSE
		! stumpf einschlagend
		IF dk_panel_folding_ancor = 1 THEN  ! an Falz 
			IF ABS(gs_vt - gs_leaf_thk) < tlr THEN k = 2 ELSE k = 3
			ELSE
			IF bs_leaf_overhang > 0 THEN
				IF ABS(gs_vt + bs_leaf_overhang - gs_leaf_thk) < tlr THEN k = 3 ELSE k = 0
				ELSE
				IF ABS(gs_leaf_thk - bs_leaf_overhang - gs_vt) < tlr THEN k = 2 ELSE k = 1
				ENDIF
			ENDIF
		ENDIF
	k = k*3  !MAX(0, MIN(k,5)) * 3
	j = 0 : DIM UIpicIdxArray[], UItextArray[], UIvaluesArray[]
	j=j+1 : UIpicIdxArray[j] = k+j : UItextArray[j] = "einfach" : UIvaluesArray[j] = 1
	j=j+1 : UIpicIdxArray[j] = k+j : UItextArray[j] = "zweifach" : UIvaluesArray[j] = 2
	j=j+1 : UIpicIdxArray[j] = k+j : UItextArray[j] = "dreifach" : UIvaluesArray[j] = 3
	RETURN
	
"SELECT_bz_typ_einzug":
    j = 0 : DIM  UIpicIdxArray[], UItextArray[], UIvaluesArray[]
    j=j+1 : UIpicIdxArray[j] = 1+((wall_shell_thk_1 + wall_shell_thk_2)>tlr) : UItextArray[j] = "auf Wandstärke" : UIvaluesArray[j] = 0
    j=j+1 : UIpicIdxArray[j] = 3 : UItextArray[j] = "Einzug (Bandseite) + festes Maß" : UIvaluesArray[j] = 1
	RETURN

"DYNVALUES_bs_door_sidelight2":
    j = 0 : DIM  UIpicIdxArray[], UItextArray[], UIvaluesArray[]
    j=j+1 : UIpicIdxArray[j] = 1 : UItextArray[j] = "-" : IF gs_sidelight_right THEN  UIvaluesArray[j] = "R"  ELSE UIvaluesArray[j] = "-"
    j=j+1 : UIpicIdxArray[j] = 2 : UItextArray[j] = "X" : IF gs_sidelight_right THEN  UIvaluesArray[j] = "LR" ELSE UIvaluesArray[j] = "L"
    RETURN

"DYNVALUES_bs_door_sidelight1":
    j = 0 : DIM  UIpicIdxArray[], UItextArray[], UIvaluesArray[]
    j=j+1 : UIpicIdxArray[j] = 1 : UItextArray[j] = "-" : IF gs_sidelight_left  THEN  UIvaluesArray[j] = "L"  ELSE UIvaluesArray[j] = "-"
    j=j+1 : UIpicIdxArray[j] = 2 : UItextArray[j] = "X" : IF gs_sidelight_left  THEN  UIvaluesArray[j] = "LR" ELSE UIvaluesArray[j] = "R"
    RETURN

"DYNVALUES_division":  !»» Bitmaps für Türaufteilung bestimmen

	! dk_sidelight_transom1 : Teilung Seitenfeld 1 (rechts von BS)
	! dk_sidelight_transom2 : Teilung Seitenfeld 2 (links von BS)
	! bs_fanlight_division BIT 0 (1)  : symetrisch
	! bs_fanlight_division BIT 1 (2)  : asymetrisch (Türteilung)
	! bs_fanlight_division BIT 2 (4)  : linke Pfostenachse von BS
	! bs_fanlight_division BIT 3 (8)  : rechte Pfostenachse von BS
	! bs_fanlight_division BIT 4 (16) : ungenutzt
	! bs_fanlight_division BIT 5 (32) : ungenutzt

	dk_slices_T  = "dk_slices_"
	dk_slices_OM = "dk_slices_OM"
	dk_slices_SL = "dk_slices_SL"
	dk_slices_OL = "dk_slices_OL"
	dk_slices_SR = "dk_slices_SR"
	dk_slices_OR = "dk_slices_OR"

	! Oberlicht
	txt=""
	IF gs_door_transom > 0 THEN
		txt="_W"
		! Seitliche Felder anschließend?
		IF BITTEST(bs_fanlight_division,3) OR gs_sidelight_right=0  THEN txt=txt+"L"
		IF BITTEST(bs_fanlight_division,2) OR gs_sidelight_left=0 THEN txt=txt+"R"
		! Mit Oberblende
		IF txt = "_WLR" AND bs_inner_frame = 2 THEN txt = "_OLR"
		IF bs_inner_frame > 2 THEN
			txt = txt + "U"
			IF bs_fanlight_division = 1 THEN
				txt = txt + "_TM"
				! IF gs_sidelight_right THEN
				! 	IF gs_sidelight_left THEN
				! 		txt = txt + "_TM"
				! 		ELSE
				! 		txt = txt + "_TM"
				! 		ENDIF
				! 	ELSE
				! 	IF gs_sidelight_left THEN
				! 		txt = txt + "_TM"
				! 		ELSE
				! 		txt = txt + "_TM"
				! 		ENDIF
				! 	ENDIF
				ELSE
				IF bs_fanlight_division = 2 THEN
					txt = txt + "_TT"
					ENDIF
				ENDIF
			ENDIF
		ELSE
		! Kein Oberlicht, aber seitliche Felder anschließend?
		IF gs_sidelight_right OR gs_sidelight_left THEN
			txt="_"
			IF gs_sidelight_right  THEN txt=txt+"L"
			IF gs_sidelight_left THEN txt=txt+"R"
			ENDIF
		ENDIF
	dk_slices_OM = dk_slices_OM + txt + " 90x40.png"

	! Linkes Seitenfeld
	txt=""
	IF gs_sidelight_right THEN
		txt="_W"
		IF (dk_sidelight_transom1 > 0 AND gs_door_transom > 0) OR gs_door_transom = 0 THEN txt=txt+"H"
		IF bs_inner_frame > 0 AND txt # "" THEN
			txt = txt + "Z"
			ENDIF
		ELSE
		IF gs_door_transom > 0 THEN txt="_H"
		ENDIF
	dk_slices_SL = dk_slices_SL + txt + " 40x140.png"

	! Links oben
	txt=""
	IF gs_door_transom = 0 OR gs_sidelight_right = 0 THEN
		IF gs_sidelight_right THEN txt="_H"
		IF gs_door_transom THEN txt="_V"
		ELSE
		txt="_W"
		IF BITTEST(bs_fanlight_division,3) THEN txt=txt+"V"
		IF dk_sidelight_transom1 > 0 THEN txt=txt+"H"
		IF bs_inner_frame > 0 AND txt # "" THEN
				txt = txt + "Z"
				ENDIF
		ENDIF
	dk_slices_OL = dk_slices_OL + txt + " 40x40.png"

	! Rechtes Seitenfeld
	txt=""
	IF gs_sidelight_left THEN
		txt="_W"
		IF (dk_sidelight_transom2 > 0 AND  gs_door_transom > 0) OR gs_door_transom = 0  THEN txt=txt+"H"
		IF bs_inner_frame > 0 AND txt # "" THEN
				txt = txt + "Z"
				ENDIF
		ELSE
		IF gs_door_transom > 0 THEN txt="_H"
		ENDIF
	dk_slices_SR = dk_slices_SR + txt + " 40x140.png"

	! Rechts oben
	txt=""
	IF gs_door_transom = 0 OR gs_sidelight_left = 0 THEN
		IF gs_sidelight_left THEN txt="_H"
		IF gs_door_transom THEN txt="_V"
		ELSE
		txt="_W"
		IF BITTEST(bs_fanlight_division,2) THEN txt=txt+"V"
		IF dk_sidelight_transom2 > 0 THEN txt=txt+"H"
		IF bs_inner_frame > 0 AND txt # "" THEN
				txt = txt + "Z"
				ENDIF
		ENDIF
	dk_slices_OR = dk_slices_OR + txt + " 40x40.png"

	! Tür
	IF bs_door_leafs > 0 THEN
		txt=""
		IF bs_panel_type="RP" THEN txt = "_R"
		IF bs_inner_frame < 2 THEN txt = "_G"
		IF bs_inner_frame = 2 THEN txt = "_O"
		IF txt = "" THEN
			IF bs_door_leafs > 1 THEN txt = "_2"
			ELSE
			IF bs_door_leafs > 1 THEN txt = txt + "2"
			ENDIF
		dk_slices_T = dk_slices_T + "T" + ac_OpeningSide + txt + " 90x140.png"
		ELSE
		dk_slices_T = dk_slices_T + "oT" + " 90x140.png"
		ENDIF

	! Maßketten
	IF gs_sidelight_left THEN   !»» Maßketten horizontal
		IF gs_sidelight_right THEN 
			dk_chain_TM = "dk_chain_TM_G 170x8.png"
			dk_chain_ZM = "dk_chain_ZM_G 170x8.png"
			ELSE
			dk_chain_TM = "dk_chain_TM_TL 170x8.png"
			dk_chain_ZM = "dk_chain_ZM_L 170x8.png"
			ENDIF
		ELSE
		IF gs_sidelight_right THEN 
			dk_chain_TM = "dk_chain_TM_TR 170x8.png"
			dk_chain_ZM = "dk_chain_ZM_R 170x8.png"
			ELSE
			dk_chain_TM = "dk_chain_TM_T 170x8.png"
			dk_chain_ZM = "dk_chain_ZM_M 170x8.png"
			ENDIF
		ENDIF

	IF gs_door_transom > 0 THEN   !»» Maßketten vertikal
		dk_chain_ZMV = "dk_chain_ZM_GV 8x180.png"
		dk_chain_TMV = "dk_chain_TM_GV 8x180.png"
		ELSE
		dk_chain_ZMV = "dk_chain_ZM_U 8x180.png"
		dk_chain_TMV = "dk_chain_TM_U 8x180.png"
		ENDIF

	RETURN


! ---------------------------------------------------------------------- !

"SLICES_division": 

	! Linkes Seitenfeld
	txt = dk_frametype + "_"
	IF gs_sidelight_left THEN
		txt = txt + "SL"
	ELSE
		txt = txt + "FL"
	ENDIF
	dk_slices_05  =  "dk_dims_" + txt + "_" + "70x87.png"

	! ......................... !

	IF gs_sidelight_left THEN
		IF dk_frametype = "RR" THEN 
			dk_slices_04  =  "dk_dims_RR_MiLi_Se"
		ELSE
			IF (dk_frametype = "UZ" OR dk_frametype = "BZ") AND NOT(dk_different_frame_thk) THEN 
				dk_slices_04  =  "dk_dims_UZBZ_MiLi_Se"
			ELSE
				dk_slices_04  =  "dk_dims_Allg_MiLi_Se"
			ENDIF
		ENDIF
		IF leftTi > 0 THEN
			dk_slices_04  =  dk_slices_04 + "_Pfeil_65x87.png"
		ELSE
			dk_slices_04  =  dk_slices_04 + "_65x87.png"
		ENDIF
	ELSE
		IF dk_frametype = "RR" THEN dk_slices_04  = "dk_dims_RR_MiLi_65x87.png"
		IF dk_frametype # "RR" THEN dk_slices_04  = "dk_dims_MiLi_65x87.png"
	ENDIF	

	! ......................... !

	IF bs_door_leafs = 1 THEN txt = "1" ELSE txt = "2"
	IF dk_frametype = "RR" THEN 
		dk_slices_03  =  "dk_dims_RR_MiMi_" + txt + "_52x87.png"
	ELSE
		dk_slices_03  =  "dk_dims_MiMi_" + txt + "_52x87.png"
	ENDIF

	! ......................... !

	IF gs_sidelight_right THEN
		IF dk_frametype = "RR" THEN
			dk_slices_02  =  "dk_dims_RR_MiRe_Se_74x87.png"
		ELSE
			IF (dk_frametype = "UZ" OR dk_frametype = "BZ") AND NOT(dk_different_frame_thk) THEN 
				dk_slices_02  =  "dk_dims_UZBZ_MiRe_Se_Pfeil_74x87.png"
			ELSE
				dk_slices_02  =  "dk_dims_Allg_MiRe_Se_Pfeil_74x87.png"
			ENDIF
		ENDIF	
	ELSE
		IF dk_frametype = "RR" THEN
			dk_slices_02  =  "dk_dims_RR_MiRe_74x87.png"
		ELSE
			! IF dk_frametype = "UZ" OR dk_frametype = "BZ" THEN 
			! 	dk_slices_02  =  "dk_dims_MiRe_74x87.png"
			! ELSE
				dk_slices_02  =  "dk_dims_MiRe_74x87.png"
			! ENDIF
		ENDIF	
	ENDIF	

	! ......................... !

	IF (gs_sidelight_left + gs_sidelight_right) = 2 THEN
		dk_slices_dims = "dk_dims_kette_beidseitig_" + dk_frametype + "_336x13.png"
		ELSE
		dk_slices_dims = "dk_dims_kette_keine_" + dk_frametype + "_336x13.png"
		IF gs_sidelight_right	THEN dk_slices_dims = "dk_dims_kette_links_" + dk_frametype + "_336x13.png"
		IF gs_sidelight_left	THEN dk_slices_dims = "dk_dims_kette_rechts_" + dk_frametype + "_336x13.png"
		ENDIF

	! ......................... !

	txt = dk_frametype + "_"
	IF gs_sidelight_right THEN
		txt = txt + "SR"
	ELSE
		txt = txt + "FR"
	ENDIF
	dk_slices_01  =  "dk_dims_" + txt + "_" + "74x87.png"

	RETURN

! ---------------------------------------------------------------------- !

"SLICES_division_vertical":  !»» Bitmaps für Türaufteilung vertikal bestimmen

	! T Ü R B L A T T

    ! obere Grafik Türblatt
    
	IF bs_inner_frame # 2 THEN

		 IF gs_door_transom THEN
			  txt = "_OL"
		 ELSE
			  txt = "_blatt"
		 ENDIF
		 dk_slices_blatt_01  =  "dk_dims_oben" + txt + "_" + dk_frametype + "_100x60.png"

	ELSE

		txt = "_blatt"
		dk_slices_blatt_01  =  "dk_dims_oben" + txt + "_" + dk_frametype + "_100x60.png"

	ENDIF

    ! ......................... !

    ! mittlere Grafik Türblatt
    
    IF gs_door_transom THEN

		IF bs_inner_frame # 2 THEN
        	IF dk_frametype # "RR" THEN txt = "_OL_blatt"
        	IF dk_frametype = "RR" THEN txt = "_OL_blatt_RR" 
  		ELSE
      	  	IF dk_frametype # "RR" THEN txt = "_OB_blatt"
       	 	IF dk_frametype = "RR" THEN txt = "_OB_blatt" 
		ENDIF
		! IF bs_inner_frame = 2 THEN		! Oberblende
		! 	txt = "OL_blende"
		! ENDIF
	
		IF bs_inner_frame = 3 THEN		! Normales Oberlicht
       	 	IF dk_frametype # "RR" THEN txt = "_OL_blatt"
        	IF dk_frametype = "RR" THEN txt = "_OL_blatt_RR" 
		ENDIF

    ELSE
        txt = "_blatt"
    ENDIF
    dk_slices_blatt_02  =  "dk_dims_mitte" + txt + "_100x65.png"



    ! ......................... !

    ! untere Grafik Türblatt
    
     dk_slices_blatt_03  =  "dk_dims_unten_blatt" + "_100x40.png"

    ! ---------------------------------------------------------------------- !
	! ---------------------------------------------------------------------- !


	! S E I T E N F E L D

    ! ......................... !
    ! ......................... !

    ! obere Grafik Seitenfeld
    
    txt = "_OL"
    dk_slices_feld_01  =  "dk_dims_SF_oben" + txt + "_" + dk_frametype + "_100x60.png"

    ! ......................... !

    ! mittlere Grafik Seitenfeld


    IF gs_door_transom THEN

		!IF ((gs_sidelight_left EXOR gs_sidelight_right) AND bs_inner_frame # 2) OR \
		IF (gs_sidelight_left AND gs_sidelight_right AND (dk_sidelight_transom1 OR dk_sidelight_transom2)) OR \
		(gs_sidelight_left AND dk_sidelight_transom2) OR (gs_sidelight_right AND dk_sidelight_transom1) THEN

       	 	IF dk_frametype # "RR" THEN txt = "_OL_glas"
        	IF dk_frametype = "RR" THEN txt = "_OL_glas_RR" 
		ELSE
			txt = "_glas"
		ENDIF
    ELSE
        txt = "_glas"
    ENDIF
    dk_slices_feld_02  =  "dk_dims_SF_mitte" + txt + "_100x65.png"


    ! ......................... !

    ! untere Grafik Seitenfeld    

    dk_slices_feld_03  =  "dk_dims_SF_unten_glas" + "_100x40.png"

    ! ......................... !

	RETURN

! ---------------------------------------------------------------------- !

"out_format":  !»» Ausgabe von UI_OUTFIELDS im Format gem. Grundeinstellungen
	out_txt = STR (format, out_val)
	RETURN

"out_values":  !»» Bestimmung der notwendigen UI-Konfiguration gem. Feldauswahlen

	!  : out_val = XXX : GOSUB "out_format"
	!
	! dk_frame_thk_upper
	! dk_frame_thk_transom
	! dk_frame_thk_bottom
	! dk_frame_thk_post
	! dk_frame_thk_EZ
	!
	! gs_frame_width_left
	! gs_frame_width_right
	! gs_frame_width_left_2
	! gs_frame_width_right_2 
	! gs_frame_width_upper
	! gs_frame_width_transom
	! gs_frame_width_bottom_sl

	! Seitenfeldbreiten
	rightS = 0
	IF (gs_sidelight_right AND gs_sidelight_left AND bDiffSidelightWidth)															THEN rightS = 1
	IF (gs_sidelight_right AND NOT(gs_sidelight_left)) OR (gs_sidelight_right AND gs_sidelight_left AND NOT(bDiffSidelightWidth))	THEN rightS = 2

	! Stärken vertikal
	upperTi = 0
	IF gs_door_transom AND dk_different_frame_thk AND bs_inner_frame # 2		THEN upperTi = 1
	IF gs_door_transom AND NOT(dk_different_frame_thk) AND bs_inner_frame # 2	THEN upperTi = 2
	upperTsi = 0
	IF bs_inner_frame # 2 AND gs_door_transom AND     dk_different_frame_thk  AND  (gs_sidelight_left OR gs_sidelight_right) AND (dk_sidelight_transom1 OR dk_sidelight_transom2) THEN upperTsi = 2
	IF bs_inner_frame # 2 AND gs_door_transom AND NOT(dk_different_frame_thk) AND  (gs_sidelight_left OR gs_sidelight_right) AND (dk_sidelight_transom1 OR dk_sidelight_transom2) THEN upperTsi = 2
	IF bs_inner_frame = 2 AND gs_door_transom AND ((gs_sidelight_right AND dk_sidelight_transom1) OR (gs_sidelight_left and dk_sidelight_transom2)) THEN upperTsi = 2
	! ##### O B S O L E T : 	UI_OUTFIELD upperTsi , 50, 0, 100,20

	lowerT = 0
	IF (gs_sidelight_left OR gs_sidelight_right) AND dk_different_frame_thk			THEN lowerT = 1
	IF (gs_sidelight_left OR gs_sidelight_right)  AND NOT(dk_different_frame_thk)	THEN lowerT = 2

	! Stärken horizontal
	rightTi = 0
	IF gs_sidelight_right AND dk_different_frame_thk 		THEN rightTi = 1
	IF gs_sidelight_right AND NOT(dk_different_frame_thk)	THEN rightTi = 2
	leftTi = 0
	IF gs_sidelight_left AND NOT(gs_sidelight_right) AND dk_different_frame_thk			THEN leftTi = 1
	IF gs_sidelight_left AND NOT(gs_sidelight_right) AND NOT(dk_different_frame_thk)	THEN leftTi = 2

	! Breiten vertikal
	upperWi = 0
	IF gs_door_transom AND gs_different_framewidth AND bs_inner_frame # 2		THEN upperWi = 1
	IF gs_door_transom AND  NOT(gs_different_framewidth) AND bs_inner_frame # 2	THEN upperWi = 2
	upperWo = 0
	IF (gs_sidelight_left OR gs_sidelight_right)  AND     gs_different_framewidth	THEN upperWo = 2
	IF (gs_sidelight_left OR gs_sidelight_right)  AND NOT(gs_different_framewidth)	THEN upperWo = 2
	lowerW = 0
	IF (gs_sidelight_left OR gs_sidelight_right) AND gs_different_framewidth		THEN lowerW = 1
	IF ( gs_sidelight_left OR gs_sidelight_right) AND NOT(gs_different_framewidth)	THEN lowerW = 2

	! Breiten horizontal
	rightWi = 0
	IF (gs_sidelight_right AND gs_different_framewidth) OR (NOT(gs_sidelight_left) AND gs_sidelight_right AND gs_different_framewidth)	THEN rightWi = 1
	IF (gs_sidelight_right AND NOT(gs_different_framewidth))														THEN rightWi = 2
	leftWi = 0
	IF gs_sidelight_left AND gs_different_framewidth		THEN leftWi = 1
	IF gs_sidelight_left  AND NOT(gs_different_framewidth)	THEN leftWi = 2

	! Anzeige Oberlicht-Attribute nur, wenn Oberlicht Hauptfeld oder Seitenfeld vorhanden.
	show_OL_attributes = 0
	IF (bs_inner_frame # 2 AND gs_door_transom) OR ((bs_inner_frame = 2 AND gs_door_transom) AND ((gs_sidelight_left AND dk_sidelight_transom2) OR (gs_sidelight_right  AND dk_sidelight_transom1))) THEN show_OL_attributes = 1

	! Wenn Oberblende statt Oberlicht und gleichzeitig Seitenfeld vorhanden und mit Oberlicht
	show_infields_right = 0
	IF (bs_inner_frame = 2 AND gs_door_transom) AND ((gs_sidelight_left AND dk_sidelight_transom2) OR (gs_sidelight_right AND dk_sidelight_transom1)) THEN show_infields_right = 1

	RETURN

! ---------------------------------------------------------------------- !
! ---------------------------------------------------------------------- !

"Oberlicht-Material-Anzeige":  !»» Unterscheidung, ob Oberlichtmaterialien im UI oder nicht
	
	oL_mat_anzeige = 0
	
	! 0 = Oberlicht an/aus
	! 1 = Rechtes Seitenfel
	! 2 = linkes Seitenfeld
	! 3 = Kämpfer rechtes Seitenfeld
	! 4 = Kämpfer linkes Seitenfeld
	! 5 = Oberlicht ist ungeteilt
	! 6 = Oberlicht symmetrisch geteilt
	! 7 = Oberlicht anders geteilt
	! 8 = Oberlicht geteilt mit 2 Pfosten
	
	myBit = gs_door_transom * 1 + gs_sidelight_right * 2 + gs_sidelight_left * 4 + (dk_sidelight_transom1 > tlr) * 8 + (dk_sidelight_transom2 > tlr) * 16 \
	+ (bs_fanlight_division = 0 ) * 32 + (bs_fanlight_division = 1 ) * 64 + (bs_fanlight_division = 4 OR bs_fanlight_division = 8) * 128 +\
	(bs_fanlight_division = 12) * 256
	
	IF BITTEST(myBit,0) THEN																									! O B E R L I C H T   A N
	
		IF bs_inner_frame = 2  THEN																								! Oberblende mit Oberlicht
			IF (BITTEST(myBit,1) AND BITTEST(myBit,3)) OR (BITTEST(myBit,2) AND BITTEST(myBit,4)) THEN oL_mat_anzeige = 1
		ENDIF
		
		IF bs_inner_frame # 2  THEN																								! Oberlicht NICHT mit Oberblende
																							
			IF BITTEST(myBit,1) = 0 AND BITTEST(myBit,2) = 0 THEN oL_mat_anzeige = 1											! OL; aber keine Seitenteile
			! ---------------------------------------------------------------------- !
			IF (BITTEST(myBit,1) = 1 AND BITTEST(myBit,2) = 0) THEN															! Nur 1 Seitenteil rechts
				IF BITTEST(myBit,3) THEN oL_mat_anzeige = 1 																	! Seite rechts mit OL 			
				IF BITTEST(myBit,3) = 0 AND BITTEST(myBit,5) = 0	THEN oL_mat_anzeige = 1										! Seite rechts mit OL, aber senkrechter OL-Pfosten
			ENDIF
			! ---------------------------------------------------------------------- !
			IF (BITTEST(myBit,2) = 1 AND BITTEST(myBit,1) = 0) THEN															! Nur 1 Seitenteil links
				IF BITTEST(myBit,4) THEN oL_mat_anzeige = 1 																	! Seite links mit OL, aber nicht rechts
				IF BITTEST(myBit,4) = 0 AND BITTEST(myBit,5) = 0	THEN oL_mat_anzeige = 1										! Seite links mit OL, rechts ohne OL, aber senkrechter OL-Pfosten	
			ENDIF
			! ---------------------------------------------------------------------- !
			IF BITTEST(myBit,1) AND BITTEST(myBit,2) THEN																		! 2 Seitenteile 
				IF BITTEST(myBit,3) AND BITTEST(myBit,4) THEN oL_mat_anzeige = 1 												! beide mit OL
				IF BITTEST(myBit,3) AND (BITTEST(myBit,6) OR BITTEST(myBit,7))	THEN oL_mat_anzeige = 1							! Seite rechts mit OL, ohne senkrechter OL-Pfosten
				IF BITTEST(myBit,4) AND (BITTEST(myBit,6) OR BITTEST(myBit,7))	THEN oL_mat_anzeige = 1							! Seite links mit OL, ohne senkrechter OL-Pfosten
				IF BITTEST(myBit,8) THEN oL_mat_anzeige = 1																	! Oberlicht geteilt mit 2 Pfosten über Trpfosten
			ENDIF
			! ---------------------------------------------------------------------- !	
	
		ENDIF
	ENDIF

	RETURN

! ---------------------------------------------------------------------- !

! ------------------ MAIN PAGE [ 2500 ]
	2500:   ! #### LOI 1+ - Allgemeine Einstellungen
	GOSUB 9900
	UI_OUTFIELD babel[1], 28,70 , 125,15, 0+0
	UI_OUTFIELD babel[2], 28,26 , 125,15, 0+0
	UI_OUTFIELD babel[3], 28,48 , 125,15, 0+0
	UI_OUTFIELD babel[4], 28,144 , 109,15, 0+0
	UI_OUTFIELD babel[6], 28,98 , 125,15, 0+0
	UI_OUTFIELD babel[7], 28,121 , 125,15, 0+0
	UI_INFIELD{3} dk_cont_pens[dka_frame_penC2], 154,142 , 122,21 UI_TOOLTIP bubble[8]
	UI_INFIELD{3} dk_cont_pens[dka_frame_penC3], 284,142 , 122,21 UI_TOOLTIP bubble[7]
	UI_INFIELD{3} "bs_frame_manufacturer", 155,44 , 250,19 UI_TOOLTIP bubble[1]
	UI_INFIELD{3} "bs_frame_model", 155,67 , 250,19 UI_TOOLTIP bubble[9]
	GOSUB "VALUES_bs_frame_material"
	UI_INFIELD{3} "bs_frame_material", 154,20 , 252,21, 2, "", 999, 1, 0, 0, 0, 0, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[2]
	GOSUB "SELECT_bs_frame_surface_BS"
	IF sts THEN
		UI_INFIELD{3} "bs_frame_surface_BS", 154,94 , 122,21, 2, "", 99, 1, 0, 0, 0, 0, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[3]
		ELSE
		UI_INFIELD{3} "bs_frame_surface_BS", 155,95 , 121,19 UI_TOOLTIP bubble[3]
		ENDIF
	UI_INFIELD{3} "bs_frame_colour_BS", 155,118 , 120,19 UI_TOOLTIP bubble[5]
	UI_INFIELD{3} "bs_frame_colour_BGS", 285,118 , 120,19 UI_TOOLTIP bubble[6]
	GOSUB "SELECT_bs_frame_surface_BGS"
	IF sts THEN
		UI_INFIELD{3} "bs_frame_surface_BGS", 284,94 , 122,21, 2, "", 99, 1, 0, 0, 0, 0, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[4]
		ELSE
		UI_INFIELD{3} "bs_frame_surface_BGS", 285,95 , 121,19 UI_TOOLTIP bubble[4]
		ENDIF
	UI_SEPARATOR -1,90, 445,90
	UI_SEPARATOR 0,169, 445,169
	IF bs_door_leafs > 1 THEN GOSUB 5050   !»» Zargen- und Oberblendenfugenfalzmaße
	IF bs_door_leafs < 2 THEN GOSUB 5050   !»» Nur Zargenfalzmaße
	RETURN
! ------------------ MAIN PAGE LoI < 5 [ 2600 ]
	2600:   ! #### Vereinfachte Zargenparameter
	GOSUB 9900
	UI_OUTFIELD babel[11], 96,26 , 125,15, 0+0
	UI_OUTFIELD babel[8], 96,58 , 130,15, 0+0
	IF unifyingMaterial THEN UI_OUTFIELD babel[12], 96,87 , 130,15, 0+0
	UI_OUTFIELD babel[9], 96,122 , 130,15, 0+0
	UI_OUTFIELD babel[5], 96,214 , 130,15, 0+0
	UI_OUTFIELD babel[10], 96,243 , 130,15, 0+0
	GOSUB "VALUES_bs_frame_material"
	UI_INFIELD{3} "bs_frame_material", 222,20 , 124,21, 2, "", 999, 1, 0, 0, 0, 0, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[2]
	UI_INFIELD{3} dk_materials[dka_frame_mat_BS], 266,54 , 80,21 UI_TOOLTIP bubble[10]
	IF unifyingMaterial THEN
		UI_INFIELD{3} dk_materials[unifyingMaterial], 266,83 , 80,21 UI_TOOLTIP bubble[10]
		ENDIF
	UI_INFIELD{3} dk_fills[dka_frame_fill], 266,117 , 80,21 UI_TOOLTIP bubble[13]
	UI_INFIELD{3} dk_fill_pens[dka_frame_penF], 266,146 , 80,21 UI_TOOLTIP bubble[12]
	UI_INFIELD{3} dk_bkg_pens[dka_frame_penB], 266,175 , 80,21 UI_TOOLTIP bubble[11]
	UI_INFIELD{3} dk_cont_pens[dka_frame_penC2], 266,209 , 80,21 UI_TOOLTIP bubble[8]
	UI_INFIELD{3} dk_cont_pens[dka_frame_penC3], 266,238 , 80,21 UI_TOOLTIP bubble[7]
	UI_PICT "ui_fill_type_flat 20x20.png", 226,117 , 20,20, 1 UI_TOOLTIP bubble[13]
	UI_PICT "ui_list_surface_flat 32x15.png", 226,58 , 32,15, 1 UI_TOOLTIP bubble[10]
	IF unifyingMaterial THEN UI_PICT "ui_list_surface_flat 32x15.png", 226,87 , 32,15, 1 UI_TOOLTIP bubble[10]
	UI_PICT "ui_fill_pen_flat 29x16.png", 226,149 , 29,16, 1 UI_TOOLTIP bubble[12]
	UI_PICT "ui_fill_bg_pen_flat 29x16.png", 226,177 , 29,16, 1 UI_TOOLTIP bubble[11]
	UI_PICT "ui_list_contourPen_flat 32x15.png", 226,212 , 32,15, 1
	UI_PICT "ui_list_3DPen_flat 32x15.png", 226,241 , 32,15, 1
	UI_SEPARATOR 96,47, 346,47
	UI_SEPARATOR 96,110, 346,110
	UI_SEPARATOR 96,202, 346,202
	RETURN
! ------------------ DOOR DIVISION / TÜRAUFTEILUNG [ 2700 ]
	2700:   ! #### LOI 3+ - Türaufteilung
	GOSUB 9900
	GOSUB "DYNVALUES_division"   !»» Titel + Bitmaps für Türaufteilung bestimmen
	UI_STYLE 1,2
	UI_OUTFIELD babel[44], 352,240 , 92,26, 2+0
	UI_STYLE 0,0
	UI_OUTFIELD "*", 114,138 , 12,15, 2+0
	UI_OUTFIELD "*", 247,21 , 12,15, 2+0
	UI_STYLE 0,1
	UI_OUTFIELD babel[13], 0,20 , 134,15, 0+0
	UI_STYLE 0,0
	out_value = STR (format, gs_sidelight_width_right)
	IF gs_sidelight_right AND NOT(gs_sidelight_left AND bDiffSidelightWidth) THEN
		UI_OUTFIELD out_value, 124,249 , 62,14, 2+0
		ENDIF
	out_value = STR (format, gs_sidelight_width_left)
	IF gs_sidelight_left THEN
		UI_OUTFIELD out_value, 254,249 , 62,14, 2+0
		ENDIF
	UI_PICT dk_slices_T, 176,95 , 90,140, 1
	UI_PICT dk_slices_OM, 176,55 , 90,40, 1
	UI_PICT dk_slices_SR, 266,95 , 40,140, 1
	UI_PICT dk_slices_OR, 266,55 , 40,40, 1
	UI_PICT dk_slices_SL, 136,95 , 40,140, 1
	UI_PICT dk_slices_OL, 136,55 , 40,40, 1
	UI_PICT dk_chain_ZMV, 126,55 , 8,180, 1
	IF gs_door_transom>0 THEN UI_PICT dk_chain_TMV, 308,55 , 8,180, 1
	UI_PICT dk_chain_TM, 136,237 , 170,8, 1
	UI_PICT dk_chain_ZM, 136,45 , 170,8, 1
	UI_INFIELD{3} "ac_egress_width", 195,247 , 57,19 UI_TOOLTIP bubble[14]
	IF gs_sidelight_right AND gs_sidelight_left AND bDiffSidelightWidth THEN UI_INFIELD{3} "gs_sidelight_width_right", 135,247 , 57,19 UI_TOOLTIP bubble[22]
	IF gs_door_transom>0 THEN UI_INFIELD{3} "gs_transom_height", 321,59 , 57,19 UI_TOOLTIP bubble[16]
	IF gs_door_transom>0 THEN UI_INFIELD{3} "ac_egress_height", 321,143 , 57,19 UI_TOOLTIP bubble[15]
	UI_INFIELD{3} "ac_unit_width", 187,23 , 60,19 UI_TOOLTIP bubble[18]
	UI_INFIELD{3} "ac_unit_height", 54,143 , 57,19 UI_TOOLTIP bubble[48]
	UI_STYLE 0,0
	UI_INFIELD{3} "gs_door_transom", 53,58 , 23,23, 6, 4, 4, 1, 18, 18, 18, 18, 1,"-",0, 2,"X",1 UI_TOOLTIP bubble[17]
	GOSUB "DYNVALUES_bs_door_sidelight1"
	UI_INFIELD{3} "bs_door_sidelight", 53,174 , 23,23, 6, 4, 4, 1, 18, 18, 18, 18, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[21]
	IF gs_door_transom > 0 AND gs_sidelight_right THEN UI_INFIELD{3} "dk_sidelight_transom1", 101,78 , 22,23, 6, 4, 4, 1, 18, 18, 18, 18, 1,"-",0, 2,"X",1
	IF gs_door_transom > 0 AND gs_sidelight_left THEN UI_INFIELD{3} "dk_sidelight_transom2", 330,81 , 22,23, 6, 4, 4, 1, 18, 18, 18, 18, 1,"-",0, 2,"X",1
	IF gs_door_transom > 0 AND gs_sidelight_right THEN UI_INFIELD{3} "bs_fanlight_division", 159,20 , 22,23, 6, 4, 4, 1, 18, 18, 18, 18, 1,"-",BITSET(bs_fanlight_division,3,0), 2,"X",BITSET(bs_fanlight_division,3,1)
	IF gs_door_transom > 0 AND gs_sidelight_left THEN UI_INFIELD{3} "bs_fanlight_division", 262,20 , 22,23, 6, 4, 4, 1, 18, 18, 18, 18, 1,"-",BITSET(bs_fanlight_division,2,0), 2,"X",BITSET(bs_fanlight_division,2,1)
	GOSUB "DYNVALUES_bs_door_sidelight2"
	UI_INFIELD{3} "bs_door_sidelight", 355,174 , 23,23, 6, 4, 4, 1, 18, 18, 18, 18, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[21]
	IF gs_sidelight_left AND gs_sidelight_right THEN UI_INFIELD{3} "bDiffSidelightWidth", 0,235 , 66,31, 6, 5, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[24]
	IF gs_door_transom>0 THEN UI_OUTFIELD babel[14], 388,22 , 53,28, 2+4*(gs_door_transom > 0)
	IF gs_door_transom>0 THEN
		GOSUB "SELECT_bs_fanlight_division"
		UI_INFIELD{3} "bs_fanlight_division", 395,53 , 40,31, 2, 2, 5, 1, 25, 25, 25, 25, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[25]
		ENDIF
	IF gs_door_transom>0 THEN
		GOSUB "SELECT_bs_inner_frame"
		UI_INFIELD{3} "bs_inner_frame", 395,86 , 40,56, 2, 3, 2, 1, 25, 50, 25, 50, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[26]
		ENDIF
	UI_SEPARATOR 79,71, 186,71
	UI_SEPARATOR 79,185, 155,185
	UI_SEPARATOR 285,185, 352,185
	RETURN
! ------------------ BLOCKZARGE [ 3000 ]
	3000:   ! #### LOI 1+ - Blockzarge Horizontale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division"
	UI_OUTFIELD babel[19], 0,232 , 71,30, 0+0
	out_val = bs_internal_rim_width
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 71,245 , 42,15, 0+0 UI_TOOLTIP bubble[34]
	IF rightWi THEN UI_PICT "dk_label_line 1x17.png", 160,182 , 1,17, 1
	UI_PICT "dk_label_line 1x17.png", 221,182 , 1,17, 1
	IF leftWi THEN UI_PICT "dk_label_line 1x17.png", 283,182 , 1,17, 1
	GOSUB "SELECT_bz_typ_einzug"
	UI_INFIELD{3} "bz_typ_einzug", 117,226 , 128,40, 2, 9, 3, 1, 25, 25, 25, 25, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[31]
	IF bz_typ_einzug=1 THEN UI_INFIELD{3} "bz_einzug", 379,226 , 65,19 UI_TOOLTIP bubble[74]
	IF bz_typ_einzug=1 THEN UI_INFIELD{3} "bz_tiefe", 379,247 , 65,19 UI_TOOLTIP bubble[33]
	IF bz_typ_einzug=1 THEN UI_OUTFIELD babel[16], 249,229 , 130,16, 0+0
	IF bz_typ_einzug=1 THEN UI_OUTFIELD babel[15], 249,250 , 130,16, 0+0
	IF bz_typ_einzug=0 THEN UI_OUTFIELD babel[17], 249,239 , 130,16, 0+0
	IF bz_typ_einzug=0 THEN
		out_val = gs_frame_thk
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 383,239 , 61,16, 0+0 UI_TOOLTIP bubble[75]
		ENDIF   !»» gs_frame_width_right
	UI_STYLE 2,1
	UI_OUTFIELD babel[36], 0,26 , 233,31, 0+0
	UI_STYLE 0,0
	IF NOT(gs_different_framewidth) THEN
		UI_INFIELD{3} "gs_frame_width", 391,140 , 53,19 UI_TOOLTIP bubble[18]
		ENDIF
	IF rightTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 161,61 , 53,19 UI_TOOLTIP bubble[32]
		ENDIF
	IF leftTi =1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 240,61 , 53,19 UI_TOOLTIP bubble[32]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk1", 105,61 , 53,19 UI_TOOLTIP bubble[41]
		ENDIF
	UI_INFIELD{3} "wall_shell_thk_1", 0,86 , 53,19 UI_TOOLTIP bubble[44]
	UI_INFIELD{3} "wall_shell_thk_2", 0,161 , 53,19 UI_TOOLTIP bubble[43]
	IF rightS = 1 THEN
		UI_INFIELD{3} "gs_sidelight_width_right", 89,182 , 53,19 UI_TOOLTIP bubble[22]
		ENDIF
	UI_INFIELD{3} "ac_egress_width", 204,200 , 53,19 UI_TOOLTIP bubble[14]
	UI_INFIELD{3} "gs_fuge", 0,107 , 53,19 UI_TOOLTIP bubble[29]
	UI_INFIELD{3} "gs_ub_st2", 391,86 , 53,19 UI_TOOLTIP bubble[30]
	IF leftWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_left_2", 265,200 , 53,19 UI_TOOLTIP bubble[27]
		ENDIF
	IF rightWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_right_2", 142,200 , 53,19 UI_TOOLTIP bubble[28]
		ENDIF
	IF gs_different_framewidth THEN UI_INFIELD{3} "gs_frame_width_right", 0,140 , 53,19 UI_TOOLTIP bubble[37]
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_left", 391,140 , 53,19 UI_TOOLTIP bubble[36]
		ENDIF
	IF gs_sidelight_left THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk2", 296,61 , 53,19 UI_TOOLTIP bubble[40]
		ENDIF
	UI_INFIELD{3} "gs_different_framewidth", 373,26 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[42]
	IF gs_sidelight_left OR gs_sidelight_right THEN UI_INFIELD{3} "dk_different_frame_thk", 305,26 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[38]
	IF gs_sidelight_left AND gs_sidelight_right THEN UI_INFIELD{3} "bDiffSidelightWidth", 237,26 , 66,31, 6, 5, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[24]
	IF rightTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 167,64 , 51,16, 0+0 UI_TOOLTIP bubble[32]
		ENDIF
	IF leftTi =2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 220,64 , 50,16, 1+0 UI_TOOLTIP bubble[32]
		ENDIF
	IF NOT(gs_different_framewidth) THEN
		out_val = gs_frame_width_right
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,143 , 52,16, 1+0
		ENDIF
	IF rightS = 2 THEN
		out_val = gs_sidelight_width_right
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 88,185 , 53,16, 2+0 UI_TOOLTIP bubble[22]
		ENDIF
	IF rightWi = 2 THEN
		out_val = gs_frame_width_right_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 139,203 , 50,16, 2+0 UI_TOOLTIP bubble[28]
		ENDIF
	IF leftWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 262,203 , 53,16, 2+0 UI_TOOLTIP bubble[27]
		ENDIF
	IF gs_sidelight_left THEN
		out_val = gs_sidelight_width_left
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 315,185 , 57,16, 0+0 UI_TOOLTIP bubble[23]
		ENDIF
	UI_PICT dk_slices_01, 54,82 , 74,87, 1   !»» "dk_dims_BZ_SR_74x87.png"
	UI_PICT dk_slices_02, 128,82 , 74,87, 1   !»» "dk_dims_Allg_MiRe_Se_Pfeil_74x87.png"
	UI_PICT dk_slices_03, 202,82 , 52,87, 1   !»» "dk_dims_MiMi_2_52x87.png"
	UI_PICT dk_slices_04, 254,82 , 65,87, 1   !»» "dk_dims_Allg_MiLi_Se_Pfeil_65x87.png"
	UI_PICT dk_slices_05, 319,82 , 70,87, 1   !»» "dk_dims_BZ_SL_70x87.png"
	UI_PICT dk_slices_dims, 54,169 , 336,13, 1   !»» "dk_dims_kette_beidseitig_336x13.png"
	UI_SEPARATOR 0,222, 445,222
	RETURN
! ------------------ BLOCKZARGE [ 3100 ]
	3100:   ! #### LOI 1+ - Blockzarge Vertikale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division_vertical"
	IF lowerW = 2 THEN
		out_val = gs_frame_width_bottom_sl
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 393,247 , 51,16, 0+0 UI_TOOLTIP bubble[58]
		ENDIF
	IF upperWi = 2 THEN
		out_val = gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,183 , 55,16, 0+0 UI_TOOLTIP bubble[57]
		ENDIF
	IF gs_door_transom THEN
		out_val = gs_transom_height - gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,143 , 55,16, 0+0 UI_TOOLTIP bubble[55]
		ENDIF
	IF lowerT = 2 THEN
		out_val = dk_frame_thk_bottom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,247 , 55,16, 1+0 UI_TOOLTIP bubble[51]
		ENDIF
	IF upperTi = 2 THEN
		out_val = dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,183 , 54,16, 1+0 UI_TOOLTIP bubble[50]
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val =dk_frame_thk_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,120 , 55,16, 1+0
		ENDIF
	IF upperTsi = 2 THEN
		out_val =dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,183 , 55,16, 1+0
		ENDIF
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_upper", 70,77 , 55,19 UI_TOOLTIP bubble[45]
		ELSE
		UI_INFIELD{3} "gs_frame_width", 70,77 , 55,19 UI_TOOLTIP bubble[35]
		ENDIF
	UI_STYLE 2,1
	UI_OUTFIELD babel[32], 0,22 , 233,16, 0+0
	UI_STYLE 0,0
	UI_STYLE 2,1
	UI_OUTFIELD babel[20], 29,57 , 163,16, 2+0
	UI_STYLE 0,0
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_STYLE 2,1
		
		UI_OUTFIELD babel[21], 263,57 , 163,16, 2+0
		UI_STYLE 0,0
		ENDIF
	UI_PICT dk_slices_blatt_01, 56,99 , 100,60, 1
	UI_PICT dk_slices_blatt_02, 56,159 , 100,65, 1
	UI_PICT dk_slices_blatt_03, 56,224 , 100,40, 1
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_01, 287,99 , 100,60, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_02, 287,159 , 100,65, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_03, 287,224 , 100,40, 1
		ENDIF
	IF upperTi = 1 THEN UI_INFIELD{3} "dk_frame_thk_transom", 0,181 , 55,19 UI_TOOLTIP bubble[50]
	IF lowerW = 1 THEN
		UI_INFIELD{3} "gs_frame_width_bottom_sl", 389,244 , 55,19 UI_TOOLTIP bubble[47]
		ENDIF
	IF lowerT = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_bottom", 231,244 , 55,19 UI_TOOLTIP bubble[51]
		ENDIF
	IF gs_door_transom AND bs_inner_frame # 2 THEN UI_INFIELD{3} "bs_fanlight_filling_thk", 0,159 , 55,19 UI_TOOLTIP bubble[71]
	IF bz_typ_einzug = 0 THEN
		out_val =dk_frame_thk_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,120 , 55,16, 1+0 UI_TOOLTIP bubble[49]
		ENDIF
	IF bz_typ_einzug THEN
		UI_INFIELD{3} "bz_tiefe", 0,117 , 55,19 UI_TOOLTIP bubble[49]
		ENDIF
	IF upperWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_transom", 158,181 , 55,19 UI_TOOLTIP bubble[46]
		ENDIF
	IF gs_door_transom THEN UI_INFIELD{3} "ac_egress_height", 158,213 , 55,19 UI_TOOLTIP bubble[15]
	IF gs_door_transom = 0 THEN UI_INFIELD{3} "ac_unit_height", 158,176 , 55,19 UI_TOOLTIP bubble[48]
	UI_INFIELD{3} "gs_different_framewidth", 373,20 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[53]
	sts = (oberLichtBlende = 1 OR gs_sidelight_left OR gs_sidelight_right)
	IF sts THEN UI_INFIELD{3} "dk_different_frame_thk", 305,20 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[54]
	IF upperWo = 2 THEN
		out_val =gs_frame_width_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 291,80 , 60,16, 2+0 UI_TOOLTIP bubble[56]
		ENDIF
	RETURN
! ------------------ ECKZARGE [ 3500 ]
	3500:   ! #### LOI 1+ - Eckzarge Horizontale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division"
	UI_PICT dk_slices_01, 54,95 , 74,87, 1   !»» "dk_dims_EZ_SR_74x87.png"
	UI_PICT dk_slices_02, 128,95 , 74,87, 1   !»» "dk_dims_Allg_MiRe_Se_Pfeil_74x87.png"
	UI_PICT dk_slices_03, 202,95 , 52,87, 1   !»» "dk_dims_MiMi_2_52x87.png"
	UI_PICT dk_slices_04, 254,95 , 65,87, 1   !»» "dk_dims_Allg_MiLi_Se_Pfeil_65x87.png"
	UI_PICT dk_slices_05, 319,95 , 70,87, 1   !»» "dk_dims_EZ_SL_70x87.png"
	IF leftTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 235,75 , 45,16, 2+0 UI_TOOLTIP "Rahmenstärke des Pfostens "
		ENDIF
	UI_STYLE 2,1
	UI_OUTFIELD babel[37], 0,26 , 233,31, 0+0
	UI_STYLE 0, 0
	IF rightTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 156,75 , 53,16, 2+0 UI_TOOLTIP "Rahmenstärke des Pfostens  "
		ENDIF
	IF leftWi THEN UI_PICT "dk_label_line 1x17.png", 283,195 , 1,17, 1
	IF NOT(gs_different_framewidth) THEN
		UI_INFIELD{3} "gs_frame_width", 391,144 , 53,19 UI_TOOLTIP babel[18]
		ENDIF
	IF rightTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 160,72 , 53,19 UI_TOOLTIP bubble[32]
		ENDIF
	UI_PICT dk_slices_dims, 54,182 , 336,13, 1   !»» "dk_dims_kette_beidseitig_336x13.png"
	IF leftTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 224,72 , 53,19 UI_TOOLTIP bubble[32]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk1", 103,72 , 53,19 UI_TOOLTIP bubble[41]
		ENDIF
	UI_INFIELD{3} "wall_shell_thk_1", 0,96 , 53,19 UI_TOOLTIP bubble[44]
	UI_INFIELD{3} "wall_shell_thk_2", 0,174 , 53,19 UI_TOOLTIP bubble[43]
	IF rightWi THEN UI_PICT "dk_label_line 1x17.png", 160,195 , 1,17, 1
	IF gs_sidelight_left THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk2", 280,72 , 53,19 UI_TOOLTIP bubble[40]
		ENDIF
	UI_INFIELD{3} "ac_egress_width", 204,214 , 53,19 UI_TOOLTIP bubble[14]
	UI_PICT "dk_label_line 1x17.png", 221,195 , 1,17, 1
	UI_INFIELD{3} "gs_ub_st2", 391,99 , 53,19 UI_TOOLTIP bubble[30]
	IF gs_sidelight_left AND gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_left_2", 266,214 , 53,19 UI_TOOLTIP bubble[27]
		ENDIF
	IF rightWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_right_2", 142,214 , 53,19 UI_TOOLTIP bubble[28]
		ENDIF
	UI_INFIELD{3} "bs_spiegel_br_bs", 46,72 , 53,19 UI_TOOLTIP bubble[65]
	IF NOT(gs_different_framewidth) THEN
		out_val = gs_frame_width_right
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,147 , 52,16, 1+0 UI_TOOLTIP "Rahmenbreite rechts"
		ENDIF
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_left", 391,144 , 53,19 UI_TOOLTIP bubble[36]
		ENDIF
	IF gs_different_framewidth THEN UI_INFIELD{3} "gs_frame_width_right", 0,144 , 53,19 UI_TOOLTIP bubble[37]
	IF rightWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 131,217 , 55,16, 2+0 UI_TOOLTIP "Breite Pfosten rechts"
		ENDIF
	IF rightS = 1 THEN
		UI_INFIELD{3} "gs_sidelight_width_right", 97,195 , 53,19 UI_TOOLTIP bubble[22]
		ENDIF
	IF gs_sidelight_left THEN
		out_val = gs_sidelight_width_left
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 296,198 , 57,16, 2+0 UI_TOOLTIP "Breite Seitenfeld links"
		ENDIF
	IF rightS = 2 THEN
		out_val = gs_sidelight_width_left
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 94,198 , 57,16, 2+0 UI_TOOLTIP "Breite Seitenfeld rechts"
		ENDIF
	IF leftWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 258,217 , 53,16, 2+0 UI_TOOLTIP "Breite Pfosten links"
		ENDIF
	UI_INFIELD{3} "gs_different_framewidth", 373,26 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[42]
	IF gs_sidelight_left AND gs_sidelight_right THEN UI_INFIELD{3} "bDiffSidelightWidth", 237,26 , 66,31, 6, 5, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[24]
	IF gs_sidelight_left OR gs_sidelight_right THEN UI_INFIELD{3} "dk_different_frame_thk", 305,26 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[38]
	IF dk_different_frame_thk THEN
		UI_INFIELD{3} "dk_frame_thk_EZ", 336,72 , 53,19 UI_TOOLTIP bubble[49]
		ENDIF   !»»
	IF NOT(dk_different_frame_thk) THEN
		UI_INFIELD{3} "gs_frame_thk", 336,72 , 53,19 UI_TOOLTIP bubble[49]
		ENDIF
	UI_OUTFIELD babel[24], 0,250 , 130,16, 0+0
	out_val = bs_internal_rim_width
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 135,250 , 57,16, 0+0 UI_TOOLTIP "Wandstärke ohne Wandschalen/Bekleidungen"
	UI_OUTFIELD babel[25], 222,250 , 109,16, 0+0
	out_val = gs_frame_thk
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 334,250 , 57,16, 0+0 UI_TOOLTIP "Nominale Zargenstärke"
	UI_SEPARATOR 0,245, 445,245
	RETURN
! ------------------ ECKZARGE [ 3600 ]
	3600:   ! #### LOI 1+ - Eckzarge Vertikale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division_vertical"
	IF lowerT = 2 THEN
		out_val = dk_frame_thk_bottom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,247 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke Sockelprofil"
		ENDIF
	IF lowerW = 2 THEN
		out_val = gs_frame_width_bottom_sl
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 393,247 , 51,16, 0+0 UI_TOOLTIP "Rahmenbreite Sockelprofil"
		ENDIF
	IF upperWi = 2 THEN
		out_val = gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,183 , 55,16, 0+0 UI_TOOLTIP "Rahmenbreite Kämpfer"
		ENDIF
	IF gs_door_transom THEN
		out_val = gs_transom_height - gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,143 , 55,16, 0+0 UI_TOOLTIP "Oberlicht/Oberblende"
		ENDIF
	IF upperTi = 2 THEN
		out_val = dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,183 , 54,16, 1+0 UI_TOOLTIP "Rahmenstärke Kämpfer"
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val = bs_spiegel_br_ob_bs
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,112 , 55,16, 1+0 UI_TOOLTIP "Spiegelbreite oben"
		ENDIF
	IF upperTsi = 2 AND bs_inner_frame # 2 THEN
		out_val =dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,183 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke Kämpfer"
		ENDIF
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_upper", 112,77 , 55,19 UI_TOOLTIP bubble[45]
		ELSE
		UI_INFIELD{3} "gs_frame_width", 112,77 , 55,19 UI_TOOLTIP babel[18]
		ENDIF
	UI_STYLE 2,1
	UI_OUTFIELD babel[33], 0,22 , 233,16, 0+0
	UI_STYLE 0,0
	UI_STYLE 2,1
	UI_OUTFIELD babel[20], 29,57 , 163,16, 2+0
	UI_STYLE 0,0
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_STYLE 2,1
		
		UI_OUTFIELD babel[21], 263,57 , 163,16, 2+0
		UI_STYLE 0,0
		ENDIF
	UI_PICT dk_slices_blatt_01, 56,99 , 100,60, 1
	UI_PICT dk_slices_blatt_02, 56,159 , 100,65, 1
	UI_PICT dk_slices_blatt_03, 56,224 , 100,40, 1
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_01, 287,99 , 100,60, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_02, 287,159 , 100,65, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_03, 287,224 , 100,40, 1
		ENDIF
	IF upperTi = 1 THEN UI_INFIELD{3} "dk_frame_thk_transom", 0,181 , 55,19 UI_TOOLTIP bubble[50]
	IF lowerT = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_bottom", 231,244 , 55,19 UI_TOOLTIP bubble[51]
		ENDIF
	IF lowerW = 1 THEN
		UI_INFIELD{3} "gs_frame_width_bottom_sl", 389,244 , 55,19 UI_TOOLTIP bubble[47]
		ENDIF
	IF gs_door_transom AND bs_inner_frame # 2 THEN UI_INFIELD{3} "bs_fanlight_filling_thk", 0,159 , 55,19 UI_TOOLTIP bubble[71]
	UI_INFIELD{3} "dk_frame_thk_EZ", 53,77 , 55,19 UI_TOOLTIP bubble[49]
	UI_INFIELD{3} "bs_spiegel_br_ob_bs", 0,108 , 55,19 UI_TOOLTIP bubble[67]
	IF upperWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_transom", 158,181 , 55,19 UI_TOOLTIP bubble[46]
		ENDIF
	IF gs_door_transom THEN UI_INFIELD{3} "ac_egress_height", 158,213 , 55,19 UI_TOOLTIP bubble[15]
	IF gs_door_transom = 0 THEN UI_INFIELD{3} "ac_unit_height", 158,176 , 55,19 UI_TOOLTIP bubble[48]
	UI_INFIELD{3} "gs_different_framewidth", 373,20 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[42]
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val =dk_frame_thk_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 277,80 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke"
		ENDIF
	sts = (oberLichtBlende = 1 OR gs_sidelight_left OR gs_sidelight_right)
	IF sts THEN UI_INFIELD{3} "dk_different_frame_thk", 305,20 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[54]
	IF upperWo = 2 THEN
		out_val =gs_frame_width_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 338,80 , 60,16, 0+0 UI_TOOLTIP "Rahmenbreite"
		ENDIF
	RETURN
! ------------------ UMFASSUNGSTARGE [ 4000 ]
	4000:   ! #### LOI 1+ - Umfassungszarge Horizontale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division"
	UI_STYLE 2,1
	UI_OUTFIELD babel[39], 0,26 , 233,31, 0+0
	UI_STYLE 0, 0
	UI_OUTFIELD babel[18], 0,250 , 74,16, 0+0
	out_val = bs_internal_rim_width
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 78,250 , 57,16, 0+0 UI_TOOLTIP "Wandstärke ohne Wandschalen/Bekleidungen"
	UI_OUTFIELD babel[15], 222,250 , 109,16, 0+0
	out_val = gs_frame_thk
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 334,250 , 57,16, 0+0 UI_TOOLTIP "Nominale Zargenstärke"
	UI_SEPARATOR 0,245, 445,245
	UI_PICT dk_slices_01, 54,95 , 74,87, 1   !»» "dk_dims_UZ_SR_74x87.png"
	UI_PICT dk_slices_02, 128,95 , 74,87, 1   !»» "dk_dims_Allg_MiRe_Se_Pfeil_74x87.png"
	UI_PICT dk_slices_03, 202,95 , 52,87, 1   !»» "dk_dims_MiMi_2_52x87.png"
	UI_PICT dk_slices_04, 254,95 , 65,87, 1   !»» "dk_dims_Allg_MiLi_Se_Pfeil_65x87.png"
	UI_PICT dk_slices_05, 319,95 , 70,87, 1   !»» "dk_dims_UZ_SL_70x87.png"
	UI_PICT dk_slices_dims, 54,182 , 336,13, 1   !»» "dk_dims_kette_beidseitig_UZ_336x13.png"
	IF rightWi THEN UI_PICT "dk_label_line 1x17.png", 160,197 , 1,17, 1
	UI_PICT "dk_label_line 1x17.png", 221,197 , 1,17, 1
	IF leftWi THEN UI_PICT "dk_label_line 1x17.png", 283,197 , 1,17, 1
	IF NOT(gs_different_framewidth) THEN
		UI_INFIELD{3} "gs_frame_width", 391,144 , 53,19 UI_TOOLTIP babel[18]
		ENDIF
	IF rightTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 160,72 , 53,19 UI_TOOLTIP bubble[32]
		ENDIF
	IF leftTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 234,72 , 53,19 UI_TOOLTIP bubble[32]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk1", 103,72 , 53,19 UI_TOOLTIP bubble[41]
		ENDIF
	UI_INFIELD{3} "wall_shell_thk_1", 0,96 , 53,19 UI_TOOLTIP bubble[44]
	UI_INFIELD{3} "wall_shell_thk_2", 0,174 , 53,19 UI_TOOLTIP bubble[43]
	IF rightS = 1 THEN
		UI_INFIELD{3} "gs_sidelight_width_right", 103,196 , 53,19 UI_TOOLTIP bubble[22]
		ENDIF
	UI_INFIELD{3} "ac_egress_width", 204,215 , 53,19 UI_TOOLTIP bubble[14]
	UI_INFIELD{3} "gs_ub_st2", 391,99 , 53,19 UI_TOOLTIP bubble[30]
	IF leftWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_left_2", 261,215 , 53,19 UI_TOOLTIP bubble[27]
		ENDIF
	IF rightWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_right_2", 147,215 , 53,19 UI_TOOLTIP bubble[28]
		ENDIF
	IF gs_different_framewidth THEN UI_INFIELD{3} "gs_frame_width_right", 0,144 , 53,19 UI_TOOLTIP bubble[37]
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_left", 391,144 , 53,19 UI_TOOLTIP bubble[36]
		ENDIF
	UI_INFIELD{3} "bs_spiegel_br_bs", 46,72 , 53,19 UI_TOOLTIP bubble[65]
	UI_INFIELD{3} "bs_spiegel_br_bgs", 46,196 , 53,19 UI_TOOLTIP bubble[66]
	IF gs_sidelight_left THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk2", 291,72 , 53,19 UI_TOOLTIP bubble[40]
		ENDIF
	IF rightTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 160,75 , 54,16, 0+0 UI_TOOLTIP "Rahmenstärke des Pfostens"
		ENDIF
	IF leftTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 237,75 , 50,16, 2+0 UI_TOOLTIP "Rahmenstärke des Pfostens"
		ENDIF
	IF NOT(gs_different_framewidth) THEN
		out_val = gs_frame_width_right
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,147 , 52,16, 1+0 UI_TOOLTIP "Rahmenbreite"
		ENDIF
	IF rightS = 2 THEN
		out_val = gs_sidelight_width_left
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 100,199 , 57,16, 2+0 UI_TOOLTIP "Breite Seitenfeld rechts"
		ENDIF
	IF rightWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 131,218 , 55,16, 2+0 UI_TOOLTIP "Breite Pfosten rechts"
		ENDIF
	IF leftWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 258,218 , 53,16, 2+0 UI_TOOLTIP "Breite Pfosten links"
		ENDIF
	out_val = gs_frame_thk
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 395,127 , 49,16, 0+0 UI_TOOLTIP "Rahmenstärke"
	IF gs_sidelight_left THEN
		out_val = gs_sidelight_width_left
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 293,199 , 57,16, 2+0 UI_TOOLTIP "Breite Seitenfeld links"
		ENDIF
	IF gs_sidelight_left AND gs_sidelight_right THEN UI_INFIELD{3} "bDiffSidelightWidth", 237,26 , 66,31, 6, 5, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[24]
	IF gs_sidelight_left OR gs_sidelight_right THEN UI_INFIELD{3} "dk_different_frame_thk", 305,26 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[38]
	UI_INFIELD{3} "gs_different_framewidth", 373,26 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[39]
	RETURN
! ------------------ UMFASSUNGSTARGE [ 4100 ]
	4100:   ! #### LOI 1+ - Umfassungszarge Vertikale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division_vertical"
	IF lowerW = 2 THEN
		out_val = gs_frame_width_bottom_sl
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 393,247 , 51,16, 0+0 UI_TOOLTIP "Rahmenbreite Sockelprofil"
		ENDIF
	IF gs_door_transom THEN
		out_val = gs_transom_height - gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,143 , 55,16, 0+0 UI_TOOLTIP "Oberlicht/Oberblende"
		ENDIF
	IF lowerT = 2 THEN
		out_val = dk_frame_thk_bottom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,247 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke Sockelprofil"
		ENDIF
	IF upperTsi = 2 THEN
		out_val =dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,183 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke Kämpfer"
		ENDIF
	IF upperTi = 2 THEN
		out_val = dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,183 , 54,16, 1+0 UI_TOOLTIP "Rahmenstärke Kämpfer"
		ENDIF
	out_val = gs_frame_thk
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 62,80 , 49,16, 2+0 UI_TOOLTIP "Rahmenstärke"
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val = bs_spiegel_br_ob_bs
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,111 , 55,16, 1+0 UI_TOOLTIP "Spiegelbreite oben"
		ENDIF
	IF upperWi = 2 THEN
		out_val = gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,183 , 55,16, 0+0 UI_TOOLTIP "Rahmenbreite Kämpfer"
		ENDIF
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_upper", 112,77 , 55,19 UI_TOOLTIP bubble[45]
		ELSE
		UI_INFIELD{3} "gs_frame_width", 112,77 , 55,19 UI_TOOLTIP babel[18]
		ENDIF
	UI_STYLE 2,1
	UI_OUTFIELD babel[35], 0,22 , 301,16, 0+0
	UI_STYLE 0,0
	UI_STYLE 2,1
	UI_OUTFIELD babel[20], 29,57 , 163,16, 2+0
	UI_STYLE 0,0
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_STYLE 2,1
		
		UI_OUTFIELD babel[21], 263,57 , 163,16, 2+0
		UI_STYLE 0,0
		ENDIF
	UI_PICT dk_slices_blatt_01, 56,99 , 100,60, 1
	UI_PICT dk_slices_blatt_02, 56,159 , 100,65, 1
	UI_PICT dk_slices_blatt_03, 56,224 , 100,40, 1
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_01, 287,99 , 100,60, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_02, 287,159 , 100,65, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_03, 287,224 , 100,40, 1
		ENDIF
	IF upperTi = 1 THEN UI_INFIELD{3} "dk_frame_thk_transom", 0,181 , 55,19 UI_TOOLTIP bubble[50]
	IF lowerT = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_bottom", 231,244 , 55,19 UI_TOOLTIP bubble[51]
		ENDIF
	IF lowerw = 1 THEN
		UI_INFIELD{3} "gs_frame_width_bottom_sl", 389,244 , 55,19 UI_TOOLTIP bubble[47]
		ENDIF
	IF gs_door_transom AND bs_inner_frame # 2 THEN UI_INFIELD{3} "bs_fanlight_filling_thk", 0,159 , 55,19 UI_TOOLTIP bubble[71]
	IF upperTsi = 2 AND bs_inner_frame = 2 THEN UI_INFIELD{3} "dk_frame_thk_transom", 230,181 , 55,19 UI_TOOLTIP bubble[50]
	UI_INFIELD{3} "bs_spiegel_br_ob_bgs", 158,113 , 55,19 UI_TOOLTIP bubble[69]
	UI_INFIELD{3} "bs_spiegel_br_ob_bs", 0,108 , 55,19 UI_TOOLTIP bubble[68]
	IF gs_door_transom = 0 THEN UI_INFIELD{3} "ac_unit_height", 158,176 , 55,19 UI_TOOLTIP bubble[48]
	IF upperWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_transom", 158,181 , 55,19 UI_TOOLTIP bubble[46]
		ENDIF
	IF gs_door_transom THEN UI_INFIELD{3} "ac_egress_height", 158,213 , 55,19 UI_TOOLTIP bubble[15]
	UI_INFIELD{3} "gs_different_framewidth", 373,20 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[42]
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val =dk_frame_thk_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 280,80 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke"
		ENDIF
	sts = (oberLichtBlende = 1 OR gs_sidelight_left OR gs_sidelight_right)
	IF sts THEN UI_INFIELD{3} "dk_different_frame_thk", 305,20 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[54]
	IF upperWo = 2 THEN
		out_val =gs_frame_width_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 341,80 , 60,16, 0+0 UI_TOOLTIP "Rahmenbreite"
		ENDIF
	RETURN
! ------------------ ROHRRAHMEN [ 4500 ]
	4500:   ! #### LOI 1+ - Rohrrahmenzarge Horizontale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division"
	UI_OUTFIELD babel[16], 0,232 , 130,16, 0+0
	UI_INFIELD{3} "bz_einzug", 131,229 , 65,19 UI_TOOLTIP bubble[59]
	UI_OUTFIELD babel[19], 0,250 , 130,16, 0+0
	out_val = bs_internal_rim_width
	GOSUB "out_format"
	UI_OUTFIELD out_txt, 135,250 , 57,16, 0+0 UI_TOOLTIP "Wandstärke ohne Wandschalen/Bekleidungen"
	UI_SEPARATOR 0,225, 445,225
	IF rightWi THEN UI_PICT "dk_label_line 1x17.png", 160,183 , 1,17, 1
	IF leftWi THEN UI_PICT "dk_label_line 1x17.png", 283,183 , 1,17, 1
	UI_PICT "dk_label_line 1x17.png", 221,183 , 1,17, 1
	UI_PICT dk_slices_01, 54,82 , 74,87, 1   !»» "dk_dims_RR_SR_74x87.png"
	UI_PICT dk_slices_02, 128,82 , 74,87, 1   !»» "dk_dims_RR_MiRe_Se_74x87.png"
	UI_PICT dk_slices_03, 202,82 , 52,87, 1   !»» "dk_dims_RR_MiMi_2_52x87.png"
	UI_PICT dk_slices_04, 254,82 , 65,87, 1   !»» "dk_dims_RR_MiLi_Se_Pfeil_65x87.png"
	UI_PICT dk_slices_05, 319,82 , 70,87, 1   !»» "dk_dims_RR_SL_70x87.png"
	UI_PICT dk_slices_dims, 54,169 , 336,13, 1   !»» "dk_dims_kette_beidseitig_336x13.png"
	UI_INFIELD{3} "dk_frame_thk_EZ", 332,62 , 53,19 UI_TOOLTIP bubble[49]
	IF leftTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 219,62 , 53,19 UI_TOOLTIP bubble[72]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk1", 103,62 , 53,19 UI_TOOLTIP bubble[41]
		ENDIF
	UI_INFIELD{3} "wall_shell_thk_1", 0,83 , 53,19 UI_TOOLTIP bubble[44]
	UI_INFIELD{3} "wall_shell_thk_2", 0,161 , 53,19 UI_TOOLTIP bubble[43]
	UI_INFIELD{3} "ac_egress_width", 204,202 , 53,19 UI_TOOLTIP bubble[14]
	IF gs_different_framewidth THEN UI_INFIELD{3} "gs_frame_width_right", 0,131 , 53,19 UI_TOOLTIP bubble[37]
	IF leftWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_left_2", 261,202 , 53,19 UI_TOOLTIP bubble[27]
		ENDIF
	IF rightWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_right_2", 147,202 , 53,19 UI_TOOLTIP bubble[28]
		ENDIF
	IF rightTi = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_post", 160,62 , 53,19 UI_TOOLTIP bubble[73]
		ENDIF
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_left", 391,131 , 53,19 UI_TOOLTIP bubble[36]
		ENDIF
	IF rightS = 1 THEN
		UI_INFIELD{3} "gs_sidelight_width_right", 100,182 , 53,19 UI_TOOLTIP bubble[22]
		ENDIF
	IF gs_sidelight_left THEN
		out_val = gs_sidelight_width_left
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 293,185 , 57,16, 2+0 UI_TOOLTIP "Breite Seitenfeld links"
		ENDIF
	IF rightS = 2 THEN
		out_val = gs_sidelight_width_right
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 95,185 , 57,16, 2+0 UI_TOOLTIP "Breite Seitenfeld rechts"
		ENDIF
	IF gs_sidelight_left THEN
		UI_INFIELD{3} "bs_sidelight_filling_thk2", 275,62 , 53,19 UI_TOOLTIP bubble[40]
		ENDIF
	UI_STYLE 2,1
	UI_OUTFIELD babel[38], 0,26 , 233,31, 0+0
	UI_STYLE 0, 0
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_INFIELD{3} "dk_different_frame_thk", 305,26 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[38]
		ENDIF
	IF NOT(gs_different_framewidth) THEN
		UI_INFIELD{3} "gs_frame_width", 391,131 , 53,19 UI_TOOLTIP bubble[18]
		ENDIF
	IF rightTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 160,65 , 54,16, 0+0 UI_TOOLTIP "Pfostenstärke rechts"
		ENDIF
	IF leftTi = 2 THEN
		out_val = dk_frame_thk_post
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 218,65 , 53,16, 1+0 UI_TOOLTIP "Pfostenstärke links"
		ENDIF
	IF NOT(gs_different_framewidth) THEN
		out_val = gs_frame_width_right
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 0,134 , 52,16, 1+0 UI_TOOLTIP "Rahmenbreite"
		ENDIF
	IF rightWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 131,205 , 55,16, 2+0 UI_TOOLTIP "Breite Pfosten rechts"
		ENDIF
	IF leftWi = 2 THEN
		out_val = gs_frame_width_left_2
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 258,205 , 53,16, 2+0 UI_TOOLTIP "Breite Pfosten links"
		ENDIF
	UI_INFIELD{3} "gs_different_framewidth", 373,26 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[39]
	IF gs_sidelight_left AND gs_sidelight_right THEN UI_INFIELD{3} "bDiffSidelightWidth", 237,26 , 66,31, 6, 5, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[24]
	RETURN
! ------------------ ROHRRAHMEN [ 4600 ]
	4600:   ! #### LOI 1+ - Rohrrahmenzarge Vertikale Abmessungen
	GOSUB 9900
	GOSUB "SLICES_division_vertical"
	IF gs_door_transom THEN
		out_val = gs_transom_height - gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,143 , 55,16, 0+0 UI_TOOLTIP "Oberlicht/Oberblende"
		ENDIF
	IF lowerW = 2 THEN
		out_val = gs_frame_width_bottom_sl
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 393,247 , 51,16, 0+0 UI_TOOLTIP "Rahmenbreite Sockelprofil"
		ENDIF   !»» gs_frame_width
	IF upperWi = 2 THEN
		out_val = gs_frame_width_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 163,183 , 55,16, 0+0 UI_TOOLTIP "Rahmenbreite Kämpfer"
		ENDIF
	IF lowerT = 2 THEN
		out_val = dk_frame_thk_bottom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,247 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke Sockelprofil"
		ENDIF
	IF upperTsi = 2 THEN
		out_val =dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,183 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke Kämpfer"
		ENDIF
	IF upperTi = 2 THEN
		out_val = dk_frame_thk_transom
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 2,183 , 52,16, 1+0 UI_TOOLTIP "Rahmenstärke Kämpfer"
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val =dk_frame_thk_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 230,118 , 55,16, 1+0 UI_TOOLTIP "Rahmenstärke"
		ENDIF
	IF gs_different_framewidth THEN
		UI_INFIELD{3} "gs_frame_width_upper", 84,77 , 53,19 UI_TOOLTIP bubble[45]
		ELSE
		UI_INFIELD{3} "gs_frame_width", 84,77 , 53,19 UI_TOOLTIP babel[18]
		ENDIF
	UI_STYLE 2,1
	UI_OUTFIELD babel[34], 0,22 , 301,16, 0+0
	UI_STYLE 0,0
	UI_STYLE 2,1
	UI_OUTFIELD babel[20], 29,57 , 163,16, 2+0
	UI_STYLE 0,0
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_STYLE 2,1
		
		UI_OUTFIELD babel[21], 263,57 , 163,16, 2+0
		UI_STYLE 0,0
		ENDIF
	UI_PICT dk_slices_blatt_01, 56,99 , 100,60, 1
	UI_PICT dk_slices_blatt_02, 56,159 , 100,65, 1
	UI_PICT dk_slices_blatt_03, 56,224 , 100,40, 1
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_01, 287,99 , 100,60, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_02, 287,159 , 100,65, 1
		ENDIF
	IF gs_sidelight_left OR gs_sidelight_right THEN
		UI_PICT dk_slices_feld_03, 287,224 , 100,40, 1
		ENDIF
	IF upperTi = 1 THEN UI_INFIELD{3} "dk_frame_thk_transom", 0,181 , 55,19 UI_TOOLTIP bubble[50]
	IF lowerT = 1 THEN
		UI_INFIELD{3} "dk_frame_thk_bottom", 231,244 , 55,19 UI_TOOLTIP bubble[51]
		ENDIF
	IF lowerw = 1 THEN
		UI_INFIELD{3} "gs_frame_width_bottom_sl", 389,244 , 55,19 UI_TOOLTIP bubble[47]
		ENDIF
	IF gs_door_transom AND bs_inner_frame # 2 THEN UI_INFIELD{3} "bs_fanlight_filling_thk", 0,159 , 55,19 UI_TOOLTIP bubble[71]
	UI_INFIELD{3} "dk_frame_thk_EZ", 0,117 , 55,19 UI_TOOLTIP bubble[52]
	IF upperWi = 1 THEN
		UI_INFIELD{3} "gs_frame_width_transom", 158,181 , 55,19 UI_TOOLTIP bubble[46]
		ENDIF
	IF gs_door_transom THEN UI_INFIELD{3} "ac_egress_height", 158,213 , 55,19 UI_TOOLTIP bubble[15]
	IF gs_door_transom = 0 THEN UI_INFIELD{3} "ac_unit_height", 158,176 , 55,19 UI_TOOLTIP bubble[48]
	UI_INFIELD{3} "gs_different_framewidth", 373,20 , 66,31, 6, 7, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[42]
	sts = (oberLichtBlende = 1 OR gs_sidelight_left OR gs_sidelight_right)
	IF sts THEN UI_INFIELD{3} "dk_different_frame_thk", 305,20 , 66,31, 6, 6, 2, 1, 60, 25, 60, 25, 2,"gleich",0, 1,"ungleich",1 UI_TOOLTIP bubble[54]
	IF gs_sidelight_left OR gs_sidelight_right THEN
		out_val =gs_frame_width_upper
		GOSUB "out_format"
		UI_OUTFIELD out_txt, 306,80 , 60,16, 2+0 UI_TOOLTIP "Rahmenbreite"
		ENDIF
	RETURN
! ------------------ MATERIAL Ausführung [ 4700 ]
	4700:   ! #### LOI 1+ - Zargenmakro: Material + Schraffur + Stifte
	GOSUB 9900
	GOSUB "Oberlicht-Material-Anzeige"
	UI_STYLE 1,2
	UI_OUTFIELD babel[43], 328,242 , 116,24, 0+0
	UI_STYLE 0,0
	IF gs_sidelight_left THEN
		UI_OUTFIELD babel[29], 0,120 , 130,15, 0+0
		ENDIF
	UI_OUTFIELD babel[41], 0,48 , 130,15, 0+0
	IF gs_sidelight_left THEN
		UI_OUTFIELD babel[28], 0,98 , 130,15, 0+0
		ENDIF
	UI_OUTFIELD babel[40], 0,70 , 130,15, 0+0
	IF gs_sidelight_right THEN
		UI_OUTFIELD babel[31], 0,170 , 130,15, 0+0
		ENDIF
	IF gs_sidelight_right THEN
		UI_OUTFIELD babel[30], 0,148 , 130,15, 0+0
		ENDIF
	UI_INFIELD{3} dk_fills[dka_frame_fill], 263,54 , 57,21 UI_TOOLTIP bubble[13]
	IF gs_sidelight_right THEN
		UI_INFIELD{3} dk_fills[dka_side1_fill], 263,154 , 57,21 UI_TOOLTIP bubble[13]
		ENDIF
	IF gs_sidelight_left THEN
		UI_INFIELD{3} dk_fills[dka_side2_fill], 263,104 , 57,21 UI_TOOLTIP bubble[13]
		ENDIF
	UI_PICT "ui_fill_type_flat 20x20.png", 280,20 , 20,20, 1 UI_TOOLTIP txt
	UI_PICT "ui_list_surface_flat 32x15.png", 222,23 , 32,15, 1 UI_TOOLTIP txt
	UI_PICT "ui_fill_pen_flat 29x16.png", 334,22 , 29,16, 1 UI_TOOLTIP txt
	IF gs_sidelight_left THEN
		UI_INFIELD{3} dk_materials[dka_side2_mat_BGS], 201,115 , 57,21 UI_TOOLTIP bubble[10]
		ENDIF
	IF gs_sidelight_left THEN
		UI_INFIELD{3} dk_materials[dka_side2_mat_BS], 201,93 , 57,21 UI_TOOLTIP bubble[10]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} dk_materials[dka_side1_mat_BGS], 201,165 , 57,21 UI_TOOLTIP bubble[10]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} dk_materials[dka_side1_mat_BS], 201,143 , 57,21 UI_TOOLTIP bubble[10]
		ENDIF
	UI_INFIELD{3} dk_materials[dka_frame_mat_BGS], 201,65 , 57,21 UI_TOOLTIP bubble[10]
	UI_INFIELD{3} dk_materials[dka_frame_mat_BS], 201,43 , 57,21 UI_TOOLTIP bubble[10]
	IF gs_sidelight_left THEN
		UI_INFIELD{3} dk_bkg_pens[dka_side2_penB], 387,104 , 57,21 UI_TOOLTIP bubble[11]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} dk_bkg_pens[dka_side1_penB], 387,154 , 57,21 UI_TOOLTIP bubble[11]
		ENDIF
	UI_INFIELD{3} dk_bkg_pens[dka_frame_penB], 387,54 , 57,21 UI_TOOLTIP bubble[11]
	IF gs_sidelight_left THEN
		UI_INFIELD{3} dk_fill_pens[dka_side2_penF], 325,104 , 57,21 UI_TOOLTIP bubble[12]
		ENDIF
	IF gs_sidelight_right THEN
		UI_INFIELD{3} dk_fill_pens[dka_side1_penF], 325,154 , 57,21 UI_TOOLTIP bubble[12]
		ENDIF
	UI_INFIELD{3} dk_fill_pens[dka_frame_penF], 325,54 , 57,21 UI_TOOLTIP bubble[12]
	UI_PICT "ui_fill_bg_pen_flat 29x16.png", 396,22 , 29,16, 1 UI_TOOLTIP txt
	IF oL_mat_anzeige THEN
		UI_OUTFIELD babel[27], 0,220 , 130,15, 0+0
		ENDIF
	IF oL_mat_anzeige THEN
		UI_OUTFIELD babel[26], 0,198 , 130,15, 0+0
		ENDIF
	IF oL_mat_anzeige THEN
		UI_INFIELD{3} dk_fills[dka_fan_fill], 263,204 , 57,21 UI_TOOLTIP bubble[13]
		ENDIF
	IF oL_mat_anzeige THEN
		UI_INFIELD{3} dk_materials[dka_fan_mat_BGS], 201,215 , 57,21 UI_TOOLTIP bubble[10]
		ENDIF
	IF oL_mat_anzeige THEN
		UI_INFIELD{3} dk_materials[dka_fan_mat_BS], 201,193 , 57,21 UI_TOOLTIP bubble[10]
		ENDIF
	IF oL_mat_anzeige THEN
		UI_INFIELD{3} dk_fill_pens[dka_fan_penF], 325,204 , 57,21 UI_TOOLTIP bubble[12]
		ENDIF
	IF oL_mat_anzeige THEN
		UI_INFIELD{3} dk_bkg_pens[dka_fan_penB], 387,204 , 57,21 UI_TOOLTIP bubble[11]
		ENDIF
	IF gs_sidelight_left THEN
		GOSUB "VALUES_dk_sidelight_filling"
		UI_INFIELD{3} dk_sidelight_filling[2], 131,93 , 65,43, 2, 10, 3, 1, 25, 25, 25, 25, UIpicIdxArray, UItextArray, UIvaluesArray
		ENDIF
	IF gs_sidelight_right THEN
		GOSUB "VALUES_dk_sidelight_filling"
		UI_INFIELD{3} dk_sidelight_filling[1], 131,143 , 65,43, 2, 10, 3, 1, 25, 25, 25, 25, UIpicIdxArray, UItextArray, UIvaluesArray
		ENDIF
	IF oL_mat_anzeige THEN
		UI_INFIELD{3} dk_sidelight_filling[3], 131,193 , 65,43, 2, 10, 3, 1, 25, 25, 25, 25, UIpicIdxArray, UItextArray, UIvaluesArray
		ENDIF
	UI_OUTFIELD babel[23], 131,18 , 65,30, 2+0
	UI_SEPARATOR -1,238, 444,238
	RETURN
! ------------------ ZARGENFALZABMESSUNGEN [5050]
	5050:   ! #### Zargenfalzabmessungen
	UI_STYLE 2,1
	UI_OUTFIELD babel[45], 0,177 , 129,16, 0+0
	UI_STYLE 0,0
	UI_STYLE 1,2
	UI_OUTFIELD babel[42], 0,242 , 116,24, 0+0
	UI_STYLE 0,0
	IF dk_frametype # "RR" THEN UI_OUTFIELD babel[22], 369,213 , 75,31, 0+0
	IF dk_frametype # "RR" THEN UI_INFIELD{3} "dk_design_folding_depth", 369,246 , 75,19 UI_TOOLTIP bubble[64]
	UI_INFIELD{3} "gs_vt", 288,220 , 52,19 UI_TOOLTIP bubble[20]
	UI_INFIELD{3} "gs_vb", 288,246 , 52,19 UI_TOOLTIP bubble[19]
	GOSUB "SELECT_bs_folding_nmbr"
	UI_INFIELD{3} "bs_folding_nmbr", 210,196 , 75,70, 2, 8, 18, 6, 60, 60, 60, 60, UIpicIdxArray, UItextArray, UIvaluesArray UI_TOOLTIP bubble[70]
	IF bs_folding_nmbr=3 THEN UI_INFIELD{3} dk_folding_dimensions[1][1], 155,240 , 52,19 UI_TOOLTIP bubble[61]
	IF bs_folding_nmbr=2 THEN UI_INFIELD{3} dk_folding_dimensions[1][1], 155,228 , 52,19 UI_TOOLTIP bubble[61]
	IF bs_folding_nmbr=3 THEN UI_INFIELD{3} dk_folding_dimensions[1][2], 186,175 , 52,19 UI_TOOLTIP bubble[60]
	IF bs_folding_nmbr=2 THEN UI_INFIELD{3} dk_folding_dimensions[1][2], 218,175 , 52,19 UI_TOOLTIP bubble[60]
	IF bs_folding_nmbr=3 THEN UI_INFIELD{3} dk_folding_dimensions[2][1], 155,218 , 52,19 UI_TOOLTIP bubble[63]
	IF bs_folding_nmbr=3 THEN UI_INFIELD{3} dk_folding_dimensions[2][2], 241,175 , 52,19 UI_TOOLTIP bubble[62]
	RETURN
! ------------------ TITLE [ 9900 ]
	9900:   ! #### TITEL on all pages
	IF develop THEN GOSUB "devshow"
	UI_STYLE 0,0
	UI_PICT 1, 305,-2 , 139,15, 1
	UI_SEPARATOR 0,15, 445,15
	IF errorI>0 THEN
		txt = ""
		FOR i=1 TO errorI
		txt = txt + errorQ[errorI]
		NEXT i
		UI_PICT "dk_attention 16x16.png", 36,-2 , 16,16, 1 UI_TOOLTIP txt
		ENDIF
	RETURN

]]></Script_UI>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_VL SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
! ------------------------------------------------------------------------[ Object development settings ]

IF macro_runtype = 0 THEN
	VALUES{2} "macro_runtype" 0, "IDLE", 1,"handshake page hirarchy", 2,"handshake page names", 3,"CALL UI page", 5,"return element values", 10,"rebuilt VALUE lists"
ENDIF


! =============================================================================
! PLAUSIBILITY
! =============================================================================

! ----------------------------------------------------------------- Parameterabhängigkeiten

VALUES "gs_ub_st2" RANGE [0,]


! »»» Seitenfelder als Boolean-Parameter setzen

PARAMETERS 	gs_sidelight_left  = gs_sidelight_left,
			gs_sidelight_right = gs_sidelight_right


! »»» Falzabmessungen plausibel?
IF gs_vt < 0.001 THEN
	gs_vt = 0.001
	PARAMETERS gs_vt = gs_vt
	ENDIF
IF gs_vt > gs_frame_thk - 0.001 THEN
	gs_vt = gs_frame_thk - 0.001
	PARAMETERS gs_vt = gs_vt
	ENDIF

IF gs_vb < tlr THEN
	gs_vb = 0
	PARAMETERS gs_vb = gs_vb
	ENDIF


! »»» Zargen sind alle nicht für Doppeltüren oder Wendeflügel
	IF bs_door_leafs =2 THEN
		IF ac_OpeningSide = "L" THEN ac_OpeningSide2 = "R"
		IF ac_OpeningSide = "R" THEN ac_OpeningSide2 = "L"
		ELSE
		ac_OpeningSide2 = "-"
		ENDIF
	PARAMETERS	ac_OpeningSide2 = ac_OpeningSide2


! »»» Maulweite / relevante Wandstärke
	bs_internal_rim_width = WALL_THICKNESS - wall_shell_thk_1 - wall_shell_thk_2
	PARAMETERS	bs_internal_rim_width	= bs_internal_rim_width


! »»» Rahmenstärken evt. automatisiert

IF GLOB_MODPAR_NAME = "dk_frame_thk_upper" THEN 
	! Der Fall dar nach UI eigentlich nicht passieren
	frameThicknessUpper	= dk_frame_thk_upper
	frameThickness 		= frameThicknessUpper
	ELSE
	! Oberes Profil ist IMMER so breit wie seitliches.
	frameThicknessUpper	= frameThickness
	dk_frame_thk_upper	= frameThicknessUpper
	PARAMETERS dk_frame_thk_upper = dk_frame_thk_upper
	ENDIF

IF dk_frametype = "UZ" OR dk_frametype = "BZ"  THEN
	! Zargenstärke
	PARAMETERS	gs_frame_thk			= frameThickness,
				dk_frame_thk_upper		= frameThicknessUpper

	ELSE

	! Zargenstärke  -  gs_frame_thk ist immer das ZARGENAUSSENMAS (ZA) !
	IF GLOB_MODPAR_NAME = "gs_frame_thk" THEN
		frameThickness = gs_frame_thk
		ELSE
		PARAMETERS gs_frame_thk = frameThickness
		ENDIF

	! ### Spiegelbreite automatisch bei BZ/RR
	! IF gs_different_framewidth THEN
	! 	bs_spiegel_br_bs	 = gs_frame_width_left - gs_vb
	! 	ELSE
	! 	! bs_spiegel_br_bs	 = gs_frame_width_left - gs_vb
	! 	! bs_spiegel_br_bs	 = gs_frame_width_right - gs_vb
	! 	bs_spiegel_br_bs	 = 0
	! 	ENDIF
	! bs_spiegel_br_bgs	 = bs_spiegel_br_bs
	! bs_spiegel_br_ob_bs	 = gs_frame_width_upper - gs_vb
	! bs_spiegel_br_ob_bgs = bs_spiegel_br_ob_bs
	! PARAMETERS bs_spiegel_br_bs  = bs_spiegel_br_bs,
	! 		bs_spiegel_br_bgs	 = bs_spiegel_br_bgs,
	! 		bs_spiegel_br_ob_bs	 = bs_spiegel_br_ob_bs,
	! 		bs_spiegel_br_ob_bgs = bs_spiegel_br_ob_bgs

	ENDIF


! »»» Rahmenstärken identisch
IF NOT(dk_different_frame_thk) THEN
	dk_frame_thk_post     = frameThickness + _tt_plus
	dk_frame_thk_upper    = frameThickness
	dk_frame_thk_bottom   = frameThickness
	dk_frame_thk_transom  = frameThickness + _tt_plus
	dk_frame_thk_EZ       = frameThickness
	PARAMETERS	dk_frame_thk_post		= dk_frame_thk_post,
				dk_frame_thk_upper		= dk_frame_thk_upper,
				dk_frame_thk_bottom		= dk_frame_thk_bottom,
				dk_frame_thk_transom	= dk_frame_thk_transom,
				dk_frame_thk_EZ			= dk_frame_thk_EZ
	LOCK		"dk_frame_thk_post", 
				"dk_frame_thk_upper", 
				"dk_frame_thk_bottom", 
				"dk_frame_thk_transom"
	ENDIF

! »»» Rahmenbreiten identisch
IF NOT(gs_different_framewidth) THEN
	gs_frame_width_left 	= gs_frame_width
	gs_frame_width_right 	= gs_frame_width
	gs_frame_width_left_2 	= gs_frame_width
	gs_frame_width_right_2 	= gs_frame_width
	gs_frame_width_upper 	= gs_frame_width
	gs_frame_width_transom 	= gs_frame_width
	gs_frame_width_bottom_sl = gs_frame_width
	PARAMETERS	gs_frame_width_left			= gs_frame_width_left,
				gs_frame_width_right		= gs_frame_width_right,
				gs_frame_width_left_2		= gs_frame_width_left_2,
				gs_frame_width_right_2		= gs_frame_width_right_2,
				gs_frame_width_upper		= gs_frame_width_upper,
				gs_frame_width_transom		= gs_frame_width_transom,
				gs_frame_width_bottom_sl	= gs_frame_width_bottom_sl
	LOCK 		"gs_frame_width_left", 
				"gs_frame_width_right", 
				"gs_frame_width_left_2", 
				"gs_frame_width_right_2", 
				"gs_frame_width_upper", 
				"gs_frame_width_transom", 
				"gs_frame_width_bottom_sl"
	ENDIF


! »»» Begrenzungswerte Füllungsstärken prüfen
s = MIN(gs_frame_thk, dk_frame_thk_post, dk_frame_thk_upper, dk_frame_thk_bottom, dk_frame_thk_transom) - tlr
IF bs_sidelight_filling_thk1 < tlr OR bs_sidelight_filling_thk1 > s  THEN
	bs_sidelight_filling_thk1 = MIN(MAX(tlr, bs_sidelight_filling_thk1), s)
	PARAMETERS bs_sidelight_filling_thk1 = bs_sidelight_filling_thk1
	ENDIF
IF bs_sidelight_filling_thk2 < tlr OR bs_sidelight_filling_thk2 > s  THEN
	bs_sidelight_filling_thk2 = MIN(MAX(tlr, bs_sidelight_filling_thk2), s)
	PARAMETERS bs_sidelight_filling_thk2 = MIN(MAX(tlr, bs_sidelight_filling_thk2), s)
	ENDIF
! s = MIN(dk_frame_thk_post, dk_frame_thk_upper, dk_frame_thk_transom) - tlr
IF bs_fanlight_filling_thk < tlr OR bs_fanlight_filling_thk > s THEN
	bs_fanlight_filling_thk = MIN(MAX(tlr, bs_fanlight_filling_thk), s)
	PARAMETERS bs_fanlight_filling_thk = bs_fanlight_filling_thk
	ENDIF


! »»» Stärken der Seitenteile und des Oberlichtes fixieren?
sts = 0
! IF gs_leaf_thk < s THEN s = gs_leaf_thk
IF bs_inner_frame < 2 THEN

	! Keine innere Zarge, alles 1 Material (Glas)
	bs_fanlight_filling_thk = gs_leaf_thk
	bs_sidelight_filling_thk1 = gs_leaf_thk
	bs_sidelight_filling_thk2 = gs_leaf_thk
	PARAMETERS bs_fanlight_filling_thk = bs_fanlight_filling_thk,
		bs_sidelight_filling_thk1 = bs_sidelight_filling_thk1,
		bs_sidelight_filling_thk2 = bs_sidelight_filling_thk2
	LOCK "bs_fanlight_filling_thk", "bs_sidelight_filling_thk1", "bs_sidelight_filling_thk2"

	ELSE

	! nur Oberblende, Seitenfelder, so vorhanden, in sich abgeschlossen.
	IF bs_inner_frame < 3 THEN
		bs_fanlight_filling_thk = gs_leaf_thk
		PARAMETERS bs_fanlight_filling_thk = bs_fanlight_filling_thk
		LOCK "bs_fanlight_filling_thk"

		ELSE

		! Prüfen, wie die Felder zusammenhängen
		! Beginnend von Unten werden die Segmente aufaddiert
		! Der Sturz kann prinzipiell aus 4 Teilen bestehen

		! LINKS
		IF gs_sidelight_left AND gs_door_transom > 0 THEN
			IF dk_sidelight_transom1 THEN
				felder2 =  1
				ELSE
				IF bittest(bs_fanlight_division,2) THEN
					felder2 =  2
					ELSE
					IF (bs_fanlight_division=1 OR bs_fanlight_division=2) THEN
						felder2 =  3
						ELSE
						IF bittest(bs_fanlight_division,3) OR gs_sidelight_right = 0 THEN
							felder2 =  4
							ELSE
							IF dk_sidelight_transom2 THEN
								felder2 =  5
								ELSE
								felder2 =  6
								ENDIF
							ENDIF
						ENDIF
					ENDIF
				ENDIF
			ELSE
			! Max. 1 linkes Seitenfeld
			felder2 = gs_sidelight_left
			ENDIF

		! RECHTS
		IF gs_sidelight_right AND gs_door_transom > 0 THEN
			IF dk_sidelight_transom2 THEN
				felder1 =  1
				ELSE
				IF bittest(bs_fanlight_division,3) THEN
					felder1 =  2
					ELSE
					IF (bs_fanlight_division=1 OR bs_fanlight_division=2) THEN
						felder1 =  3
						ELSE
						IF bittest(bs_fanlight_division,2) OR gs_sidelight_left = 0 THEN
							felder1 =  4
							ELSE
							IF dk_sidelight_transom1 THEN
								felder1 =  5
								ELSE
								felder1 =  6
								ENDIF
							ENDIF
						ENDIF
					ENDIF
				ENDIF
			ELSE
			! Max. 1 rechtes Seitenfeld
			felder1 = gs_sidelight_right
			ENDIF

		! OBEN
		IF felder2 + felder1 > 6 THEN
			! Seitenfelder links und rechts evt. verbunden?
			bs_fanlight_filling_thk = bs_sidelight_filling_thk1
			bs_sidelight_filling_thk2 = bs_sidelight_filling_thk1
			PARAMETERS bs_fanlight_filling_thk = bs_fanlight_filling_thk, bs_sidelight_filling_thk2 = bs_sidelight_filling_thk2
			LOCK "bs_fanlight_filling_thk", "bs_sidelight_filling_thk2"
			ELSE
			IF felder2 > 3 THEN
				! Seitenfeld links + Oberlicht verbunden
				bs_fanlight_filling_thk = bs_sidelight_filling_thk1
				PARAMETERS bs_fanlight_filling_thk = bs_fanlight_filling_thk
				LOCK "bs_fanlight_filling_thk"
				ELSE
				IF felder1 > 3 THEN
					! Seitenfeld rechts + Oberlicht verbunden
					bs_fanlight_filling_thk = bs_sidelight_filling_thk2
					PARAMETERS bs_fanlight_filling_thk = bs_fanlight_filling_thk
					LOCK "bs_fanlight_filling_thk"
					ELSE
					ENDIF
				ENDIF
			ENDIF

		ENDIF

	ENDIF

IF gs_sidelight_left  = 0 THEN LOCK "bs_sidelight_filling_thk2"
IF gs_sidelight_right = 0 THEN LOCK "bs_sidelight_filling_thk1"
IF gs_door_transom    = 0 THEN LOCK "bs_fanlight_filling_thk"

IF NOT(gs_sidelight_right AND gs_sidelight_left) THEN LOCK "bDiffSidelightWidth"


! »»» Elektrifizierung setzen (Bit 1)
! IF 1=1 THEN
! 	bs_door_electrified = BITSET(bs_door_electrified, 1)
! 	ELSE
! 	bs_door_electrified = BITSET(bs_door_electrified, 1, 0)
! 	ENDIF
! PARAMETERS bs_door_electrified = bs_door_electrified


! =============================================================================
! VALUES
! =============================================================================

! ----------------------------------- PARAMETER VALUE LIST [ECD FRAME] (start)

VALUES{2} "language" 1, "Deutsch", 4, "English"
VALUES "bs_frame_material" "ST", "HO", "AL", "KU"
VALUES{2} "bz_typ_einzug" 0, "auf Wandstärke", 1, "festes Maß"
VALUES "gs_vb" 0.005, 0.01, 0.015, CUSTOM
VALUES "gs_vt" 0.01, 0.015, 0.02, 0.025, CUSTOM
VALUES{2} "bs_folding_nmbr" 0, "ohne", 1, "einfach", 2, "zweifach", 3, "dreifach"
VALUES "bs_frame_surface_BS" "AN", "BE", "FU", "EL", "NA", "XX", CUSTOM
VALUES "bs_frame_surface_BGS" "AN", "BE", "FU", "EL", "NA", "XX", CUSTOM
VALUES "bs_door_sidelight" "-", "L", "R", "LR"
VALUES "dk_sidelight_filling" "G1", "G2", "G3", "PL"

! --------------------------------------------------------------- PARAMETER VALUE LISTS (end)

VALUES "wall_shell_thk_1" 0, 0.01,0.015,0.1,0.115,0.12,0.125,0.15,0.2, CUSTOM
VALUES "wall_shell_thk_2" 0, 0.01,0.015,0.1,0.115,0.12,0.125,0.15,0.2, CUSTOM

! --------- KONSTANTEN - Bezugsebene der Spiegel auf BS und BGS setzen

dk_frame_indention1 = wall_shell_thk_1
IF dk_frametype = "UZ" OR ( dk_frametype = "BZ" AND bz_typ_einzug = 0 ) THEN
	dk_frame_indention1 = dk_frame_indention1 - gs_ub_st2
ELSE
	IF ( dk_frametype = "BZ" AND bz_typ_einzug = 1 ) THEN
		dk_frame_indention1 = dk_frame_indention1 + bz_einzug - gs_ub_st2
	ELSE
		IF dk_frametype = "EZ" THEN
			dk_frame_indention1 = dk_frame_indention1 - gs_ub_st2
		ELSE
			! dk_frametype = "RR"
			dk_frame_indention1 = dk_frame_indention1 + bz_einzug
		ENDIF 
	ENDIF 
ENDIF

PARAMETERS dk_frame_indention1 = dk_frame_indention1
PARAMETERS dk_frame_indention2 = dk_frame_indention1 + gs_frame_thk


! --------- PLAUSIBILITÄT der Füllungsstärken

VALUES "bs_sidelight_filling_thk1"	RANGE [0.001, gs_vt]
VALUES "bs_sidelight_filling_thk2"	RANGE [0.001, gs_vt]
VALUES "bs_fanlight_filling_thk"	RANGE [0.001, gs_vt]


! --------- PLAUSIBILITÄT der Rahmenbreiten

VALUES "gs_frame_width_left"		RANGE [minFrameWidth, ]
VALUES "gs_frame_width_right"		RANGE [minFrameWidth, ]
VALUES "gs_frame_width_left_2"		RANGE [minFrameWidth, ]
VALUES "gs_frame_width_right_2"		RANGE [minFrameWidth, ]
VALUES "gs_frame_width_upper"		RANGE [minFrameWidth, ]
VALUES "gs_frame_width_transom"		RANGE [minFrameWidth, ]
VALUES "gs_frame_width_bottom_sl"	RANGE [minFrameWidth, ]

VALUES "bs_spiegel_br_ob_bs"		RANGE [gs_frame_width_upper - gs_vb, ]
VALUES "bs_spiegel_br_ob_bgs"		RANGE [gs_frame_width_upper, ]
VALUES "bs_spiegel_br_bs"			RANGE [minFrameViewWidth, ]
VALUES "bs_spiegel_br_bgs"			RANGE [minFrameViewWidth, ]

VALUES "gs_frame_width"				RANGE [minFrameWidth, _range_frame_width ]


! --------- PLAUSIBILITÄT der Rahmenstärken

VALUES "dk_frame_thk_post"		RANGE [minFrameThk, ]
VALUES "dk_frame_thk_upper"		RANGE [minFrameThk, ]
VALUES "dk_frame_thk_bottom"	RANGE [minFrameThk, ]
VALUES "dk_frame_thk_transom"	RANGE [minFrameThk, ]
VALUES "dk_frame_thk_EZ"		RANGE [minFrameThk, ]

VALUES "gs_frame_thk"			RANGE [minFrameThk, ]  !_range_frame_thk]

VALUES "dk_folding_dimensions"		RANGE [ 0, max(0.001,gs_vt, gs_vb) )
VALUES "dk_design_folding_depth"	RANGE [ 0, max(0.001,gs_frame_thk - gs_vt) )


! --------- LoI < 4 - Vereinfachte Parameterauswahl

IF GLOB_MODPAR_NAME = "dk_materials" AND dk_LOI < 5 THEN
	PARAMETERS	dk_materials[dka_frame_mat_BGS]	= dk_materials[dka_frame_mat_BS]
	IF unifyingMaterial > 0 THEN 
		PARAMETERS	dk_materials[dka_side1_mat_BS]	= dk_materials[unifyingMaterial],
					dk_materials[dka_side1_mat_BGS]	= dk_materials[unifyingMaterial],
					dk_materials[dka_side2_mat_BS]	= dk_materials[unifyingMaterial],
					dk_materials[dka_side2_mat_BGS]	= dk_materials[unifyingMaterial],
					dk_materials[dka_fan_mat_BS]	= dk_materials[unifyingMaterial],
					dk_materials[dka_fan_mat_BGS]	= dk_materials[unifyingMaterial]
		ENDIF
	ENDIF


! ----------------------------------------------------------------- Türaufteilung (code by BEISTER - do not change)

! »»» Optionen (nach Plausibilität) Einfassung Türblatt (innere Zargen)
IF gs_door_transom > 0 THEN

	! Mit Oberlicht/Oberblende
	IF gs_sidelight_right THEN
		IF gs_sidelight_left THEN
			! Beidseitig
			VALUES{2} "bs_inner_frame" 0, "keine", 2, "seitlich (Oberblende)", 3, "dreiseitig"  !, 4, "allseitig"
			ELSE
			! Rechtes Seitenteil
			VALUES{2} "bs_inner_frame" 0, "nur links", 2, "seitlich (Oberblende)", 3, "dreiseitig"  !, 4, "allseitig"
			ENDIF
		ELSE
		IF gs_sidelight_left THEN
			! Linkes Seitenteil
			VALUES{2} "bs_inner_frame" 0, "nur rechts", 2, "seitlich (Oberblende)", 3, "dreiseitig"  !, 4, "allseitig"
			ELSE
			! Kein Seitenteil
			VALUES{2} "bs_inner_frame" , 2, "seitlich (Oberblende)", 3, "dreiseitig"  !, 4, "allseitig"
			ENDIF
		ENDIF

	ELSE

	! Ohne Oberlicht/Oberblende
	IF gs_sidelight_right THEN
		IF gs_sidelight_left THEN
			VALUES{2} "bs_inner_frame" 0, "keine", 3, "dreiseitig"  !, 4, "allseitig"
			ELSE
			VALUES{2} "bs_inner_frame" 0, "nur rechts", 3, "dreiseitig"  !, 4, "allseitig"
			ENDIF
		ELSE
		IF gs_sidelight_left THEN
			VALUES{2} "bs_inner_frame" 0, "nur links", 3, "dreiseitig"  !, 4, "allseitig"
			ELSE
			VALUES{2} "bs_inner_frame" , 3, "dreiseitig"  !, 4, "allseitig"
			ENDIF
		ENDIF

	ENDIF


! »»» Verfügbare Teilungen und innere Zargen
IF bs_inner_frame > 2 THEN

	! mind. dreiseitig Zarge um Türblatt
	IF gs_door_transom > 0 THEN

		! Mit Oberlicht
		IF gs_sidelight_right THEN

			IF gs_sidelight_left THEN
				! Beidseitig
				VALUES{2} "bs_fanlight_division" 0, "ungeteilt", 1, "symetrisch", 4, "linke Pfostenachse", 8, "rechte Pfostenachse",
					12, "wie Türöffnung"  !, 2, "asymetrisch"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus", 1, "auf Kämpferhöhe"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus", 1, "auf Kämpferhöhe"

				ELSE
				! Rechtes Seitenteil
				VALUES{2} "bs_fanlight_division" 0, "ungeteilt", 1, "symetrisch", 8, "wie Türöffnung"  !, 2, "asymetrisch"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus", 1, "auf Kämpferhöhe"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus"
				LOCK "dk_sidelight_transom2"

				ENDIF

			ELSE

			IF gs_sidelight_left THEN
				! Linkes Seitenteil
				VALUES{2} "bs_fanlight_division" 0, "ungeteilt", 1, "symetrisch", 4, "wie Türöffnung"  !, 2, "asymetrisch"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus", 1, "auf Kämpferhöhe"
				LOCK "dk_sidelight_transom1"

				ELSE
				! Kein Seitenteil
				VALUES{2} "bs_fanlight_division" 0, "ungeteilt", 1, "symetrisch"  !, 2, "asymetrisch"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus"
				LOCK "dk_sidelight_transom1", "dk_sidelight_transom2"

				ENDIF

			ENDIF

		ELSE

		! Kein Oberlicht, dann auch keine Teilungen in den Ecken.
		VALUES{2} "bs_fanlight_division" 0, "ungeteilt"
		VALUES{2} "dk_sidelight_transom1" 0, "Aus"
		VALUES{2} "dk_sidelight_transom2" 0, "Aus"
		LOCK "bs_fanlight_division", "dk_sidelight_transom1", "dk_sidelight_transom2"

		ENDIF

	ELSE

	! Ohne teilbares Oberlicht

	IF bs_inner_frame = 2 THEN

		! mit seitlichen Zargenprofilen
		IF gs_sidelight_right THEN

			IF gs_sidelight_left THEN
				! Beidseitig
				VALUES{2} "bs_fanlight_division" 12, "wie Türöffnung"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus", 1, "auf Kämpferhöhe"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus", 1, "auf Kämpferhöhe"
				LOCK "bs_fanlight_division"

				ELSE
				! Rechtes Seitenteil
				VALUES{2} "bs_fanlight_division" 8, "wie Türöffnung"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus", 1, "auf Kämpferhöhe"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus"
				LOCK "bs_fanlight_division", "dk_sidelight_transom2"

				ENDIF

			ELSE

			IF gs_sidelight_left THEN
				! Linkes Seitenteil
				VALUES{2} "bs_fanlight_division" 4, "wie Türöffnung"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus", 1, "auf Kämpferhöhe"
				LOCK "bs_fanlight_division", "dk_sidelight_transom1"

				ELSE
				! Kein Seitenteil
				VALUES{2} "bs_fanlight_division" 0, "ungeteilt"
				VALUES{2} "dk_sidelight_transom1" 0, "Aus"
				VALUES{2} "dk_sidelight_transom2" 0, "Aus"
				LOCK "bs_fanlight_division", "dk_sidelight_transom1", "dk_sidelight_transom2"

				ENDIF

			ENDIF

		ELSE

		! Keinerlei Umfassung um Türblatt
		VALUES{2} "bs_fanlight_division" 0, "ungeteilt"
		VALUES{2} "dk_sidelight_transom1" 0, "Aus"
		VALUES{2} "dk_sidelight_transom2" 0, "Aus"
		LOCK "bs_fanlight_division", "dk_sidelight_transom1", "dk_sidelight_transom2"

		ENDIF

	ENDIF


! ----------------------------------------------------------------- Plausibilitätsprüfungen / Abhängigkeiten (code by BEISTER - do not change)

! »»» Glazing dimesions (sidefields)

IF gs_sidelight_left | gs_sidelight_right THEN
	sidL_maxglass_width		= gs_sidelight_width_left  - (gs_frame_width_left  + gs_frame_width_left_2)  * gs_sidelight_left  - gs_vb
	sidR_maxglass_width		= gs_sidelight_width_right - (gs_frame_width_right + gs_frame_width_right_2) * gs_sidelight_right - gs_vb

	sidL_maxglass_height	= ac_unit_height - dk_sidelight_transom2 * (gs_transom_height + (gs_frame_width_transom_sl-gs_frame_width_transom)) - not(dk_sidelight_transom2) * gs_frame_width_upper_sl - gs_frame_width_bottom_sl
	sidR_maxglass_height	= ac_unit_height - dk_sidelight_transom1 * (gs_transom_height + (gs_frame_width_transom_sl-gs_frame_width_transom)) - not(dk_sidelight_transom1) * gs_frame_width_upper_sl - gs_frame_width_bottom_sl

	IF gs_different_framewidth THEN

		IF gs_door_transom THEN

			gs_frame_width_transom_sl = gs_frame_width_transom
			PARAMETERS gs_frame_width_transom_sl = gs_frame_width_transom_sl

			LOCK "gs_frame_width_transom_sl"
			HIDEPARAMETER "gs_frame_width_transom_sl"

			ELSE

			gs_frame_width_upper_sl = gs_frame_width_upper
			PARAMETERS gs_frame_width_upper_sl = gs_frame_width_upper_sl

			LOCK "gs_frame_width_upper_sl"
			HIDEPARAMETER "gs_frame_width_upper_sl"

			ENDIF

		IF gs_sidelight_left THEN
			glazingHeight2 = sidL_maxglass_height
			PARAMETERS glazingHeight2 = glazingHeight2
			LOCK "glazingHeight2"
			ENDIF

		IF gs_sidelight_right THEN
			glazingHeight = sidR_maxglass_height
			PARAMETERS glazingHeight = glazingHeight
			LOCK "glazingHeight"
			ENDIF

		ELSE

		glazingHeight = sidL_maxglass_height
		PARAMETERS glazingHeight = glazingHeight

		IF gs_sidelight_left THEN
			glazingWidthLeft = sidL_maxglass_width
			PARAMETERS glazingWidthLeft = glazingWidthLeft
			lock	"glazingWidthLeft"
			ENDIF

		IF gs_sidelight_right THEN
			glazingWidthRight = sidR_maxglass_width
			PARAMETERS glazingWidthRight = glazingWidthRight
			lock	"glazingWidthRight"
			ENDIF

		ENDIF

	ENDIF


! ---------------------------------------------------------------------- !

END offsetFrameSurfaceBGS,
		facingLintelBS, facingLintelBGS,
		frame2wallSurfaceBS, frame2wallSurfaceBGS,
		bs_door_electrified

! =============================================================================
! =============================================================================
!
! SUBROUTINES
!
! =============================================================================
! =============================================================================

]]></Script_VL>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
! Script_FWM
]]></Script_FWM>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[
! Script_BWM
]]></Script_BWM>
  <ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
    <ParamSectHeader>
      <Version>26</Version>
      <AutoHotspots>false</AutoHotspots>
      <StatBits>
        <STBit_UIDefault />
        <STBit_FixSize />
        <STBit_UIUseHierarchicalPages />
      </StatBits>
      <WDLeftFrame>0</WDLeftFrame>
      <WDRightFrame>0</WDRightFrame>
      <WDTopFrame>0</WDTopFrame>
      <WDBotFrame>0</WDBotFrame>
      <LayFlags>0</LayFlags>
      <WDMirrorThickness>0</WDMirrorThickness>
      <WDWallInset>0</WDWallInset>
      <SymbolColor>0</SymbolColor>
    </ParamSectHeader>
    <Parameters>
      <Length Name="A">
        <Description><![CDATA["Nominalbreite"]]></Description>
        <Fix />
        <Value>2</Value>
      </Length>
      <Length Name="B">
        <Description><![CDATA["Nominalhöhe"]]></Description>
        <Fix />
        <Value>2</Value>
      </Length>
      <Length Name="ZZYZX">
        <Description><![CDATA["Z-Achse"]]></Description>
        <Fix />
        <Flags>
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Length>
      <Boolean Name="AC_show2DHotspotsIn3D">
        <Description><![CDATA["2D-Fixpunkte in 3D zeigen"]]></Description>
        <Fix />
        <Flags>
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Length Name="ac_bottomlevel">
        <Description><![CDATA["Untere Ebene"]]></Description>
        <Fix />
        <Flags>
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Length>
      <Length Name="ac_toplevel">
        <Description><![CDATA["Obere Ebene"]]></Description>
        <Fix />
        <Flags>
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Length>
      <Integer Name="bs_demand_FireResistance">
        <Description><![CDATA["Brandschutzanforderung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="bs_demand_SmokeResistance">
        <Description><![CDATA["Rauchschutzanforderung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="bs_demand_NoiseInsulaion">
        <Description><![CDATA["Schallschutzanforderung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="bs_demand_Accessibility">
        <Description><![CDATA["Anforderungen Barrierefreiheit"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="bs_demand_AdmissionControl">
        <Description><![CDATA["Anforderung Zugangskontrolle"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="bs_demand_MoistureProofing">
        <Description><![CDATA["Klimatische Anforderungen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="bs_demand_EscapeRoute">
        <Description><![CDATA["Fluchtweg- und Rettungsweganforderung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <String Name="bs_quality_FireResistanceRating">
        <Description><![CDATA["Brandschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_SmokeResistance">
        <Description><![CDATA["Rauchschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_NoiseInsulaion">
        <Description><![CDATA["Schallschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_ThermalInsulaion">
        <Description><![CDATA["max. Wärmedurchgangskoeffizient"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_BurglaryProtection">
        <Description><![CDATA["Einbruchschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_StrafingProtection">
        <Description><![CDATA["Beschußsicherheit"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_DetonationProtection">
        <Description><![CDATA["Sprengwirkungsschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_RadiationProtection">
        <Description><![CDATA["Strahlenschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_LaserProtection">
        <Description><![CDATA["Laserschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_FloodProtection">
        <Description><![CDATA["Hochwasserschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_VandalismProtection">
        <Description><![CDATA["Vandalismus"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_GasDefense">
        <Description><![CDATA["Gasschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA[""]]></Value>
      </String>
      <String Name="bs_quality_EscapeRoute">
        <Description><![CDATA["Flucht- und Rettungsweg"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <Length Name="bs_quality_UsableClearance">
        <Description><![CDATA["Mindestdurchgangsbreite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.8</Value>
      </Length>
      <Length Name="bs_quality_UsableHeight">
        <Description><![CDATA["Mindestdurchgangshöhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2</Value>
      </Length>
      <Angle Name="bs_quality_OpeningAngle">
        <Description><![CDATA["Mindestöffnungswinkel"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>90</Value>
      </Angle>
      <Length Name="bs_quality_GuardrailHeight">
        <Description><![CDATA["Absturzsicherung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <String Name="bs_quality_SHE">
        <Description><![CDATA["RWA-Zuluft"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_SelfClosing">
        <Description><![CDATA["Selbstschließend"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_Automation">
        <Description><![CDATA["Automatisiert"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_AntiTrapProtection">
        <Description><![CDATA["Klemmschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_ClimateClass">
        <Description><![CDATA["Klimaklasse"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_WetRoom">
        <Description><![CDATA["Nassraum"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_DampArea">
        <Description><![CDATA["Feuchtraum"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_Tightness">
        <Description><![CDATA["Dichtigkeit"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_Hygiene">
        <Description><![CDATA["Hygiene"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_Sustainability">
        <Description><![CDATA["Nachhaltigkeit"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_ExplosionSafety">
        <Description><![CDATA["Explosionsschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_MechanicalLoad">
        <Description><![CDATA["Mechanische Beanspruchung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_CorrosionPrevention">
        <Description><![CDATA["Korrosionschutz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_UsefulLife">
        <Description><![CDATA["Nutzungsdauer"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_IntensityOfUse">
        <Description><![CDATA["Nutzungsintensität"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_EMShielding">
        <Description><![CDATA["Elektromagnetische Abschirmung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_BurglaryAlarmSystem">
        <Description><![CDATA["Einbruchmeldeanlage"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_AccidentPrevention">
        <Description><![CDATA["Unfallverhütung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_Accessibility">
        <Description><![CDATA["Barrierefreiheit"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_quality_ActuatingForce">
        <Description><![CDATA["Bedienkraft"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_identify1">
        <Description><![CDATA["Zugang von der  BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_identify2">
        <Description><![CDATA["Zugang von der BGS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_opening1">
        <Description><![CDATA["Öffnen von der BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_opening2">
        <Description><![CDATA["Öffnen von der BGS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_closing">
        <Description><![CDATA["Schließverhalten"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_status">
        <Description><![CDATA["Flügelposition im Betrieb"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <String Name="bs_ac_control">
        <Description><![CDATA["Überwachung Türzustand"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["undefiniert"]]></Value>
      </String>
      <!-- dk_basic_features: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dk_basic_features">
        <Description><![CDATA["Grundeigenschaften"]]></Description>
      </Title>
      <String Name="bs_door_OpeningType">
        <Description><![CDATA["Türtyp / Öffnungsart"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value><![CDATA["Drehflügel"]]></Value>
      </String>
      <String Name="bs_door_ConstructionType">
        <Description><![CDATA["Konstruktionstyp"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <Boolean Name="gs_mountingFrame">
        <Description><![CDATA["Einbaurahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Integer Name="bs_door_leafs">
        <Description><![CDATA["Anzahl der Türblätter"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <String Name="bs_door_sidelight">
        <Description><![CDATA["Seitenfelder"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["-"]]></Value>
      </String>
      <Boolean Name="gs_sidelight_left">
        <Description><![CDATA["Linkes Seitenfeld"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="gs_sidelight_right">
        <Description><![CDATA["Rechtes Seitenfeld"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Integer Name="gs_list_orientationDef_m">
        <Description><![CDATA["Türausrichtungsdefinition"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <String Name="ac_OpeningSide">
        <Description><![CDATA["Türausrichtung in Wandebene"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["R"]]></Value>
      </String>
      <String Name="ac_OpeningSide2">
        <Description><![CDATA["Ausrichtung SF in Wandebene"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["L"]]></Value>
      </String>
      <Integer Name="bs_door_electrified">
        <Description><![CDATA["Elektrische Zuleitungen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Boolean Name="bThreshold">
        <Description><![CDATA["Schwelle"]]></Description>
        <Flags>
          <ParFlg_BoldName />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="gs_sill_outside">
        <Description><![CDATA["Fensterbank außen"]]></Description>
        <Flags>
          <ParFlg_BoldName />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <!-- gs_door_sizes: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_door_sizes">
        <Description><![CDATA["Abmessungen Tür"]]></Description>
      </Title>
      <Length Name="gs_tolerance_left">
        <Description><![CDATA["Einbautoleranz links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.005</Value>
      </Length>
      <Length Name="gs_tolerance_right">
        <Description><![CDATA["Einbautoleranz rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.005</Value>
      </Length>
      <Length Name="gs_tolerance_upper">
        <Description><![CDATA["Einbautoleranz oben"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <Length Name="gs_tolerance_lower">
        <Description><![CDATA["Einbautoleranz unten"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Length>
      <Integer Name="dk_tolerance">
        <Description><![CDATA["Bautoleranzangabe - Bezug"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Length Name="ac_wallhole_width">
        <Description><![CDATA["Rohbauöffnung Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.885</Value>
      </Length>
      <Length Name="ac_wallhole_height">
        <Description><![CDATA["Rohbauöffnung Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.135</Value>
      </Length>
      <Length Name="ac_reveal_width">
        <Description><![CDATA["Architekturlichte Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.885</Value>
      </Length>
      <Length Name="ac_reveal_height">
        <Description><![CDATA["Architekturlichte Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.135</Value>
      </Length>
      <Length Name="ac_unit_width">
        <Description><![CDATA["Rahmen Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.875</Value>
      </Length>
      <Length Name="ac_unit_height">
        <Description><![CDATA["Rahmen Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.125</Value>
      </Length>
      <Length Name="ac_baurichtmass_width">
        <Description><![CDATA["Breite Baurichtmaß"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value>0.875</Value>
      </Length>
      <Length Name="ac_baurichtmass_height">
        <Description><![CDATA["Höhe Baurichtmaß"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value>2.125</Value>
      </Length>
      <Length Name="bs_FrameRebate_width">
        <Description><![CDATA["Zargenfalzmaß Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.845</Value>
      </Length>
      <Length Name="bs_FrameRebate_height">
        <Description><![CDATA["Zargenfalzmaß Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.11</Value>
      </Length>
      <Length Name="bs_OuterFrame_width">
        <Description><![CDATA["Zargenaußenmaß Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.875</Value>
      </Length>
      <Length Name="bs_OuterFrame_width2">
        <Description><![CDATA["Zargenaußenmaß BGS Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.875</Value>
      </Length>
      <Length Name="bs_OuterFrame_height">
        <Description><![CDATA["Zargenaußenmaß Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.11</Value>
      </Length>
      <Length Name="bs_OuterFrame_height2">
        <Description><![CDATA["Zargenaußenmaß BGS Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.11</Value>
      </Length>
      <Length Name="ac_egress_width">
        <Description><![CDATA["Durchgangslichte Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.815</Value>
      </Length>
      <Length Name="ac_egress_height">
        <Description><![CDATA["Durchgangslichte Höhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.095</Value>
      </Length>
      <Integer Name="dk_UCrelation">
        <Description><![CDATA["Bezug dees lichten Durchgangs"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Length Name="dk_UCdistanceRight">
        <Description><![CDATA["Einschränkung an Schloss-/Standflügelseite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <Length Name="bs_UsableClearance">
        <Description><![CDATA["Effektive Durchgangsbreite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.6</Value>
      </Length>
      <Length Name="bs_UsableHeight">
        <Description><![CDATA["Effektive Durchgangshöhe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.05</Value>
      </Length>
      <Length Name="ac_leaf_width">
        <Description><![CDATA["Türblatt Breite (Flügelmaß)"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.871</Value>
      </Length>
      <Length Name="ac_leaf_height">
        <Description><![CDATA["Türblatt Höhe (Flügelmaß)"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2.118</Value>
      </Length>
      <Integer Name="gs_nominal_size">
        <Description><![CDATA["Nominalmaß"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Boolean Name="gs_wallhole_nominal">
        <Description><![CDATA["Rohbauöffnung als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="gs_reveal_nominal">
        <Description><![CDATA["Architekturlichte als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Boolean Name="gs_unit_nominal">
        <Description><![CDATA["Rahmen-Außenmaß als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="gs_baurichtmass_nominal">
        <Description><![CDATA["Baurichtmaß als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="gs_egress_nominal">
        <Description><![CDATA["Freies Öffnungsmaß als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="gs_leaf_nominal">
        <Description><![CDATA["Türblattmaß als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Boolean Name="dk_FrameRebate_nominal">
        <Description><![CDATA["Türfalzmaß als Nominalmaß einstellen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Boolean Name="gs_retain_nominal_sizes">
        <Description><![CDATA["Übertrage aktuelle Nominal Größe auf die Auswahl"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Length Name="dk_frame_indention1">
        <Description><![CDATA["Einzug Bezugsebene Bandseite"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Length>
      <Length Name="dk_frame_indention2">
        <Description><![CDATA["Einzug Bezugsebene Bandgegenseite"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Length>
      <!-- gs_threshhold: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_threshhold">
        <Description><![CDATA["Schwelle"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
      </Title>
      <!-- holeUnderThreshold: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <String Name="holeUnderThreshold">
        <Description><![CDATA["Wandöffnung unter Schwelle"]]></Description>
        <Flags>
          <ParFlg_BoldName />
        </Flags>
        <Value><![CDATA["Wandöffnung zum aktuellen Geschoss"]]></Value>
      </String>
      <Integer Name="iHoleUnderThreshold">
        <Description><![CDATA["Wandöffnung unter Schwelle"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Length Name="thresholdBottomOversize">
        <Description><![CDATA["Eigene Wandöffnung Übergröße"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.05</Value>
      </Length>
      <!-- gs_door_frame: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_door_frame">
        <Description><![CDATA["Türzarge"]]></Description>
      </Title>
      <String Name="gs_frame_type">
        <Description><![CDATA["Rahmentyp"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["Standard"]]></Value>
      </String>
      <Integer Name="iFrameType">
        <Description><![CDATA["Rahmentyp"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <String Name="bs_frame_manufacturer">
        <Description><![CDATA["Name Hersteller"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA[""]]></Value>
      </String>
      <String Name="bs_frame_model">
        <Description><![CDATA["Modell- / Typenbezeichnung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["individuell"]]></Value>
      </String>
      <Integer Name="bs_inner_frame">
        <Description><![CDATA["Seiten mit Profil um Türblatt"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>3</Value>
      </Integer>
      <String Name="bs_frame_material">
        <Description><![CDATA["Zargenmaterial"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["Stahl"]]></Value>
      </String>
      <Boolean Name="gs_different_framewidth">
        <Description><![CDATA["Unterschiedliche Breiten"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Length Name="gs_frame_width">
        <Description><![CDATA["Rahmen-Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_right">
        <Description><![CDATA["Rahmenbreite rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_left">
        <Description><![CDATA["Rahmenbreite links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_right_2">
        <Description><![CDATA["Mittlerer Rahmen rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_left_2">
        <Description><![CDATA["Mittlerer Rahmen links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_upper">
        <Description><![CDATA["Oberer Rahmen Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_transom">
        <Description><![CDATA["Querbalken Rahmen Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_bottom_sl">
        <Description><![CDATA["Unterer Rahmen Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_thk">
        <Description><![CDATA["Rahmen-Dicke"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.07</Value>
      </Length>
      <Boolean Name="dk_different_frame_thk">
        <Description><![CDATA["Unterschiedliche Rahmenstärken"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Length Name="dk_frame_thk_post">
        <Description><![CDATA["Rahmenstärke Pfosten"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.07</Value>
      </Length>
      <Length Name="dk_frame_thk_upper">
        <Description><![CDATA["Rahmenstärke oben"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="dk_frame_thk_bottom">
        <Description><![CDATA["Rahmenstärke unten"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="dk_frame_thk_transom">
        <Description><![CDATA["Rahmenstärke Kämpfer"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="dk_frame_thk_EZ">
        <Description><![CDATA["Rahmenstärke Eckzarge"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.12</Value>
      </Length>
      <Length Name="bs_spiegel_br_bs">
        <Description><![CDATA["Zarge Spiegelbreite BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.035</Value>
      </Length>
      <Length Name="bs_spiegel_br_bgs">
        <Description><![CDATA["Zarge Spiegelbreite BGS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.035</Value>
      </Length>
      <Length Name="bs_spiegel_br_ob_bs">
        <Description><![CDATA["Zarge Spiegelbreite BS oben"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.035</Value>
      </Length>
      <Length Name="bs_spiegel_br_ob_bgs">
        <Description><![CDATA["Zarge Spiegelbreite BGS oben"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.035</Value>
      </Length>
      <Length Name="bs_internal_rim_width">
        <Description><![CDATA["Maulweite / effektive Wandstärke"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.115</Value>
      </Length>
      <Integer Name="bs_folding_nmbr">
        <Description><![CDATA["Anzahl Falzdichtung Zarge "]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Length Name="gs_vb">
        <Description><![CDATA["Falzbreite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.015</Value>
      </Length>
      <Length Name="gs_vt">
        <Description><![CDATA["Falztiefe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.02</Value>
      </Length>
      <Length Name="dk_design_folding_depth">
        <Description><![CDATA["Tiefe Zierfalz"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <Length Name="dk_folding_dimensions">
        <Description><![CDATA["Abmessungen Zargenfalze"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="2" SecondDimension="2">
          <AVal Column="1" Row="1">0.005</AVal>
          <AVal Column="2" Row="1">0.0075</AVal>
          <AVal Column="1" Row="2">0.005</AVal>
          <AVal Column="2" Row="2">0.0075</AVal>
        </ArrayValues>
      </Length>
      <Length Name="dk_frame_gasket_thk">
        <Description><![CDATA["Dicke Dichtung an Zarge"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.008</Value>
      </Length>
      <Boolean Name="gs_rev">
        <Description><![CDATA["Seite Laibung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Length Name="gs_bl_thk">
        <Description><![CDATA["Block Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.05</Value>
      </Length>
      <Length Name="gs_bl_width">
        <Description><![CDATA["Block Dicke"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.06</Value>
      </Length>
      <Length Name="gs_fuge">
        <Description><![CDATA["Mörtel"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <Length Name="gs_ub_st1">
        <Description><![CDATA["Überstand 1"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <Length Name="gs_ub_st2">
        <Description><![CDATA["Überstand 2"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <Material Name="gs_frame_mat">
        <Description><![CDATA["Rahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>133</Value>
      </Material>
      <String Name="bs_frame_surface_BS">
        <Description><![CDATA["Zarge Oberfläche BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["Anstrich"]]></Value>
      </String>
      <String Name="bs_frame_surface_BGS">
        <Description><![CDATA["Zarge Oberfläche BGS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["Beschichtet"]]></Value>
      </String>
      <String Name="bs_frame_colour_BS">
        <Description><![CDATA["Zarge Farbe BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["weiß"]]></Value>
      </String>
      <String Name="bs_frame_colour_BGS">
        <Description><![CDATA["Zarge Farbe BGS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["weiß"]]></Value>
      </String>
      <Length Name="bz_tiefe">
        <Description><![CDATA["Zargentiefe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.15</Value>
      </Length>
      <Integer Name="bz_typ_einzug">
        <Description><![CDATA["Typ Einzug Blockzarge"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Length Name="bz_einzug">
        <Description><![CDATA["Einzug Blockzarge BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <Length Name="wall_shell_thk_1">
        <Description><![CDATA["Wandschale Aufbau BS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.05</Value>
      </Length>
      <Length Name="wall_shell_thk_2">
        <Description><![CDATA["Wandschale Aufbau BGS"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.08</Value>
      </Length>
      <!-- gs_sidelight: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_sidelight">
        <Description><![CDATA["Seitenfeld"]]></Description>
      </Title>
      <Boolean Name="bDiffSidelightWidth">
        <Description><![CDATA["Seitenfeld untersch. Breiten"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Length Name="gs_sidelight_width_left">
        <Description><![CDATA["Breite Seitenfeld rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.51243781</Value>
      </Length>
      <Length Name="gs_sidelight_width_right">
        <Description><![CDATA["Breite Seitenfeld links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.51756219</Value>
      </Length>
      <Length Name="glazingWidthLeft">
        <Description><![CDATA["Verglasung links Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.39743781</Value>
      </Length>
      <Length Name="glazingWidthRight">
        <Description><![CDATA["Verglasung rechts Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.40256219</Value>
      </Length>
      <Length Name="glazingHeight">
        <Description><![CDATA["Verglasung Höhe rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1.965</Value>
      </Length>
      <Length Name="glazingHeight2">
        <Description><![CDATA["Verglasung Höhe links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1.965</Value>
      </Length>
      <Integer Name="dk_sidelight_transom1">
        <Description><![CDATA["Teilung Seitenlicht rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="dk_sidelight_transom2">
        <Description><![CDATA["Teilung Seitenlicht links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Length Name="gs_frame_width_transom_sl">
        <Description><![CDATA["Seitenfeld Querbalkenrahmen Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="gs_frame_width_upper_sl">
        <Description><![CDATA["Seitenfeld oberer Rahmen Breite"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.1</Value>
      </Length>
      <Length Name="sidelightWidthLeft">
        <Description><![CDATA["Breite Seitenfeld links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.5</Value>
      </Length>
      <Length Name="sideLightWidthRight">
        <Description><![CDATA["Breite Seitefeld rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.5</Value>
      </Length>
      <Length Name="bs_sidelight_filling_thk1">
        <Description><![CDATA["Dicke Seitenfeldfüllung 1"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.008</Value>
      </Length>
      <Length Name="bs_sidelight_filling_thk2">
        <Description><![CDATA["Dicke Seitenfeldfüllung 2"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.008</Value>
      </Length>
      <String Name="dk_sidelight_filling">
        <Description><![CDATA["Füllungsart"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="3" SecondDimension="0">
          <AVal Row="1"><![CDATA["G1"]]></AVal>
          <AVal Row="2"><![CDATA["G1"]]></AVal>
          <AVal Row="3"><![CDATA["G1"]]></AVal>
        </ArrayValues>
      </String>
      <!-- gs_fanlight: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_fanlight">
        <Description><![CDATA["Oberlicht"]]></Description>
      </Title>
      <Boolean Name="gs_door_transom">
        <Description><![CDATA["Kämpfer"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_BoldName />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Length Name="gs_transom_height">
        <Description><![CDATA["Höhe Kämpfer"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Length>
      <Integer Name="bs_fanlight_division">
        <Description><![CDATA["Teilung Oberlicht"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Length Name="gs_am">
        <Description><![CDATA["Höhe Oberlicht"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.5</Value>
      </Length>
      <Length Name="bs_fanlight_filling_thk">
        <Description><![CDATA["Dicke Oberlichtfüllung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.008</Value>
      </Length>
      <!-- gs_door_panel: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_door_panel">
        <Description><![CDATA["Türblatt"]]></Description>
      </Title>
      <String Name="bs_panel_type">
        <Description><![CDATA["Türblatt"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["VB"]]></Value>
      </String>
      <String Name="bs_panel_material">
        <Description><![CDATA["Türblatt Material"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["H"]]></Value>
      </String>
      <Integer Name="dk_panel_folding_ancor">
        <Description><![CDATA["Ausschnittfelder"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Length Name="gs_leaf_thk">
        <Description><![CDATA["Türblatt Stärke"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.04</Value>
      </Length>
      <Length Name="bs_leaf_oversize">
        <Description><![CDATA["Spiegelbreite des Falzes"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.02</Value>
      </Length>
      <Length Name="bs_leaf_overhang">
        <Description><![CDATA["Überstand Türblatt zu Zarge"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <!-- dk_frames: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dk_frames">
        <Description><![CDATA["Produktspezifikationen Zargen"]]></Description>
      </Title>
      <String Name="profile">
        <Description><![CDATA["Profilbezeichnungen und Typen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <ArrayValues FirstDimension="1" SecondDimension="2">
          <AVal Column="1" Row="1"><![CDATA["UZ"]]></AVal>
          <AVal Column="2" Row="1"><![CDATA["Standard"]]></AVal>
        </ArrayValues>
      </String>
      <Length Name="abmessung">
        <Description><![CDATA["Abmessungen"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <ArrayValues FirstDimension="1" SecondDimension="2">
          <AVal Column="1" Row="1">0.015</AVal>
          <AVal Column="2" Row="1">-1</AVal>
        </ArrayValues>
      </Length>
      <Length Name="offsetWallSurfaceBS">
        <Description><![CDATA["Versatz zu Wandoberfläche"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <!-- dk_fill_settings: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dk_fill_settings">
        <Description><![CDATA["Schraffuren"]]></Description>
      </Title>
      <FillPattern Name="dk_fills">
        <Description><![CDATA["Array für Schraffuren"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="15" SecondDimension="0">
          <AVal Row="1">64</AVal>
          <AVal Row="2">77</AVal>
          <AVal Row="3">64</AVal>
          <AVal Row="4">64</AVal>
          <AVal Row="5">71</AVal>
          <AVal Row="6">64</AVal>
          <AVal Row="7">71</AVal>
          <AVal Row="8">71</AVal>
          <AVal Row="9">64</AVal>
          <AVal Row="10">71</AVal>
          <AVal Row="11">71</AVal>
          <AVal Row="12">65</AVal>
          <AVal Row="13">64</AVal>
          <AVal Row="14">64</AVal>
          <AVal Row="15">64</AVal>
        </ArrayValues>
      </FillPattern>
      <!-- gs_pen_settings: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_pen_settings">
        <Description><![CDATA["Stifte"]]></Description>
      </Title>
      <PenColor Name="dk_cont_pens">
        <Description><![CDATA["Array für Konturstifte"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="15" SecondDimension="0">
          <AVal Row="1">96</AVal>
          <AVal Row="2">2</AVal>
          <AVal Row="3">3</AVal>
          <AVal Row="4">96</AVal>
          <AVal Row="5">3</AVal>
          <AVal Row="6">100</AVal>
          <AVal Row="7">96</AVal>
          <AVal Row="8">96</AVal>
          <AVal Row="9">96</AVal>
          <AVal Row="10">2</AVal>
          <AVal Row="11">1</AVal>
          <AVal Row="12">2</AVal>
          <AVal Row="13">2</AVal>
          <AVal Row="14">1</AVal>
          <AVal Row="15">1</AVal>
        </ArrayValues>
      </PenColor>
      <PenColor Name="dk_fill_pens">
        <Description><![CDATA["Array für Schraffurstifte"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="15" SecondDimension="0">
          <AVal Row="1">104</AVal>
          <AVal Row="2">62</AVal>
          <AVal Row="3">70</AVal>
          <AVal Row="4">70</AVal>
          <AVal Row="5">62</AVal>
          <AVal Row="6">70</AVal>
          <AVal Row="7">62</AVal>
          <AVal Row="8">62</AVal>
          <AVal Row="9">70</AVal>
          <AVal Row="10">62</AVal>
          <AVal Row="11">62</AVal>
          <AVal Row="12">102</AVal>
          <AVal Row="13">70</AVal>
          <AVal Row="14">96</AVal>
          <AVal Row="15">1</AVal>
        </ArrayValues>
      </PenColor>
      <PenColor Name="dk_bkg_pens">
        <Description><![CDATA["Array für Schraffurhintergrundstifte"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="15" SecondDimension="0">
          <AVal Row="1">91</AVal>
          <AVal Row="2">82</AVal>
          <AVal Row="3">0</AVal>
          <AVal Row="4">0</AVal>
          <AVal Row="5">82</AVal>
          <AVal Row="6">0</AVal>
          <AVal Row="7">82</AVal>
          <AVal Row="8">82</AVal>
          <AVal Row="9">91</AVal>
          <AVal Row="10">82</AVal>
          <AVal Row="11">82</AVal>
          <AVal Row="12">102</AVal>
          <AVal Row="13">0</AVal>
          <AVal Row="14">92</AVal>
          <AVal Row="15">91</AVal>
        </ArrayValues>
      </PenColor>
      <!-- dk_linetype_settings: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dk_linetype_settings">
        <Description><![CDATA["Linientypen"]]></Description>
      </Title>
      <LineType Name="dk_linetype">
        <Description><![CDATA["Array für Linientypen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="1" SecondDimension="0">
          <AVal Row="1">21</AVal>
        </ArrayValues>
      </LineType>
      <Material Name="dk_materials">
        <Description><![CDATA["Array für Oberflächenmaterialien"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <ArrayValues FirstDimension="35" SecondDimension="0">
          <AVal Row="1">40</AVal>
          <AVal Row="2">40</AVal>
          <AVal Row="3">57</AVal>
          <AVal Row="4">57</AVal>
          <AVal Row="5">24</AVal>
          <AVal Row="6">24</AVal>
          <AVal Row="7">24</AVal>
          <AVal Row="8">24</AVal>
          <AVal Row="9">24</AVal>
          <AVal Row="10">24</AVal>
          <AVal Row="11">57</AVal>
          <AVal Row="12">57</AVal>
          <AVal Row="13">24</AVal>
          <AVal Row="14">24</AVal>
          <AVal Row="15">57</AVal>
          <AVal Row="16">57</AVal>
          <AVal Row="17">57</AVal>
          <AVal Row="18">57</AVal>
          <AVal Row="19">57</AVal>
          <AVal Row="20">57</AVal>
          <AVal Row="21">24</AVal>
          <AVal Row="22">24</AVal>
          <AVal Row="23">57</AVal>
          <AVal Row="24">57</AVal>
          <AVal Row="25">57</AVal>
          <AVal Row="26">57</AVal>
          <AVal Row="27">57</AVal>
          <AVal Row="28">57</AVal>
          <AVal Row="29">40</AVal>
          <AVal Row="30">40</AVal>
          <AVal Row="31">40</AVal>
          <AVal Row="32">40</AVal>
          <AVal Row="33">40</AVal>
          <AVal Row="34">40</AVal>
          <AVal Row="35">40</AVal>
        </ArrayValues>
      </Material>
      <Material Name="gs_leaf_mat">
        <Description><![CDATA["Paneel"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>133</Value>
      </Material>
      <Material Name="gs_glass_mat">
        <Description><![CDATA["Glas"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>24</Value>
      </Material>
      <Material Name="gs_metal_mat">
        <Description><![CDATA["Metallteile"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>40</Value>
      </Material>
      <Material Name="gs_mat_spr">
        <Description><![CDATA["Sprossen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>133</Value>
      </Material>
      <Boolean Name="bLinkCasingSurfaces">
        <Description><![CDATA["Einheitliche Oberflächen Verkleidung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Material Name="gs_trim_in_mat">
        <Description><![CDATA["Innenverkleidung Oberflächenmaterial"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>133</Value>
      </Material>
      <Material Name="gs_trim_out_mat">
        <Description><![CDATA["Außenverkleidung Oberflächenmaterial"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>133</Value>
      </Material>
      <!-- gs_mounting_frame_gap: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="gs_mounting_frame_gap">
        <Description><![CDATA["Fugenausfüllung"]]></Description>
      </Title>
      <Integer Name="iBlindstockTypeLeft">
        <Description><![CDATA["Typ Links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="iBlindstockTypeRight">
        <Description><![CDATA["Typ Rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Boolean Name="gs_TolerNBF_automatic">
        <Description><![CDATA["Automatische Maße"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Boolean>
      <Length Name="gs_TolerNBF_dist_left">
        <Description><![CDATA["Position Links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <Length Name="gs_TolerNBF_dist_right">
        <Description><![CDATA["Position Rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Length>
      <Length Name="gs_TolerNBF_width_left">
        <Description><![CDATA["Breite Links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.04</Value>
      </Length>
      <Length Name="gs_TolerNBF_width_right">
        <Description><![CDATA["Breite Rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.05</Value>
      </Length>
      <Length Name="gs_TolerNBF_depth_left">
        <Description><![CDATA["Tiefe Links"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <Length Name="gs_TolerNBF_depth_right">
        <Description><![CDATA["Tiefe Rechts"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0.01</Value>
      </Length>
      <PenColor Name="gs_TolerBlin_contour_pen">
        <Description><![CDATA["Konturlinie-Stift Einbaurahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </PenColor>
      <LineType Name="gs_TolerBlin_contour_line_type">
        <Description><![CDATA["Linientyp Kontur Einbaurahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </LineType>
      <FillPattern Name="gs_TolerBlin_fill_type">
        <Description><![CDATA["Schraffur-Typ Einbaurahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>65</Value>
      </FillPattern>
      <PenColor Name="gs_TolerBlin_fg_pen">
        <Description><![CDATA["Schraffur-Stift Einbaurahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2</Value>
      </PenColor>
      <PenColor Name="gs_TolerBlin_bg_pen">
        <Description><![CDATA["Schraffurhintergrund-Stift Einbaurahmen"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>19</Value>
      </PenColor>
      <PenColor Name="gs_TolerFill_contour_pen">
        <Description><![CDATA["Schraffur-Stift Fugenausfüllung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </PenColor>
      <LineType Name="gs_TolerFill_contour_line_type">
        <Description><![CDATA["Linientyp Kontur Fugenausfüllung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </LineType>
      <FillPattern Name="gs_TolerFill_fill_type">
        <Description><![CDATA["Schraffur-Typ Fugenausfüllung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>64</Value>
      </FillPattern>
      <PenColor Name="gs_TolerFill_fg_pen">
        <Description><![CDATA["Schraffur-Stift Fugenausfüllung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>2</Value>
      </PenColor>
      <PenColor Name="gs_TolerFill_bg_pen">
        <Description><![CDATA["Schraffurhintergrund-Stift Fugenausfüllung"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>19</Value>
      </PenColor>
      <!-- dk_bim: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dk_bim">
        <Description><![CDATA["BIM + Struktur"]]></Description>
      </Title>
      <Integer Name="dk_LOI">
        <Description><![CDATA["Level of Input"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="dk_LOD">
        <Description><![CDATA["Level of Detail"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <!-- dk_extendable_components: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dk_extendable_components">
        <Description><![CDATA["Erweiterungsbibliotheken"]]></Description>
      </Title>
      <String Name="frame_system">
        <Description><![CDATA["Verfügbare Zargensysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["Umfassungszarge"]]></Value>
      </String>
      <String Name="panel_system">
        <Description><![CDATA["Verfügbare Türblattsysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <String Name="hinge_system">
        <Description><![CDATA["Verfügbare Türbandsysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <String Name="closer_system">
        <Description><![CDATA["Verfügbare Türschließersysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["DORMAKABA_TS"]]></Value>
      </String>
      <String Name="automation_system">
        <Description><![CDATA["Verfügbare Autamatisierungssysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["DORMAKABA_ED"]]></Value>
      </String>
      <String Name="case_system">
        <Description><![CDATA["Verfügbare Türschlosssysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <String Name="handle_system">
        <Description><![CDATA["Verfügbare Türgriffsysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["DORMAKABA_OGRO"]]></Value>
      </String>
      <String Name="access_control_system">
        <Description><![CDATA["Verfügbare Zugangskontrollsysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <String Name="grip_system">
        <Description><![CDATA["Verfügbare Stossgriffsysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <String Name="accessory_system">
        <Description><![CDATA["Verfügbare Zubehörsysteme"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value><![CDATA["allgemein"]]></Value>
      </String>
      <!-- ac_library: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="ac_library">
        <Description><![CDATA["User Interface + Editing"]]></Description>
        <Flags>
          <ParFlg_Hidden />
        </Flags>
      </Title>
      <Integer Name="dk_dlg_subset">
        <Description><![CDATA["Dialogseiten-Gruppe"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="language">
        <Description><![CDATA["Sprachversion UI"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="gs_ui_current_page">
        <Description><![CDATA["Aktuelle UI-Seite"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="gs_ui_sub_tabpage">
        <Description><![CDATA["UI-Unterseite"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="gs_ui_sub_tabpage_closure">
        <Description><![CDATA["UI-Unterseite"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="gs_RevealTypeEnable">
        <Description><![CDATA[""]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="gs_subHandle">
        <Description><![CDATA[""]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Integer>
      <String Name="gs_GLOB_MODPAR_NAME">
        <Description><![CDATA["Zuletzt geänderter Parameter"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value><![CDATA[""]]></Value>
      </String>
      <Integer Name="iUIPictIndex">
        <Description><![CDATA["Index auf UI-Bitmaps"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
          <ParFlg_Hidden />
        </Flags>
        <Value>2</Value>
      </Integer>
      <Boolean Name="gs_full_edit">
        <Description><![CDATA["Bearbeitbare Fixpunkte"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>1</Value>
      </Boolean>
      <Integer Name="htspt">
        <Description><![CDATA["Fangpunktindex"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Hidden />
        </Flags>
        <Value>8000</Value>
      </Integer>
      <Integer Name="develop">
        <Description><![CDATA["Entwicklungsmodus"]]></Description>
        <Flags>
          <ParFlg_Child />
        </Flags>
        <Value>0</Value>
      </Integer>
      <!-- dorma_call: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->
      <Title Name="dorma_call">
        <Description><![CDATA["Macro Call Settings"]]></Description>
      </Title>
      <String Name="dk_frametype">
        <Description><![CDATA["Selected frame category"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value><![CDATA["BZ"]]></Value>
      </String>
      <Integer Name="macro_runtype">
        <Description><![CDATA["Parameter to specify the question"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="UIpage_number">
        <Description><![CDATA["Number of pages for output"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value>1</Value>
      </Integer>
      <Integer Name="Uipage">
        <Description><![CDATA["Page number"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value>0</Value>
      </Integer>
      <Integer Name="UIpage_parent">
        <Description><![CDATA["Parent page number"]]></Description>
        <Flags>
          <ParFlg_Child />
          <ParFlg_Unique />
        </Flags>
        <Value>0</Value>
      </Integer>
    </Parameters>
  </ParamSection>
  <Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
    <Author>©2016 Frank Beister, Hamburg, Germany</Author>
    <License>
      <Type>Commercial</Type>
      <Version>
      </Version>
    </License>
  </Copyright>
  <Keywords SectVersion="1" SectionFlags="0" SubIdent="0"><![CDATA[" "]]></Keywords>
  <!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->
  <Comment SectVersion="20" SectionFlags="0" SubIdent="0"><![CDATA[" "]]></Comment>
  <Picture MIME="image/png" path="ECD Chamäleon.png" SubIdent="0" SectVersion="19" SectionFlags="0">
  </Picture>
  <GDLPict MIME="image/png" path="dormakaba_grey 139x15.png" SubIdent="1" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_oberlicht_teilung 125x25.png" SubIdent="2" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_oberlicht 50x50.png" SubIdent="3" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_yes_no_na 72x18.png" SubIdent="4" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_frame_side_lock 120x25.png" SubIdent="5" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_frame_thick_lock 120x25.png" SubIdent="6" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_frame_width_lock 120x25.png" SubIdent="7" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_ui_falz_Zarge 180x360.png" SubIdent="8" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_frame_indentation 75x25.png" SubIdent="9" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
  <GDLPict MIME="image/png" path="dk_ui_sidefield_filling 75x25.png" SubIdent="10" platform="Win" SectVersion="19" SectionFlags="0">
  </GDLPict>
</Symbol>